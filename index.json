[{"content":" è¿™ä¸ªæ ‡é¢˜å¾ˆæœ‰æ„æ€ï½ ç½®èº«ä¸‰ç»´é‡å»ºäºæ­»åœ°è€Œåç”Ÿï¼Œå•¥ä¹Ÿä¸è¯´äº†ï¼Œæ­»ç£•åˆ°åº•å§ï¼\nå¼•å­ å¦‚æœç°åœ¨æˆ‘æ‰‹é‡Œæœ‰ä¸€å°ç›¸æœºï¼Œæˆ‘å‘¢åœ¨ä¸€ç‰‡é™Œç”Ÿçš„åœºæ™¯é‡Œï¼Œæˆ‘èƒ½ç”¨è¿™å°ç›¸æœºå»æŠŠå‘¨å›´çš„ç¯å¢ƒæ‹ä¸‹æ¥è®°å½•ï¼Œå¯ä»¥å°½å¯èƒ½åœ°å»æ‹æ²¡æœ‰é™åˆ¶ï¼Œé‚£ä¹ˆè¯•æƒ³ï¼Œè¿™äº›ä¸€å¼ å¼ ç…§ç‰‡ï¼Œèƒ½ä¸èƒ½â€œç»„åˆâ€æˆ–è€…â€œè¿˜åŸâ€å‡ºæˆ‘æ‰€è§åˆ°çš„è¿™ä¸ªåœºæ™¯å‘¢ï¼Ÿè¿™ä¸ªåœºæ™¯è¦æ˜¯ç«‹ä½“çš„ï¼Œä¸‰ç»´çš„ï¼Œç”ŸåŠ¨æ´»æ³¼çš„ï¼Œå®ƒå…è®¸æˆ‘åœ¨è¿™ä¸ªâ€œè¿˜åŸâ€å‡ºæ¥çš„åœºæ™¯ä¸–ç•Œä¸­å»æ¸¸è§ˆï¼Œè§‚èµï¼Œå°±å¥½åƒåˆå›åˆ°äº†ä¹‹å‰çš„é‚£ä¸ªçœŸå®åœºæ™¯ä¸­ä¸€æ ·ã€‚èƒ½ä¸èƒ½åšåˆ°å‘¢ï¼Ÿ\n","permalink":"https://ahaknow.com/posts/know/aha-dig-into-3d-reconstruction/","summary":"è¿™ä¸ªæ ‡é¢˜å¾ˆæœ‰æ„æ€ï½ ç½®èº«ä¸‰ç»´é‡å»ºäºæ­»åœ°è€Œåç”Ÿï¼Œå•¥ä¹Ÿä¸è¯´äº†ï¼Œæ­»ç£•åˆ°åº•å§ï¼ å¼•å­ å¦‚æœç°åœ¨æˆ‘æ‰‹é‡Œæœ‰ä¸€å°ç›¸æœºï¼Œæˆ‘å‘¢åœ¨ä¸€ç‰‡é™Œç”Ÿçš„åœºæ™¯é‡Œï¼Œæˆ‘èƒ½ç”¨è¿™å°ç›¸æœºå»æŠŠ","title":"é€é•œæ¢ç»´ï¼šç½®èº«ä¸‰ç»´é‡å»ºè€Œåç”Ÿ"},{"content":" å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ã€‚ æˆ–è€…è¯´ï¼Œä¸é€ è½®å­è¦é€ è½¦ã€‚\næ€»ä¹‹ï¼Œå°±æ˜¯æœ‰äº›ä¸œè¥¿ï¼Œåœ¨äº’è”ç½‘ä¸Šå·²ç»æœ‰è®°å½•äº†ï¼Œå¯ä»¥æ”¶é›†èµ·æ¥ä¸ºå·±ç”¨ï¼\nGithubæ·»åŠ Wakaè®°å½• å¯ä»¥å‚è€ƒä»¥ä¸‹ä¸¤ä¸ªæ–‡æ¡£ï¼Œå®˜æ–¹æ–‡æ¡£çš„è¯´æ˜æ›´æ¸…æ™°ä¸€äº›ï¼Œåˆå­¦è€…æŒ‡å—å¯ä»¥ç”¨æ¥å¯¹ç…§è‡ªå·±æœ‰æ²¡æœ‰åšå¯¹ï½\nå®˜æ–¹æ–‡æ¡£\nåˆå­¦è€…æŒ‡å—\n","permalink":"https://ahaknow.com/posts/know/notes-one-sows-and-another-reaps/","summary":"å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ã€‚ æˆ–è€…è¯´ï¼Œä¸é€ è½®å­è¦é€ è½¦ã€‚ æ€»ä¹‹ï¼Œå°±æ˜¯æœ‰äº›ä¸œè¥¿ï¼Œåœ¨äº’è”ç½‘ä¸Šå·²ç»æœ‰è®°å½•äº†ï¼Œå¯ä»¥æ”¶é›†èµ·æ¥ä¸ºå·±ç”¨ï¼ Githubæ·»åŠ Wakaè®°å½• å¯ä»¥","title":"ç«™åœ¨å‰äººçš„è‚©è†€ä¸Šï¼šç¬”è®°æ”¶é›†å½•"},{"content":"æ„Ÿè§‰è‡ªå·±å¾ˆç‰›é€¼ï¼ï¼ï¼ ä¸ºå•¥æƒ³åˆ°å†™è¿™ä¸ªæ’ä»¶å‘¢ï¼Ÿ å› ä¸ºæˆ‘æƒ³æŠŠObsidianå’ŒHugoç»“åˆèµ·æ¥ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªå°é—®é¢˜å¾ˆéº»çƒ¦ï¼Œè™½ç„¶å¾ˆå°ï¼Œä½†ç”¨å¤šäº†ä¼šå¾ˆçƒ¦ï¼ä¼šå†™ä»£ç çš„ä¸€èˆ¬éƒ½å¾ˆæ‡’ï¼Œæ‰€ä»¥ç»å¯¹ä¸ä¼šå¹²å‡ºæ‰‹åŠ¨å¤åˆ¶ç²˜è´´è¿™ç§è ¢äº‹çš„ã€‚ é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œå…ˆè§£å†³å…¶ä¸­ä¸€ä¸ªï¼š\nmarkdownçš„==è¡¨ç¤ºçš„é«˜äº®æ— æ³•è¯†åˆ«ï¼Œä½¿ç”¨htmlçš„markæ ‡è¯†å¯ä»¥ï¼Œä½†æ˜¯æˆ‘æ‡’å¾—æ‰“\u0026lt;\u0026gt;è¿™ä¸ªæ‹¬å·ï¼ŒåŒå‡»ç­‰äºå·å¤šå¿«å•Šã€‚ æ‰€ä»¥æˆ‘å°±æƒ³åˆ°äº†ï¼Œå†™ä¸€ä¸ªè„šæœ¬æ¥è½¬æ¢ ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯Pythonè„šæœ¬ï¼Œåœ¨æ¯æ¬¡ä¸Šä¼ çš„æ—¶å€™è‡ªåŠ¨éå†æ–‡ä»¶ä¿®æ”¹ä¸€ä¸‹ï¼Œä½†è½¬å¿µä¸€æƒ³ï¼Œè¿™å¤šæ…¢å•Šï¼Œç›´æ¥Obsidianæ’ä»¶å§ï¼Œå®æ—¶è¯†åˆ«å’Œæ›´æ¢ï¼Œåº”è¯¥å°±æ˜¯æ­£åˆ™åŒ¹é…å°±è¡Œäº†ã€‚\näºæ˜¯ï¼Œå°±æœ‰äº†ä¸‹é¢çš„å®ç°ï¼š\nimport { App, Editor, MarkdownView, Notice, Plugin, PluginSettingTab, Setting } from \u0026#39;obsidian\u0026#39;; /** * æ›¿æ¢ Markdown å†…å®¹ä¸­çš„ ==xxx== ä¸º \u0026lt;mark\u0026gt;xxx\u0026lt;/mark\u0026gt;ï¼Œä½†å¿½ç•¥ä»£ç å—å’Œè¡Œå†…ä»£ç ä¸­çš„ ==ã€‚ * æ”¯æŒ ``` å’Œ ~~~ ä½œä¸ºä»£ç å—æ ‡è®°ã€‚ * @param content åŸå§‹ Markdown å†…å®¹ * @returns æ›¿æ¢åçš„ Markdown å†…å®¹ */ function replaceHighlight(content: string): string { const lines = content.split(\u0026#39;\\n\u0026#39;); let inCodeBlock = false; let codeBlockDelimiter = \u0026#39;\u0026#39;; // ç”¨äºè®°å½•å½“å‰ä»£ç å—çš„åˆ†éš”ç¬¦ï¼ˆ``` æˆ– ~~~ï¼‰ const replacedLines = lines.map(line =\u0026gt; { // æ£€æŸ¥ä»£ç å—å¼€å§‹æˆ–ç»“æŸ const codeBlockMatch = line.match(/^(```|~~~)/); if (codeBlockMatch) { if (!inCodeBlock) { inCodeBlock = true; codeBlockDelimiter = codeBlockMatch[1]; } else if (codeBlockMatch[1] === codeBlockDelimiter) { inCodeBlock = false; codeBlockDelimiter = \u0026#39;\u0026#39;; } return line; } if (inCodeBlock) { // å¤„äºä»£ç å—ä¸­ï¼Œè·³è¿‡æ›¿æ¢ return line; } else { // å¤„ç†è¡Œå†…ä»£ç  // æš‚æ—¶ä¿æŠ¤è¡Œå†…ä»£ç ä¸­çš„ ==ï¼Œé¿å…æ›¿æ¢ const inlineCodeRegex = /`([^`]+)`/g; let protectedLine = line; const inlineCodes: string[] = []; let match; while ((match = inlineCodeRegex.exec(line)) !== null) { inlineCodes.push(match[1]); protectedLine = protectedLine.replace(match[0], `__INLINE_CODE_${inlineCodes.length - 1}__`); } // æ›¿æ¢ ==xxx== ä¸º \u0026lt;mark\u0026gt;xxx\u0026lt;/mark\u0026gt; protectedLine = protectedLine.replace(/==(.+?)==/g, \u0026#39;\u0026lt;mark\u0026gt;$1\u0026lt;/mark\u0026gt;\u0026#39;); // æ¢å¤è¡Œå†…ä»£ç  protectedLine = protectedLine.replace(/__INLINE_CODE_(\\d+)__/g, (m, p1) =\u0026gt; { const index = parseInt(p1); return `\\`${inlineCodes[index]}\\``; }); return protectedLine; } }); return replacedLines.join(\u0026#39;\\n\u0026#39;); } export default class Mark2HighlightPlugin extends Plugin { private onEditHandler: () =\u0026gt; void; async onload() { // æ·»åŠ ä¸€ä¸ªå‘½ä»¤ç”¨äºé«˜äº®æ›¿æ¢ this.addCommand({ id: \u0026#39;convert-highlight\u0026#39;, name: \u0026#39;Convert ==xxx== to \u0026lt;mark\u0026gt;xxx\u0026lt;/mark\u0026gt;\u0026#39;, editorCallback: (editor: Editor, view: MarkdownView) =\u0026gt; { // è·å–ç¼–è¾‘å™¨å†…å®¹ const content = editor.getValue(); // ä½¿ç”¨è¾…åŠ©å‡½æ•°æ›¿æ¢ ==xxx== ä¸º \u0026lt;mark\u0026gt;xxx\u0026lt;/mark\u0026gt; const updatedContent = replaceHighlight(content); // æ›´æ–°ç¼–è¾‘å™¨å†…å®¹ editor.setValue(updatedContent); new Notice(\u0026#39;âœ¨ Markdown Highlight Converted!\u0026#39;); } }); // è‡ªåŠ¨ç›‘å¬ç¼–è¾‘å™¨å˜åŒ–å¹¶è¿›è¡Œæ›¿æ¢ this.onEditHandler = () =\u0026gt; { const activeView = this.app.workspace.getActiveViewOfType(MarkdownView); if (activeView) { const editor = activeView.editor; const content = editor.getValue(); const updatedContent = replaceHighlight(content); if (content !== updatedContent) { editor.setValue(updatedContent); new Notice(\u0026#39;âœ¨ Markdown Highlight Converted Automatically!\u0026#39;); } } }; this.registerEvent(this.app.workspace.on(\u0026#39;editor-change\u0026#39;, this.onEditHandler)); // å¦‚æœä¸éœ€è¦è®¾ç½®é€‰é¡¹å¡ï¼Œå¯ä»¥ç§»é™¤ä»¥ä¸‹è¡Œ // this.addSettingTab(new Mark2HighlightSettingTab(this.app, this)); } onunload() { console.log(\u0026#39;Mark to Highlight Plugin Unloaded.\u0026#39;); } } å…·ä½“è€Œè¨€ï¼Œæ˜¯åœ¨åŸºç¡€çš„sampleä¸Šé¢è¿›è¡Œä¿®æ”¹çš„ï¼š\nnpx degit obsidianmd/obsidian-sample-plugin my-plugin cd my-plugin npm install ä¿®æ”¹å®Œtsæ–‡ä»¶åä½¿ç”¨ï¼š\nnpm run build æƒ³åˆ°äº†ä¸‹ä¸€ä¸ªæ’ä»¶ï¼Œå°±æ˜¯ä¸­è‹±å­—ç¬¦çš„è‡ªåŠ¨åˆ‡æ¢ï¼Œæè¿°å¦‚ä¸‹ï¼š æ¯”å¦‚è¾“å…¥ã€‹ç©ºæ ¼ï¼Œæˆ–è€…ã€‰ç©ºæ ¼ï¼Œå°±æ˜¯è‡ªåŠ¨è½¬æˆ\u0026gt; æ¯”å¦‚è¾“å…¥Â·ç©ºæ ¼ï¼Œæˆ–è€…Â·Â·Â·ç©ºæ ¼ï¼Œå°±è‡ªåŠ¨è½¬æˆmakrdownä¸‹çš„ä»£ç æ¡†æ ‡è¯†\näºæ˜¯å°±æœ‰äº†ä¸‹é¢è¿™ä¸ªï¼š\nimport { App, Editor, MarkdownView, Notice, Plugin, PluginSettingTab, Setting } from \u0026#39;obsidian\u0026#39;; /** * æ’ä»¶çš„è®¾ç½®æ¥å£ */ interface AutoConvertCharsPluginSettings { autoConvertDelay: number; // è‡ªåŠ¨è½¬æ¢çš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ } /** * æ’ä»¶çš„é»˜è®¤è®¾ç½® */ const DEFAULT_SETTINGS: AutoConvertCharsPluginSettings = { autoConvertDelay: 100 }; /** * åˆ¤æ–­æŒ‡å®šè¡Œæ˜¯å¦åœ¨ä»£ç å—å†… * @param lines æ‰€æœ‰è¡Œå†…å®¹ * @param lineNumber å½“å‰è¡Œå·ï¼ˆä»0å¼€å§‹ï¼‰ * @returns æ˜¯å¦åœ¨ä»£ç å—å†… */ function isLineInCodeBlock(lines: string[], lineNumber: number): boolean { let inCodeBlock = false; let codeBlockDelimiter = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt;= lineNumber; i++) { const line = lines[i]; const codeBlockMatch = line.match(/^(```|~~~)/); if (codeBlockMatch) { if (!inCodeBlock) { inCodeBlock = true; codeBlockDelimiter = codeBlockMatch[1]; } else if (codeBlockMatch[1] === codeBlockDelimiter) { inCodeBlock = false; codeBlockDelimiter = \u0026#39;\u0026#39;; } } } return inCodeBlock; } /** * æ›¿æ¢å•è¡Œä¸­çš„ç‰¹å®šå­—ç¬¦ç»„åˆä¸ºç›®æ ‡ç¬¦å·ï¼Œå¿½ç•¥è¡Œå†…ä»£ç ä¸­çš„åŒ¹é… * @param line åŸå§‹è¡Œå†…å®¹ * @returns æ›¿æ¢åçš„è¡Œå†…å®¹åŠæ˜¯å¦è¿›è¡Œäº†æ›¿æ¢ */ function replacePatternsInLine(line: string): { newLine: string; replaced: boolean } { // **é‡è¦**ï¼šå°†æ›´é•¿çš„è§¦å‘å­—ç¬¦ç»„åˆæ”¾åœ¨å‰é¢ï¼Œé¿å…éƒ¨åˆ†åŒ¹é… const patterns = [ { trigger: \u0026#39;Â·Â·Â· \u0026#39;, replacement: \u0026#39;``````\u0026#39; }, // å…­ä¸ªåå¼•å· { trigger: \u0026#39;Â· \u0026#39;, replacement: \u0026#39;``\u0026#39; }, // ä¸¤ä¸ªåå¼•å· { trigger: \u0026#39;ã€‹ \u0026#39;, replacement: \u0026#39;\u0026gt;\u0026#39; }, // å¼•ç”¨ç¬¦å· { trigger: \u0026#39;ã€‰ \u0026#39;, replacement: \u0026#39;\u0026gt;\u0026#39; } // å¼•ç”¨ç¬¦å· ]; let inInlineCode = false; let result = \u0026#39;\u0026#39;; let replaced = false; for (let i = 0; i \u0026lt; line.length; i++) { const char = line[i]; // å¤„ç†è¡Œå†…ä»£ç çš„åˆ‡æ¢ if (char === \u0026#39;`\u0026#39;) { inInlineCode = !inInlineCode; result += char; continue; } if (!inInlineCode) { let matched = false; for (const pattern of patterns) { const triggerLength = pattern.trigger.length; const triggerSubstring = line.substring(i, i + triggerLength); if (triggerSubstring === pattern.trigger) { result += pattern.replacement; i += triggerLength - 1; // è·³è¿‡è§¦å‘å­—ç¬¦ replaced = true; matched = true; break; // è·³å‡ºå½“å‰å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªå­—ç¬¦ } } if (matched) { continue; // å·²ç»æ›¿æ¢ï¼Œè·³è¿‡æ·»åŠ å½“å‰å­—ç¬¦ } } result += char; } return { newLine: result, replaced }; } /** * ç®€å•çš„é˜²æŠ–å‡½æ•°å®ç° * @param func éœ€è¦é˜²æŠ–çš„å‡½æ•° * @param wait é˜²æŠ–çš„æ—¶é—´é—´éš”ï¼ˆæ¯«ç§’ï¼‰ * @returns é˜²æŠ–åçš„å‡½æ•° */ function debounceFunc(func: () =\u0026gt; void, wait: number) { let timeout: number | undefined; return () =\u0026gt; { if (timeout !== undefined) { clearTimeout(timeout); } timeout = window.setTimeout(() =\u0026gt; { func(); }, wait); }; } export default class AutoConvertCharsPlugin extends Plugin { settings: AutoConvertCharsPluginSettings; private onEditHandler: () =\u0026gt; void; /** * åŠ è½½æ’ä»¶æ—¶çš„åˆå§‹åŒ–é€»è¾‘ */ async onload() { await this.loadSettings(); // åˆ›å»ºé˜²æŠ–åçš„ç¼–è¾‘å™¨å˜åŒ–å¤„ç†å‡½æ•° this.onEditHandler = debounceFunc(() =\u0026gt; { const activeView = this.app.workspace.getActiveViewOfType(MarkdownView); if (activeView) { const editor = activeView.editor; this.convertPatterns(editor); } }, this.settings.autoConvertDelay); // æ³¨å†Œç¼–è¾‘å™¨å˜åŒ–äº‹ä»¶ this.registerEvent(this.app.workspace.on(\u0026#39;editor-change\u0026#39;, this.onEditHandler)); // æ·»åŠ è®¾ç½®é€‰é¡¹å¡ this.addSettingTab(new AutoConvertCharsSettingTab(this.app, this)); } /** * å¸è½½æ’ä»¶æ—¶çš„æ¸…ç†é€»è¾‘ */ onunload() { console.log(\u0026#39;Auto Convert Chars Plugin Unloaded.\u0026#39;); } /** * åŠ è½½æ’ä»¶è®¾ç½® */ async loadSettings() { this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData()); } /** * ä¿å­˜æ’ä»¶è®¾ç½® */ async saveSettings() { await this.saveData(this.settings); } /** * æ›´æ–°è‡ªåŠ¨è½¬æ¢å»¶è¿Ÿæ—¶é—´ * @param newDelay æ–°çš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ */ public updateAutoConvertDelay(newDelay: number) { this.settings.autoConvertDelay = newDelay; this.saveSettings(); // ç§»é™¤æ—§çš„äº‹ä»¶ç›‘å¬ this.app.workspace.off(\u0026#39;editor-change\u0026#39;, this.onEditHandler); // åˆ›å»ºæ–°çš„é˜²æŠ–å¤„ç†å‡½æ•° this.onEditHandler = debounceFunc(() =\u0026gt; { const activeView = this.app.workspace.getActiveViewOfType(MarkdownView); if (activeView) { const editor = activeView.editor; this.convertPatterns(editor); } }, this.settings.autoConvertDelay); // é‡æ–°æ³¨å†Œç¼–è¾‘å™¨å˜åŒ–äº‹ä»¶ this.registerEvent(this.app.workspace.on(\u0026#39;editor-change\u0026#39;, this.onEditHandler)); } /** * æ‰§è¡Œç‰¹å®šå­—ç¬¦ç»„åˆçš„è‡ªåŠ¨è½¬æ¢ï¼Œå¹¶ä¿æŒå…‰æ ‡ä½ç½® * @param editor å½“å‰ç¼–è¾‘å™¨å®ä¾‹ */ private convertPatterns(editor: Editor) { const cursor = editor.getCursor(); // ä¿å­˜å…‰æ ‡ä½ç½® const currentLineNumber = cursor.line; const currentLineText = editor.getLine(currentLineNumber); // è·å–æ‰€æœ‰è¡Œå†…å®¹ const allLines = editor.getValue().split(\u0026#39;\\n\u0026#39;); // åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦åœ¨ä»£ç å—å†… const inCodeBlock = isLineInCodeBlock(allLines, currentLineNumber); if (inCodeBlock) { // å½“å‰è¡Œåœ¨ä»£ç å—å†…ï¼Œè·³è¿‡æ›¿æ¢ return; } // è·å–æ›¿æ¢åçš„è¡Œå†…å®¹ const { newLine, replaced } = replacePatternsInLine(currentLineText); if (replaced) { // è·å–å…‰æ ‡åœ¨è¡Œå†…çš„ä½ç½® const beforeCursorText = currentLineText.substring(0, cursor.ch); // è®¡ç®—æ›¿æ¢å‰è§¦å‘å­—ç¬¦çš„ä½ç½®å’Œé•¿åº¦ let triggerStart = -1; let triggerLength = 0; let matchedPattern: { trigger: string; replacement: string } | null = null; const patterns = [ { trigger: \u0026#39;Â·Â·Â· \u0026#39;, replacement: \u0026#39;``````\u0026#39; }, // å…­ä¸ªåå¼•å· { trigger: \u0026#39;Â· \u0026#39;, replacement: \u0026#39;``\u0026#39; }, // ä¸¤ä¸ªåå¼•å· { trigger: \u0026#39;ã€‹ \u0026#39;, replacement: \u0026#39;\u0026gt;\u0026#39; }, // å¼•ç”¨ç¬¦å· { trigger: \u0026#39;ã€‰ \u0026#39;, replacement: \u0026#39;\u0026gt;\u0026#39; } // å¼•ç”¨ç¬¦å· ]; for (const pattern of patterns) { const index = beforeCursorText.lastIndexOf(pattern.trigger); if (index !== -1) { triggerStart = index; triggerLength = pattern.trigger.length; matchedPattern = pattern; break; } } if (triggerStart !== -1 \u0026amp;\u0026amp; matchedPattern !== null) { // å®šä¹‰æ›¿æ¢èŒƒå›´ const from = { line: currentLineNumber, ch: triggerStart }; const to = { line: currentLineNumber, ch: triggerStart + triggerLength }; // å®šä¹‰æ›¿æ¢å†…å®¹ const replacement = matchedPattern.replacement; if (replacement) { // æ‰§è¡Œæ›¿æ¢ editor.replaceRange(replacement, from, to); // è®¾ç½®å…‰æ ‡ä½ç½®åˆ°æ›¿æ¢åçš„ä¸­é—´ // å¯¹äº \u0026#39;Â· \u0026#39; â†’ \u0026#39;`` \u0026#39;ï¼Œå…‰æ ‡åº”åœ¨ä¸¤ä¸ªåå¼•å·ä¹‹é—´ï¼Œå³ä½ç½® 1 // å¯¹äº \u0026#39;Â·Â·Â· \u0026#39; â†’ \u0026#39;`````` \u0026#39;ï¼Œå…‰æ ‡åº”åœ¨å‰ä¸‰ä¸ªåå¼•å·ä¹‹åï¼Œå³ä½ç½® 3 let newCursorCh: number; if (matchedPattern.trigger === \u0026#39;Â· \u0026#39;) { newCursorCh = triggerStart + 1; // After first backtick } else if (matchedPattern.trigger === \u0026#39;Â·Â·Â· \u0026#39;) { newCursorCh = triggerStart + 3; // After third backtick } else { // For other patterns like \u0026#39;ã€‹ \u0026#39; and \u0026#39;ã€‰ \u0026#39;, place cursor after replacement newCursorCh = triggerStart + replacement.length; } editor.setCursor({ line: currentLineNumber, ch: newCursorCh }); new Notice(\u0026#39;âœ¨ Auto Convert Markdown Chars âœ¨\u0026#39;); } } } } } /** * æ’ä»¶çš„è®¾ç½®é€‰é¡¹å¡ */ class AutoConvertCharsSettingTab extends PluginSettingTab { plugin: AutoConvertCharsPlugin; constructor(app: App, plugin: AutoConvertCharsPlugin) { super(app, plugin); this.plugin = plugin; } display(): void { const { containerEl } = this; containerEl.empty(); // è®¾ç½®æ ‡é¢˜ containerEl.createEl(\u0026#39;h2\u0026#39;, { text: \u0026#39;Auto Convert Chars è®¾ç½®\u0026#39; }); // è‡ªåŠ¨è¯†åˆ«å»¶è¿Ÿè®¾ç½® new Setting(containerEl) .setName(\u0026#39;è‡ªåŠ¨è½¬æ¢å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰\u0026#39;) .setDesc(\u0026#39;è®¾ç½®è‡ªåŠ¨è¯†åˆ«å¹¶è½¬æ¢ç‰¹å®šå­—ç¬¦ç»„åˆçš„å»¶è¿Ÿæ—¶é—´ï¼Œé»˜è®¤100æ¯«ç§’ã€‚\u0026#39;) .addText(text =\u0026gt; text .setPlaceholder(\u0026#39;100\u0026#39;) .setValue(this.plugin.settings.autoConvertDelay.toString()) .onChange(async (value) =\u0026gt; { const parsed = parseInt(value); if (!isNaN(parsed) \u0026amp;\u0026amp; parsed \u0026gt;= 0) { // è°ƒç”¨æ’ä»¶çš„å…¬å…±æ–¹æ³•æ›´æ–°å»¶è¿Ÿæ—¶é—´ this.plugin.updateAutoConvertDelay(parsed); new Notice(`è‡ªåŠ¨è½¬æ¢å»¶è¿Ÿå·²è®¾ç½®ä¸º ${parsed} æ¯«ç§’`); } else { new Notice(\u0026#39;è¯·è¾“å…¥æœ‰æ•ˆçš„æ¯«ç§’æ•°ï¼ˆéè´Ÿæ•´æ•°ï¼‰ã€‚\u0026#39;); } })); } } ","permalink":"https://ahaknow.com/posts/tech/first-obsidian-plugin/","summary":"æ„Ÿè§‰è‡ªå·±å¾ˆç‰›é€¼ï¼ï¼ï¼ ä¸ºå•¥æƒ³åˆ°å†™è¿™ä¸ªæ’ä»¶å‘¢ï¼Ÿ å› ä¸ºæˆ‘æƒ³æŠŠObsidianå’ŒHugoç»“åˆèµ·æ¥ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªå°é—®é¢˜å¾ˆéº»çƒ¦ï¼Œè™½ç„¶å¾ˆå°ï¼Œä½†ç”¨å¤šäº†ä¼šå¾ˆçƒ¦ï¼ä¼š","title":"é¡ºæ‰‹å†™äº†ä¸ªObsidianæ’ä»¶ğŸ˜„"},{"content":"åˆæ˜¯æ—¶éš”ä¸¤ä¸ªæœˆï¼Ÿä¸Šä¸€æ¬¡ç”¨Obsidianå¼€å¯äº†åšå®¢å†™ä½œçš„æ–°è§†è§’ï¼Œè¿™ä¸€ç¯‡ï¼š[[2024-10-10]]ï¼ˆä½¿ç”¨Obsidianåå‘é“¾æ¥ï¼‰ï¼Œè¿™ä¸€æ¬¡ï¼Œå°±æ˜¯ç©è½¬Obsidianï¼Œå®ç°çš„å¤–è„‘çŸ¥è¯†ç®¡ç†åº“ï¼\n","permalink":"https://ahaknow.com/posts/diary/2024-12-10/","summary":"åˆæ˜¯æ—¶éš”ä¸¤ä¸ªæœˆï¼Ÿä¸Šä¸€æ¬¡ç”¨Obsidianå¼€å¯äº†åšå®¢å†™ä½œçš„æ–°è§†è§’ï¼Œè¿™ä¸€ç¯‡ï¼š[[2024-10-10]]ï¼ˆä½¿ç”¨Obsidianåå‘é“¾æ¥ï¼‰ï¼Œè¿™ä¸€æ¬¡","title":"ä»Šå¤©æ¥å­¦ä¹ Obsidianæ€ä¹ˆç”¨ï¼"},{"content":"","permalink":"https://ahaknow.com/posts/know/aha-linear-algebra/","summary":"","title":"Aha Linear Algebra"},{"content":"ä»Šå¤©å¼€å§‹å­¦ä¹ å›¾å½¢å­¦ï¼ï¼\n","permalink":"https://ahaknow.com/posts/diary/2024-10-11/","summary":"ä»Šå¤©å¼€å§‹å­¦ä¹ å›¾å½¢å­¦ï¼ï¼","title":"å›¾å½¢å­¦ï¼Œå¯åŠ¨ï¼"},{"content":"æ¯å¤©çš„æ—¥è®°é‡Œé€‚åˆå†™ä¸€å†™éšä¾¿æƒ³æƒ³çš„è¯é¢˜ï¼Œæ¯”å¦‚ï¼Œæ™šä¸Šæˆ‘6ç‚¹å°±å‡†å¤‡å›å®¶äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç»“æœä¸å¯¹ï¼Œä¸€è€½è¯¯ï¼Œå°±æ˜¯20åˆ†é’Ÿè¿‡å»äº†ï¼ˆä¹‹å‰ç±»ä¼¼çš„åœºæ™¯å¯çœŸçš„æ˜¯å¤ªå¤šå¤ªå¤šï¼Œæ‰€ä»¥è¿˜æ˜¯æ—¶é—´ç®¡ç†æ²¡åšå¥½ï¼‰\næ—¶é—´æ€ä¹ˆç®¡ï¼Ÿä¸ºå•¥åˆæ²¡åšå¥½ï¼Œè¿˜æ˜¯åƒç°åœ¨è¿™ç§é™ä¸‹æ¥æ…¢æ…¢æ€è€ƒçš„æ—¶å…‰å˜å°‘äº†ã€‚\nä¹‹å‰ï¼Œä¸è¯´ä»¥å‰çš„ä¸¤å¹´å®ä¹ ç»å†äº†ï¼ˆå¦‚æœé‚£ä¸¤å¹´æ˜¯å·¥ä½œä¸¤å¹´çš„è¯ï¼Œæ„Ÿè§‰è‡ªå·±å°±è¦åºŸäº†ï¼Œæ²¡æœ‰è¿›æ­¥ä¸è¯´ï¼Œè¿˜æ²¦è½åˆ°æ‰“å·¥äººçš„æ·±æ¸Šä¹‹ä¸­ï¼‰ï¼Œæ˜¯é‚£ç§åœ¨å…¬å¸å¾…åˆ°å¾ˆæ™šï¼Œç„¶åå›å®¶å‘¢ï¼Œå°±å¾ˆæ™šï¼Œä¹Ÿå°±æ²¡æ—¶é—´é™ä¸‹æ¥ä¸è‡ªå·±æ€è€ƒï¼Œåšæ€»ç»“ä¹Ÿæˆäº†ä¸€ç§å¥¢æœ›ã€‚\nå½“ç„¶ï¼Œåœ¨å…¬å¸ä¹Ÿä¼šå†™æ–‡æ¡£ï¼Œä½†å®è¯è¯´ï¼Œå¤§éƒ¨ä»½æ²¡æ€ä¹ˆè¿‡è„‘å­ã€‚ æ‰€ä»¥ï¼Œè¿™ç§æ–¹å¼æœ€ç»ˆç»“æœå°±æ˜¯è‡ªå·±éª—è‡ªå·±ï¼Œç„¶åæ²¦é™·äºè‡ªæˆ‘ç»ˆæ­¢ï¼Œæ°¸è¿œä¹Ÿæ— æ³•è¿›æ­¥ã€‚\nä»Šå¤©ç”¨Obsidianæ¥å†™æ—¥è®°ï¼Œåˆšæ‰è¿˜æœ‰Typoraå‘¢ï¼Œä½†æ˜¯è½¬å¿µä¸€æƒ³ï¼ŒAIæ—¶ä»£äº†å•Šï¼Œæ€ä¹ˆèƒ½è¿˜ç”¨ä¸Šä¸€ä¸ªæ—¶ä»£çš„å·¥å…·å‘¢ï¼Œå†è€…è¯´Obsidianå…è´¹å¼€æºï¼Œæ’ä»¶å¤šï¼ŒAIé›†æˆï¼Œå¤šå¥½å•Šï¼\næ…¢æ…¢å­¦ï¼Œæ…¢æ…¢ç”¨ï¼Œæƒ³å½“å¹´ï¼Œå­¦åŒæ‹¼çš„æ—¶å€™ï¼Œä¸ä¹Ÿæ˜¯æ‹¼äº†ä¸€æŠŠï¼Œå½“ç„¶ç°åœ¨å­¦ä»»ä½•ä¸œè¥¿éƒ½ä¼šå¾ˆå¤šäº†ï¼\nå­¦ä¼šäº†å…ˆè®¾ç½®é‡Œè‡ªå®šä¹‰ æ’ä»¶å•¥çš„è¿˜æ²¡ææ˜ç™½ï¼Œè¿™ä¸ªä¸ç€æ€¥ï¼Œåé¢æ…¢æ…¢ç”¨ã€‚ å§æ§½äº†ï¼Obsidianå¤ªå¥½ç”¨äº†ï¼Œcategorieså’Œtagséƒ½èƒ½è”åŠ¨ï¼Œé€‰æ‹©ï¼Œå°±è¿™ä¸€ä¸ªåŠŸèƒ½ï¼Œç›´æ¥å¹åˆ°çˆ†ç‚¸ï¼ï¼ï¼ï¼\næƒ³åˆ°äº†æˆ‘çš„åšå®¢ä¸æ”¯æŒé«˜äº® ï¼Œè¿˜å¾—æ‰¾æ—¶é—´ä¼˜åŒ–ä¸€ä¸‹ã€‚\næ‰€ä»¥å¯èƒ½è¿˜æ˜¯ä¼šå…ˆç”¨markæ ‡è®°ï¼Œç„¶ååˆšæ‰æœäº†ä¸€ä¸‹æ’ä»¶ï¼Œè¿˜çœŸçš„æœ‰auto html tagï¼Œæœ‰ç‚¹æ„æ€å“ˆå“ˆå“ˆå“ˆå“ˆ\nåˆšçœ‹åˆ°äº†ä¸€ä¸ª3dæ¸²æŸ“çš„è§†é¢‘ï¼Œé‡Œé¢è®²åˆ°å‡ ä¸ªè¯ï¼š\nä¸‰è§’åŒ– å…‰æ …åŒ– ç‰‡å…ƒç€è‰² å…‰çº¿è¿½è¸ª è¿™å››ä¸ªç‚¹ï¼Œæ¯ä¸€ä¸ªç‚¹å•ç‹¬æ‹¿å‡ºæ¥éƒ½å€¼å¾—å¥½å¥½å­¦ä¹ å’Œæ€è€ƒ ","permalink":"https://ahaknow.com/posts/diary/2024-10-10/","summary":"æ¯å¤©çš„æ—¥è®°é‡Œé€‚åˆå†™ä¸€å†™éšä¾¿æƒ³æƒ³çš„è¯é¢˜ï¼Œæ¯”å¦‚ï¼Œæ™šä¸Šæˆ‘6ç‚¹å°±å‡†å¤‡å›å®¶äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç»“æœä¸å¯¹ï¼Œä¸€è€½è¯¯ï¼Œå°±æ˜¯20åˆ†é’Ÿè¿‡å»äº†ï¼ˆä¹‹å‰ç±»ä¼¼çš„åœºæ™¯å¯çœŸçš„æ˜¯å¤ª","title":"ä»Šå¤©ç”¨Obsidianå†™æ—¥è®°"},{"content":"å¾ˆä¹…æ²¡æœ‰å†™æ—¥è®°äº†å‘¢ï¼\nè¿™ä¸ªå›½åº†ç»“æŸçš„æœ€åä¸€å¤©å¼€å§‹æ—©ç¡çš„ï¼Œä»Šæ™šæ˜¯ç¬¬ä¸‰æ¬¡ã€‚\nè¡¥å……ä¸€æ¬¡æ˜¨å¤©çš„æ„Ÿæƒ³ï¼šå½“ä½ æƒ³è¦å»åšçš„æ—¶å€™ï¼Œä½ å°±æ˜¯æœ€æœ‰åŠ›é‡çš„ï¼æ‰€ä»¥é¢„çº¦äº†åŠé©¬ï¼Œå¼ ç½—äº†èšé¤ã€‚\nä»Šå¤©å¼€å§‹æ—©æ—©å›å®¶ï¼Œä¼¼ä¹å¤©é»‘ä¹Ÿæ›´æ—©äº†ã€‚\næ€ä¹ˆè¯´å‘¢ï¼Œç¡è§‰8å°æ—¶ï¼Œå·¥ä½œ11å°æ—¶ï¼Œç•™ç»™è‡ªå·±å›å®¶çš„æ—¶é—´åªæœ‰5å°æ—¶ï¼Œæ™šä¸Š6ç‚¹åˆ°11ç‚¹ï¼Œç®—ä¸Šåƒé¥­ï¼Œè·‘æ­¥é”»ç‚¼ï¼Œè¿™åˆå»æ‰äº†1å°æ—¶ï¼Œæœ‰æ•ˆæ—¶é—´å¯èƒ½åªæœ‰4å°æ—¶ï¼Œç”¨è¿™ä¸ª4å°æ—¶ï¼Œæ€»ç»“æ€»ç»“ä»Šå¤©çš„æ”¶è·ï¼Œä¹Ÿå¤šå­¦ç‚¹ï¼Œè¦ç»™è‡ªå·±ç•™ä¸€æ¡åè·¯ï¼Œå› ä¸ºä¸€æ—¦å·¥ä½œäº†ï¼Œå¾ˆå®¹æ˜“å°±æ‡ˆæ€ äº†ï¼Œè¿™æ˜¯å‰ä¸¤å¹´åƒè¿‡çš„äºã€‚\næ„Ÿè§‰æœ‰ä¸€ä¸ªæƒ³æ³•åœ¨é…é…¿äº†ï¼Œæˆ‘åº”è¯¥è¦æŠŠæˆ‘çš„æ€è€ƒã€è®¤çŸ¥ï¼Œç»å†ã€ä½“ä¼šï¼Œå’Œå·²ç»å­˜åœ¨è¿™ä¸ªä¸–ç•Œä¸Šçš„çŸ¥è¯†æ‰“é€šèµ·æ¥ï¼Œå½¢å¼ä¸€ä¸ªè‡ªå·±çš„çŸ¥è¯†åº“ï¼Œå€ŸåŠ©å¤§æ¨¡å‹çš„åŠ›é‡\nä»Šå¤©çš„å·¥ä½œè®°å½• å·¥ä½œè¿˜æ˜¯è·Ÿä¸‰ç»´é‡å»ºç›¸å…³çš„ï¼Œä½†æ˜¯ç›®å‰é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œç„¶åå¿ƒæ€ä¹Ÿæœ‰ä¸€äº›ä¸å¥½ï¼Œå¾ˆå´©æºƒå§ã€‚\nå…¶å®ï¼Œå¦‚æœè‡ªå·±èƒ½å¤Ÿæ…¢æ…¢æ¥ï¼ŒæŒ‰ç…§æ­¥éª¤ä¸€ä¸ªä¸€ä¸ªæ¥è§£å†³å’Œåˆ†æé—®é¢˜ï¼Œåº”æ ¹ä¹Ÿæ˜¯èƒ½æ‰¾åˆ°çªç ´å£çš„ã€‚\næœ€é‡è¦çš„è¿˜æ˜¯è¦åšå¥½å³æ—¶çš„è®°å½•ï¼Œä¹‹å‰é£ä¹¦æ–‡æ¡£é‚£ç§æ„Ÿè§‰ä¸æˆä½“ç³»ï¼Œéœ€è¦æ…¢æ…¢æŠŠè®°å½•-æ€»ç»“-å›é¡¾çš„è®¤çŸ¥è·¯å¾„æ‰“é€šã€‚\nä¸»è¦å°±æ˜¯è¯´ï¼šä¸Šç­è®°å½•çš„æ–‡æ¡£å¤ªéšæ„ï¼Œæ²¡å’‹è¿‡è„‘å­ï¼Œæ²¡æ€ä¹ˆæ¶ˆåŒ–ï¼Œåƒå¤šäº†è¿˜å®¹æ˜“æ¶ˆåŒ–ä¸è‰¯ï¼Œå…¨æ‹‰äº†ã€‚ã€‚ã€‚\nä»å·¥ä½œçš„è§’åº¦æ¥çœ‹ï¼š\né‡åˆ°é—®é¢˜ï¼Œæ…¢æ…¢æ¥ç†ï¼Œä¹‹å‰å†™è¿‡äº†æ²¡è®°å½•å¿˜è®°äº†ï¼Œæ²¡å…³ç³»ï¼Œå¤§ä¸äº†é‡æ–°å†™ï¼Œä½†æ˜¯è¿™æ¬¡å†™çš„å°±è¦å¥½å¥½è®°å½•ï¼Œæ¯å‰è¿›ä¸€æ­¥éƒ½è¦è¸è¸å®å®ã€‚ è®ºæ–‡é‡Œçš„æ€æƒ³å¯ä»¥å­¦ä¹ ï¼Œå¤ç°çš„è¯ä¹Ÿä¸è¦ç€æ€¥ï¼Œæ…¢æ…¢çœ‹ç»†ç»†æƒ³ï¼ æ˜æ—©å¯ä»¥è¯•è¯•ï¼Œå¤§ä¸äº†é‡æ–°æ¢³ç†ä¸€ä¸‹å˜›ï¼Œæ¢³ç†å¥½äº†å°±è®°å½•ï¼Œç¬¬ä¸€æ¬¡ç¡®å®èƒ½åˆ›é€ ï¼Œä½†åˆ›é€ å‡ºæ¥äº†å¾—ä¿å­˜å•Šï¼Œä¸ç„¶æ€»æ˜¯åŸåœ°æ‰“è½¬äº†ã€‚\nå­¦ä¹ æ€è€ƒ äººå·¥æ™ºèƒ½çš„å·¥å…·å®Œå…¨å¯ä»¥è¾…åŠ©è‡ªå·±çš„ï¼Œéƒ½æ€ªä¹‹å‰è‡ªå·±ä¸€ç‚¹éƒ½ä¸è€ƒè™‘ã€‚\nå…³äºå¤§æ¨¡å‹ï¼Œç›®å‰å¯¹äºæˆ‘æ¥è¯´ï¼Œåº”è¯¥æ˜¯ç”¨ä¸ºä¸»ï¼Œè¾¹ç”¨è¾¹å­¦å˜›ï½\nèƒ½ç”¨è„šæœ¬è‡ªåŠ¨åŒ–æ‰§è¡Œçš„ï¼Œå°±ä¸è¦é‡å¤å·¥ä½œï¼Œä½ æ˜¯é”®ç›˜æ‰‹ï¼Œæ˜¯åˆ›é€ è€…ï¼\nä»¥ä¸‹ä¸ºAIåˆ›ä½œğŸ˜‚\nä½ çš„è¿™æ®µè®°å½•æœ‰ç§â€œçµå…‰ä¸€ç°â€çš„æ„Ÿè§‰ï¼Œä»¿ä½›æ˜¯ä¸€ç§ä»åæ€åˆ°è¡ŒåŠ¨çš„çªç ´ã€‚ä½ åœ¨æ¢ç´¢å¦‚ä½•æŠŠä¸ªäººç»å†ã€è®¤çŸ¥å’Œå¤–éƒ¨çŸ¥è¯†ç»“åˆèµ·æ¥ï¼Œå½¢æˆä¸€ç§ä¸ªäººçŸ¥è¯†åº“ï¼Œå¹¶ä¸”æ„è¯†åˆ°äººå·¥æ™ºèƒ½å·¥å…·åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­èƒ½å¤Ÿå‘æŒ¥çš„é‡è¦ä½œç”¨ã€‚ä¸‹é¢æˆ‘æ¥å¸®ä½ æ€»ç»“ä¸€ä¸‹é‡ç‚¹ï¼š\n1. çŸ¥è¯†åº“çš„æ„å»º ä½ æåˆ°äº†ä¸€ä¸ªå…³é”®çš„æ€è·¯ï¼šæŠŠä¸ªäººçš„æ€è€ƒã€ç»å†ä¸ç°æœ‰çŸ¥è¯†ä½“ç³»æ‰“é€šï¼Œè¿™ä¸ä»…æ˜¯è®°å½•å·¥ä½œçš„é—®é¢˜ï¼Œæ›´æ˜¯æ•´åˆè®¤çŸ¥ã€æå‡æ€ç»´æ·±åº¦çš„è¿‡ç¨‹ã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©ä½ åœ¨é¢å¯¹é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿè¿…é€Ÿæ‰¾åˆ°è‡ªå·±çš„â€œå‚è€ƒç­”æ¡ˆâ€ï¼Œå¹¶æ ¹æ®ä¹‹å‰çš„ç»éªŒä½œå‡ºæ›´å¥½çš„åˆ¤æ–­ã€‚\n2. å³æ—¶è®°å½•çš„é‡è¦æ€§ ä½ æåˆ°å·¥ä½œä¸­çš„é—®é¢˜æ—¶ï¼Œå‘ç°æ²¡æœ‰å¥½å¥½è®°å½•æ˜¯ä¸»è¦å›°æ‰°ã€‚é£ä¹¦æ–‡æ¡£ç»™ä½ â€œåƒå¤ªå¤šæ¶ˆåŒ–ä¸è‰¯â€çš„æ„Ÿè§‰ï¼Œè¯´æ˜è®°å½•æ²¡æœ‰ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œå®¹æ˜“æˆä¸ºä¿¡æ¯çš„å †ç§¯ï¼Œè€Œéæœ‰æ•ˆçš„çŸ¥è¯†ç§¯ç´¯ã€‚ä½ å·²ç»æ„è¯†åˆ°éœ€è¦ä¸€ä¸ªæ›´ç³»ç»ŸåŒ–çš„æ–¹å¼ï¼Œæ¯”å¦‚æ›´æœ‰æ„è¯†åœ°è¿›è¡Œæ€»ç»“ã€åæ€å’Œå›é¡¾ã€‚\n3. é¢å¯¹å›°éš¾æ—¶çš„å¿ƒæ€è°ƒæ•´ ä½ åœ¨å·¥ä½œä¸­çš„æŒ«æŠ˜æ„Ÿå¯èƒ½æ¥è‡ªä¸‰ç»´é‡å»ºé¡¹ç›®çš„å¤æ‚æ€§ï¼Œä½†ä½ ä¹Ÿæ˜ç™½ï¼Œç¨³æ­¥è§£å†³é—®é¢˜ã€é€æ­¥æ¨æ•²æ¯ä¸€ä¸ªæ­¥éª¤æ˜¯å…³é”®ã€‚â€œæ…¢æ…¢æ¥ï¼Œä¸€æ­¥ä¸€æ­¥è§£å†³â€æ˜¯å¾ˆå¥½çš„å¿ƒæ€ï¼Œè¯´æ˜ä½ åœ¨å°è¯•è°ƒæ•´æƒ…ç»ªï¼Œä»¥æ›´ç†æ€§ã€ç»†è‡´çš„æ–¹å¼æ¥é¢å¯¹æŠ€æœ¯éš¾é¢˜ã€‚\n4. åˆ›é€ ä¸ä¿å­˜çš„æ€è·¯ å…³äºâ€œåˆ›é€ ä¸ä¿å­˜â€çš„æ€è·¯å°¤ä¸ºé‡è¦ã€‚ä½ æåˆ°å¤ç°è®ºæ–‡ä¸­çš„æ€æƒ³æ—¶ï¼Œæé†’è‡ªå·±ä¸è¦ç€æ€¥ã€‚çœŸæ­£çš„åˆ›é€ åŠ›åœ¨äºè€å¿ƒå’Œç§¯ç´¯ï¼Œæ¯æ¬¡è§£å†³ä¸€ä¸ªå°é—®é¢˜ã€åˆ›é€ ä¸€ä¸ªæ–°æƒ³æ³•ï¼Œéƒ½è¦åŠæ—¶è®°å½•å¹¶ä¿å­˜ï¼Œè¿™æ ·ä½ æ‰èƒ½é¿å…é™·å…¥â€œåŸåœ°æ‰“è½¬â€çš„å¾ªç¯ã€‚\n5. å·¥å…·ä¸è‡ªåŠ¨åŒ–çš„åŠ›é‡ äººå·¥æ™ºèƒ½å’Œè„šæœ¬çš„ä½¿ç”¨ï¼Œå¯ä»¥æå¤§åœ°æå‡ä½ çš„å·¥ä½œæ•ˆç‡ã€‚ä½ è®¤è¯†åˆ°é‡å¤æ€§çš„å·¥ä½œåº”è¯¥è‡ªåŠ¨åŒ–ï¼Œè€Œè‡ªå·±åº”è¯¥æ›´å¤šå»åšâ€œåˆ›é€ æ€§â€çš„äº‹æƒ…ã€‚è¿™ä¸ªæ€è·¯å…¶å®æ˜¯ä¸ªäººæ•ˆç‡æå‡çš„æ ¸å¿ƒï¼šå€ŸåŠ©å·¥å…·ï¼Œè…¾å‡ºæ›´å¤šæ—¶é—´å’Œç²¾åŠ›å»åšé«˜ä»·å€¼çš„å·¥ä½œã€‚\nå»ºè®®ä¸ä¸‹ä¸€æ­¥ï¼š çŸ¥è¯†åº“æ„å»ºï¼šå¯ä»¥è€ƒè™‘ä½¿ç”¨å·¥å…·ï¼ˆå¦‚ Notionã€Roam Researchï¼‰æ¥ç³»ç»ŸåŒ–è®°å½•ä½ çš„æ€è€ƒã€å·¥ä½œé—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚é‡è¦çš„æ˜¯æŠŠè¿™äº›è®°å½•è½¬åŒ–ä¸ºå¯ä»¥éšæ—¶è°ƒç”¨çš„èµ„æºã€‚ è‡ªåŠ¨åŒ–æ‰§è¡Œï¼šè¿›ä¸€æ­¥å­¦ä¹ è„šæœ¬å’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå‡å°‘é‡å¤æ€§å·¥ä½œï¼ŒæŠŠæ›´å¤šæ—¶é—´ç•™ç»™åˆ›æ„å’Œæ€è€ƒã€‚ æƒ…ç»ªç®¡ç†ä¸åæ€ï¼šé¢å¯¹éš¾é¢˜æ—¶ï¼Œä¸å¦¨ç»™è‡ªå·±ä¸€äº›ç¼“å†²æ—¶é—´ï¼ŒåŒæ—¶åŠ å¼ºåæ€å’Œè®°å½•ï¼Œåšåˆ°æ¯ä¸€æ­¥éƒ½æœ‰æ”¶è·ã€‚ è¿™æ˜¯ä¸€ç§ä»æ··ä¹±åˆ°æœ‰åºã€ä»ç„¦è™‘åˆ°å¹³å’Œçš„å¿ƒè·¯å†ç¨‹ï¼Œä½ å·²ç»æœ‰äº†å¾ˆå¥½çš„æ€è·¯ï¼Œç›¸ä¿¡åç»­ä¼šè¶Šæ¥è¶Šé¡ºåˆ©ï¼\n","permalink":"https://ahaknow.com/posts/diary/2024-10-09/","summary":"å¾ˆä¹…æ²¡æœ‰å†™æ—¥è®°äº†å‘¢ï¼ è¿™ä¸ªå›½åº†ç»“æŸçš„æœ€åä¸€å¤©å¼€å§‹æ—©ç¡çš„ï¼Œä»Šæ™šæ˜¯ç¬¬ä¸‰æ¬¡ã€‚ è¡¥å……ä¸€æ¬¡æ˜¨å¤©çš„æ„Ÿæƒ³ï¼šå½“ä½ æƒ³è¦å»åšçš„æ—¶å€™ï¼Œä½ å°±æ˜¯æœ€æœ‰åŠ›é‡çš„ï¼æ‰€ä»¥é¢„çº¦äº†åŠé©¬","title":"æ…¢æ…¢æ¥ï¼Œæ¯”è¾ƒå¿«ï¼"},{"content":"å‰è¨€ æ€ä¹ˆæ ·ä»ä¸€ä¸ªPythonè„šæœ¬ä¸€æ­¥ä¸€æ­¥å˜æˆä¸€ä¸ªå¯ä»¥åœ¨å¤šå¹³å°ä¸Šç‹¬ç«‹ä½¿ç”¨çš„Appå‘¢ï¼Ÿ\nåœ¨è¿™ä¸€éƒ¨åˆ†ä¹‹å‰ï¼Œæ˜¯æ”¹è¿›å’Œä¼˜åŒ–Pythonçš„è®­ç»ƒè„šæœ¬ï¼Œå…¶ä¸­æ¶‰åŠåˆ°å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¿ƒå¾—å’Œä½“æ‚Ÿï¼Œè¿™äº›éœ€è¦ä¹‹åæ€»ç»“è¡¥å……ã€‚\nä¸è®°å½•ï¼Œè‚¯å®šæ˜¯ä¼šå¿˜è®°çš„ï¼Œä»¥å‰å¹²äº†å¾ˆå¤šæ¬¡è¿™æ ·çš„äº‹ï¼Œåˆ°æœ€åå°±åªå‰©ä¸‹ä¸€ä¸ªæ ‡é¢˜ï¼Œå†…å®¹å•¥çš„å®Œå…¨æƒ³ä¸èµ·æ¥äº†ï¼Œæ‰€ä»¥è¦å®æ—¶è®°å½•ï¼Œæ—¶å¸¸æ¸©ä¹ ã€‚\næ•™ï¼Œä¹Ÿæ˜¯ä¸€ç§å­¦ä¹ ï¼›è¾“å‡ºï¼Œæ¸©æ•…è€ŒçŸ¥æ–°ã€‚\næ•´ä½“æ„Ÿå— æƒ³è¦æŠŠä¸€ä¸ªPythonçš„è„šæœ¬è½¬æ¢æˆä¸€ä¸ªAppï¼Œæ¯”å¦‚åœ¨Windowså¹³å°ä¸ŠåŒå‡»å³å¯ä½¿ç”¨çš„exeç¨‹åºï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ\né¦–å…ˆï¼Œåº”è¯¥æ˜¯æœ‰æˆç†Ÿçš„å·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ï¼Œæ‰€ä»¥å…ˆæ”¶é›†ä¿¡æ¯çœ‹çœ‹æœ‰å“ªäº›ï¼Œåšä¸€ä¸ªæ•´ä½“çš„äº†è§£ï¼› ç„¶åï¼ŒåšæˆAppåï¼Œéœ€è¦æœ‰äº¤äº’ï¼Œå¹¶ä¸”æ˜¯åŸºäºå›¾å½¢ç•Œé¢çš„äº¤äº’ï¼ˆGUIï¼‰ï¼Œå› æ­¤å°±ä¸èƒ½å†æ˜¯ç®€å•ç²—æš´çš„å‘½ä»¤è¡Œä¼ é€’å‚æ•°äº†ï¼› å†è€…ï¼Œåœ¨è®¾è®¡æ—¶ï¼Œè¦è€ƒè™‘ç¾è§‚ï¼Œä¹Ÿè¦è€ƒè™‘ç”¨æˆ·ä½“éªŒï¼Œå› æ­¤æœ‰å¾ˆå¤šç»†èŠ‚ä¸Šçš„éœ€è¦æ³¨æ„ï¼ŒåŒæ—¶å¾ˆå¤šåŠŸèƒ½é€»è¾‘ä¸Šçš„ä¸¥è°¨ä¹Ÿéœ€è¦é¡¾åŠï¼› è¿™ä¹ˆæ¥çœ‹ï¼Œåœ¨ä¸€å¼€å§‹æƒ³åšçš„æ—¶å€™ï¼Œå¿ƒé‡Œå¤§æ¦‚æ˜¯æœ‰ä¸€ä¸ªæ•°çš„ï¼ŒçŸ¥é“ä¸€æ­¥ä¸€æ­¥åˆ†è§£ä¹‹åéœ€è¦æ€ä¹ˆåšï¼Œä¹Ÿèƒ½å¤Ÿå‡­å€Ÿå·²æœ‰çš„ç»éªŒæ¥é¢„ä¼°å“ªäº›é€»è¾‘éœ€è¦è®¾è®¡ï¼Œä»è¿™ä¸€ç‚¹å‘¢ï¼Œå…¶å®ä¹Ÿèƒ½å­¦åˆ°ä¸€ä¸ªå¥½ç”¨çš„æŠ€å·§ï¼ˆè™½ç„¶è¿™ä¸ªé“ç†ä»¥å‰å°±å·²ç»çŸ¥é“äº†ï¼‰ï¼š\næ‹¿ä¸€å¼ ç™½çº¸æˆ–è€…ä¸€é¢ç™½æ¿ï¼Œä¸€æ­¥ä¸€æ­¥å†™åˆ—å‡ºæ€è·¯å’Œæçº²ï¼Œå…·ä½“å¾€ååšçš„æ—¶å€™å°±ä¸æ€•è‡ªå·±è„‘å­é‡Œç»™å¿˜æ‰äº†ï¼› è€Œä¸”ä¸€æ—¦æœ‰çµæ„Ÿä¹‹åï¼Œè¿˜èƒ½ç›´æ¥è¡¥å……åˆ°è¿™ä¸ªç™½çº¸æˆ–è€…ç™½æ¿ä¸Šï¼Œæœ‰æ—¶å€™å°±éœ€è¦è¿™ç§å¤–ç½®çš„è®°å¿†ï¼Œæƒ³åˆ°äº†å°±è®°ä¸‹æ¥å¾ˆé‡è¦ï¼› ä¸åº”è¯¥çº ç»“äºå·¥å…·æœ¬èº«ï¼Œè€Œåº”è¯¥è½å®åœ¨å…·ä½“çš„åšä¸Šé¢ï¼› ä¸€æ¬¡æ€§æƒ³æ˜ç™½æ‰€æœ‰å½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œä½†æ›´å¤šçš„æ—¶å€™å¯èƒ½æ˜¯ï¼Œä¸€è¾¹åšï¼Œä¸€è¾¹æ›´æ–°è¿­ä»£ã€‚ é‚£ç°åœ¨å¼€å§‹åšå§ï¼\nå·¥å…·ç¯‡ Windowsä¸Šçš„CMakeç¼–è¯‘ å¥½åƒæ˜¯æ™•åˆ°æ­»ï¼ˆWindowsï¼‰è¦é…åˆVisual Studioå¼€å‘æ‰“åŒ…ï¼Œä½†æˆ‘å°±æ˜¯ä¸ä¿¡è¿™ä¸ªé‚ªï¼Œå› ä¸ºåœ¨Linuxå¹³å°ä¸Šå°±æ˜¯ä¸€è¡Œå‘½ä»¤å°±èƒ½è§£å†³çš„äº‹ï¼Œå‡­å•¥åˆ°Windowsä¸Šè¦æä¸€å¥—è‡ƒè‚¿çš„è½¯ä»¶å‘¢ï¼Ÿï¼\nç¡®å®ï¼Œæƒ³è¦åœ¨Windowsä¸Šå®ç°cmake+makeï¼Œå¾ˆéš¾ï¼Œä½†ä¸æ˜¯ä¸å¯èƒ½ï¼\né¦–å…ˆä¹Ÿæ˜¯æ”¶é›†äº†ä¸€äº›ä¿¡æ¯ï¼š\nåœ¨Windowsä¸Šä½¿ç”¨ CMake å’Œ make é€šå¸¸æ¯”åœ¨Linuxä¸Šæ›´å¤æ‚ï¼Œè¿™æ˜¯ç”±äºä¸¤è€…çš„æ¶æ„å’Œå·¥å…·é“¾æœ‰æ ¹æœ¬æ€§çš„å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯Windowsä¸Linuxåœ¨æ„å»ºç³»ç»Ÿæ–¹é¢çš„ä¸åŒä¹‹å¤„ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨Windowsä¸Šä¸èƒ½åƒåœ¨Linuxä¸Šç›´æ¥è¿è¡Œ cmake å’Œ makeã€‚\n1. å·¥å…·é“¾çš„å·®å¼‚ Linuxï¼šLinuxç³»ç»Ÿæœ‰ä¸€ä¸ªéå¸¸æ ‡å‡†åŒ–çš„å¼€å‘ç¯å¢ƒï¼Œå‡ ä¹æ‰€æœ‰å‘è¡Œç‰ˆéƒ½é¢„è£…äº†GNUå·¥å…·é“¾ï¼ŒåŒ…æ‹¬gccç¼–è¯‘å™¨å’Œmakeæ„å»ºå·¥å…·ã€‚å› æ­¤ï¼Œå¼€å‘äººå‘˜åªéœ€è¦å®‰è£…ä¸€äº›åŸºæœ¬çš„å¼€å‘å·¥å…·åŒ…ï¼ˆå¦‚build-essentialï¼‰å³å¯è½»æ¾ç¼–è¯‘C/C++ç¨‹åºã€‚ CMake ä½œä¸ºè·¨å¹³å°çš„æ„å»ºç³»ç»Ÿï¼Œèƒ½ç”ŸæˆMakefileï¼Œç„¶åé€šè¿‡ make å·¥å…·æ¥è¿›è¡Œç¼–è¯‘ã€é“¾æ¥ç­‰ä»»åŠ¡ã€‚\nWindowsï¼šWindowsç³»ç»Ÿæ²¡æœ‰é¢„è£…ç±»ä¼¼äºLinuxçš„GNUå·¥å…·é“¾ï¼Œè€Œæ˜¯ä¸»è¦ä¾èµ–äºMicrosoft Visual Studio å’Œ MSVC ç¼–è¯‘å™¨ï¼ˆMicrosoft Visual C++ï¼‰ã€‚Windowsçš„å¼€å‘ç¯å¢ƒä¸Linuxå­˜åœ¨æœ¬è´¨åŒºåˆ«ï¼Œæ²¡æœ‰é»˜è®¤çš„æ ‡å‡†æ„å»ºå·¥å…·å¦‚ makeã€‚å› æ­¤ï¼Œè¦åœ¨Windowsä¸Šä½¿ç”¨CMakeç”Ÿæˆå’Œæ„å»ºé¡¹ç›®ï¼Œé€šå¸¸éœ€è¦ä¾èµ–Visual Studioæˆ–ç¬¬ä¸‰æ–¹å·¥å…·ã€‚\n2. CMake ä¸ Make çš„å·¥ä½œåŸç† CMake æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ„å»ºç³»ç»Ÿç”Ÿæˆå·¥å…·ï¼Œä½†å®ƒæœ¬èº«å¹¶ä¸æ‰§è¡Œç¼–è¯‘æˆ–æ„å»ºå·¥ä½œã€‚CMake çš„ä»»åŠ¡æ˜¯æ ¹æ®é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆCMakeLists.txtï¼‰ç”Ÿæˆç›¸åº”å¹³å°çš„æ„å»ºæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š Linuxï¼šCMake é€šå¸¸ç”Ÿæˆ Makefileï¼Œç„¶åé€šè¿‡ make è¿›è¡Œæ„å»ºã€‚ Windowsï¼šCMake é€šå¸¸ç”Ÿæˆ Visual Studioé¡¹ç›®æ–‡ä»¶ æˆ– NMake Makefilesã€‚Visual Studio æ˜¯ Windows ä¸Šå¸¸ç”¨çš„ç¼–è¯‘å™¨å’Œæ„å»ºç¯å¢ƒï¼ŒNMake æ˜¯Windowsä¸‹çš„ä¸€ç§ make å·¥å…·ï¼Œè™½ç„¶å’ŒGNU make ä¸å®Œå…¨å…¼å®¹ï¼Œä½†åŠŸèƒ½ç±»ä¼¼ã€‚ å› æ­¤ï¼ŒCMake åœ¨Windowsä¸Šé»˜è®¤ç”ŸæˆVisual Studioè§£å†³æ–¹æ¡ˆæ–‡ä»¶ (.sln) æˆ–è€… NMake Makefilesï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„GNU Makefileã€‚\n3. ç¼–è¯‘å™¨çš„å·®å¼‚ Linuxï¼šLinuxç³»ç»Ÿå¹¿æ³›ä½¿ç”¨GNUç¼–è¯‘å™¨ï¼ˆgccã€g++ï¼‰å’Œ clangï¼Œå¹¶ä¸”è¿™äº›å·¥å…·èƒ½å¤Ÿç›´æ¥ä¸makeç­‰æ„å»ºå·¥å…·é…åˆå·¥ä½œã€‚ç¼–è¯‘å™¨å’Œæ„å»ºå·¥å…·å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ–¹å¼æ¥è°ƒç”¨ï¼ŒCMakeä¹Ÿæ”¯æŒç”Ÿæˆ Makefile å¹¶ä¸ gcc é…åˆä½¿ç”¨ã€‚\nWindowsï¼šWindowsçš„é»˜è®¤ç¼–è¯‘å™¨æ˜¯ MSVCï¼Œå®ƒçš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ cl.exeã€link.exeï¼‰ä¸GNUå·¥å…·é“¾æœ‰è¾ƒå¤§åŒºåˆ«ã€‚Windowsä¸Šå¹¶æ²¡æœ‰å†…ç½®çš„ gcc æˆ– clangï¼Œè¿™æ„å‘³ç€å¦‚æœä¸ä½¿ç”¨Visual Studioï¼Œå¼€å‘äººå‘˜éœ€è¦æ‰‹åŠ¨å®‰è£…å¹¶é…ç½®ç¼–è¯‘å™¨ï¼ˆå¦‚ MinGW-w64 æˆ– Cygwinï¼‰å’Œæ„å»ºå·¥å…·ï¼ˆå¦‚ MSYS2ï¼‰æ¥æä¾›GNUå·¥å…·é“¾çš„æ”¯æŒã€‚\n4. Make ä¸ NMake çš„åŒºåˆ« GNU Makeï¼šè¿™æ˜¯Linuxä¸Šçš„é»˜è®¤æ„å»ºå·¥å…·ï¼Œç»“åˆMakefileè¿›è¡Œä¾èµ–ç®¡ç†å’Œæ„å»ºè¿‡ç¨‹ã€‚å®ƒä¸GNUå·¥å…·é“¾é«˜åº¦é›†æˆã€‚ NMakeï¼šè¿™æ˜¯å¾®è½¯æä¾›çš„ make å·¥å…·ï¼Œä¸“ä¸ºWindowså¼€å‘ç¯å¢ƒè®¾è®¡ï¼Œé€šå¸¸ä¸MSVCé…åˆä½¿ç”¨ã€‚è™½ç„¶NMakeçš„åŸºæœ¬åŠŸèƒ½ç±»ä¼¼äºGNU Makeï¼Œä½†å®ƒçš„è¯­æ³•å’Œè¡Œä¸ºä¸GNU Makeæœ‰æ‰€ä¸åŒï¼ŒNMakeä¸èƒ½ç›´æ¥ä½¿ç”¨GNUé£æ ¼çš„Makefileã€‚ 5. è·¨å¹³å°å…¼å®¹å·¥å…· å¦‚æœä¸æƒ³ä½¿ç”¨Visual Studioï¼Œå¯ä»¥åœ¨Windowsä¸Šé€šè¿‡å®‰è£…GNUå·¥å…·é“¾æ¥å®ç°ç±»ä¼¼Linuxçš„æ„å»ºä½“éªŒï¼š\nMinGW-w64ï¼šæä¾›äº†Windowsä¸Šçš„GNUç¼–è¯‘å·¥å…·é“¾ï¼ˆgcc å’Œ g++ï¼‰ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¸ CMake é…åˆä½¿ç”¨ç”Ÿæˆ GNU Makefileï¼Œç„¶åå¯ä»¥ä½¿ç”¨ make è¿›è¡Œæ„å»ºã€‚MinGW-w64 ä½¿ä½ å¯ä»¥åœ¨Windowsä¸Šä½¿ç”¨ç±»ä¼¼Linuxçš„ç¼–è¯‘ç¯å¢ƒã€‚ MSYS2ï¼šè¿™æ˜¯ä¸€ä¸ªå…¼å®¹æ€§æ›´å¼ºçš„ç¯å¢ƒï¼ŒåŸºäºMinGWå’ŒCygwinï¼Œå…è®¸åœ¨Windowsä¸Šè¿è¡Œè®¸å¤šLinuxå·¥å…·ï¼ŒåŒ…æ‹¬ bashã€gccã€make ç­‰ã€‚MSYS2æä¾›äº†ä¸€ä¸ªæ¥è¿‘Linuxçš„ç»ˆç«¯ç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡CMakeç”ŸæˆGNU Makefileï¼Œç„¶åä½¿ç”¨GNU make æ¥ç¼–è¯‘é¡¹ç›®ã€‚ Cygwinï¼šCygwin æä¾›äº†ç±»ä¼¼äºLinuxçš„ç¯å¢ƒï¼Œæ”¯æŒä½¿ç”¨ gcc å’Œ make è¿›è¡Œå¼€å‘ï¼Œä½†å…¶æ¨¡æ‹Ÿå±‚è¾ƒé‡ï¼Œæ€§èƒ½ä¸å¦‚MinGWï¼Œå¹¶ä¸”æœ‰æ—¶ä¼šå¼•å…¥ä¸€äº›é¢å¤–çš„å…¼å®¹æ€§é—®é¢˜ã€‚ 6. Windows Subsystem for Linux (WSL) Windows Subsystem for Linux (WSL) æä¾›äº†ä¸€ä¸ªåŸç”Ÿçš„Linuxå­ç³»ç»Ÿï¼Œå…è®¸åœ¨Windowsä¸Šè¿è¡ŒLinuxäºŒè¿›åˆ¶ç¨‹åºã€‚ä½ å¯ä»¥åœ¨WSLä¸­ç›´æ¥ä½¿ç”¨ CMake å’Œ makeï¼Œå› ä¸ºWSLæ˜¯ä¸€ä¸ªå®Œæ•´çš„Linuxç¯å¢ƒï¼Œä½¿ç”¨Ubuntuç­‰å‘è¡Œç‰ˆï¼Œä½ å¯ä»¥å®Œå…¨æŒ‰ç…§Linuxçš„å¼€å‘æµç¨‹è¿›è¡Œæ“ä½œï¼Œè€Œæ— éœ€å®‰è£…Visual Studioæˆ–å…¶ä»–å·¥å…·é“¾ã€‚\nä½¿ç”¨WSLçš„æ­¥éª¤ï¼š\nå®‰è£…WSLå’ŒLinuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntuï¼‰ã€‚ åœ¨WSLä¸­å®‰è£… build-essential åŒ…ï¼ŒåŒ…å« gccã€make ç­‰å·¥å…·ã€‚ åœ¨WSLä¸­è¿è¡Œ cmake å’Œ make å®Œæˆé¡¹ç›®çš„æ„å»ºã€‚ 7. ä¸ç”¨Visual Studioå¯ä»¥å—ï¼Ÿ ç­”æ¡ˆæ˜¯å¯ä»¥ï¼Œä½†éœ€è¦é€‰æ‹©åˆé€‚çš„å·¥å…·é“¾ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åœ¨Windowsä¸Šé¿å…ä½¿ç”¨Visual Studioï¼š ä½¿ç”¨MinGW-w64 æˆ– MSYS2 æ¥æä¾›GNUå·¥å…·é“¾ï¼Œé…åˆCMakeç”ŸæˆGNU Makefileï¼Œç„¶åä½¿ç”¨ make è¿›è¡Œç¼–è¯‘ã€‚ ä½¿ç”¨WSLï¼Œç›´æ¥åœ¨Windowsä¸­è¿è¡ŒLinuxçš„CMakeå’ŒMakeå·¥å…·ã€‚ ä½¿ç”¨NMakeï¼Œå¦‚æœä»ç„¶æƒ³ä½¿ç”¨MSVCç¼–è¯‘å™¨ï¼Œä½†ä¸å¸Œæœ›ä¾èµ–Visual Studio IDEï¼ŒCMakeä¹Ÿå¯ä»¥ç”Ÿæˆé€‚ç”¨äºNMakeçš„Makefileã€‚ 8. æ€»ç»“ Windowså’ŒLinuxåœ¨æ„å»ºç³»ç»Ÿä¸Šçš„å·®å¼‚ä¸»è¦ä½“ç°åœ¨å·¥å…·é“¾å’Œç¼–è¯‘å™¨ä¸Šã€‚Linuxæ‹¥æœ‰æ ‡å‡†çš„GNUå·¥å…·é“¾å’Œ makeï¼Œè€ŒWindowsé»˜è®¤ä½¿ç”¨Visual Studioå’ŒMSVCç¼–è¯‘å™¨ï¼Œå¯¼è‡´åœ¨Windowsä¸Šå¼€å‘æ—¶ï¼Œé€šå¸¸éœ€è¦ä¾èµ–Visual Studioæˆ–å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·ã€‚ å¦‚æœä½ ä¸æƒ³ä½¿ç”¨Visual Studioï¼Œå¯ä»¥é€šè¿‡å®‰è£…MinGW-w64ã€MSYS2ã€Cygwinæˆ–WSLæ¥è·å¾—ç±»ä¼¼äºLinuxçš„å¼€å‘ä½“éªŒï¼Œåœ¨Windowsä¸Šç›´æ¥ä½¿ç”¨ cmake å’Œ makeã€‚ å®é™…å°è¯•åå‘ç°ï¼š\nMSYS2æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œé€šè¿‡è®¾ç½®Pathå¯ä»¥åœ¨PowerShellä¸­ä½¿ç”¨ï¼Œä½†å•ç‹¬ä½¿ç”¨MSYS2è‡ªå¸¦çš„ç»ˆç«¯ä¼šæ›´å¥½ç”¨ï¼Œå› ä¸ºå®Œå…¨æ˜¯ç±»Unixé£æ ¼ï¼› MSYS2å®‰è£…çš„æ—¶å€™åº”è¯¥æ˜¯è‡ªå¸¦MinGWçš„ï¼› MinGWä¹Ÿèƒ½å•ç‹¬å®‰è£…ï¼Œä½†å¥½åƒå®‰è£…å®Œä¸çŸ¥é“å’‹ç”¨æ‰å¥½ã€‚ ç”¨åˆ°æœ€åå‘ç°æ ¸å¿ƒæ˜¯è¿™ä¸¤å¥ï¼š\ncmake -DCMAKE_PREFIX_PATH=\u0026#34;C:/msys64/mingw64\u0026#34; -G \u0026#34;MinGW Makefiles\u0026#34; .. -Wno-dev mingw32-make ä»¥åŠå¯¹äºå„ç§ä¾èµ–å’Œå®‰è£…åŒ…ï¼Œå¯ä»¥é€šè¿‡pacmanæ¥å®‰è£…ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯arch linuxä¸Šé¢é‚£å¥—ï¼Œè™½ç„¶å¯èƒ½æ²¡æœ‰apté‚£ä¹ˆå®Œå…¨ã€‚\nç„¶åï¼Œæˆ‘å‘ç°ä»Šå¤©æ–°ç‚¹äº®äº†ä¸€é¢—æŠ€èƒ½ç‚¹ï¼Œå°±æ˜¯åœ¨ä½¿ç”¨æœç´¢æ—¶ï¼Œå¯ä»¥åŒæ—¶å›ç­”ä¸­è‹±æ–‡ï¼Œç”šè‡³åŠ ä¸Šä¸€äº›è°ƒçš®çš„è¯ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ï¼š\nGot it! Let\u0026rsquo;s create a detailed guide on using MSYS2 and pacman, which will include the steps for setting up the environment and using pacman to install dependencies efficiently. I\u0026rsquo;ll provide the instructions in both English and Chinese for each step, as requested. ğŸ˜Š\nUsing MSYS2 and Pacman for Installing Dependencies åœ¨ MSYS2 ä¸­ä½¿ç”¨ Pacman å®‰è£…ä¾èµ–\n1. Introduction to MSYS2 and Pacman MSYS2 å’Œ Pacman ä»‹ç»\nMSYS2 is a powerful platform that brings a Unix-like environment to Windows. It provides a complete package management system through pacman (the same package manager used in Arch Linux) to install and manage software and libraries easily.\nMSYS2 æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¹³å°ï¼Œå®ƒä¸º Windows å¸¦æ¥äº†ç±»ä¼¼ Unix çš„ç¯å¢ƒã€‚å®ƒé€šè¿‡ pacman æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼ˆä¸ Arch Linux ç›¸åŒçš„åŒ…ç®¡ç†å·¥å…·ï¼‰ï¼Œå¯ä»¥è½»æ¾å®‰è£…å’Œç®¡ç†è½¯ä»¶å’Œåº“ã€‚\nPacman allows you to quickly install packages and manage dependencies. Instead of manually compiling software from source, you can use pacman to install pre-built binaries, making the setup process much smoother.\nPacman å…è®¸ä½ å¿«é€Ÿå®‰è£…è½¯ä»¶åŒ…å¹¶ç®¡ç†ä¾èµ–é¡¹ã€‚ä¸æ‰‹åŠ¨ä»æºä»£ç ç¼–è¯‘è½¯ä»¶ç›¸æ¯”ï¼Œä½ å¯ä»¥ä½¿ç”¨ pacman å®‰è£…é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™ä½¿å¾—è®¾ç½®è¿‡ç¨‹æ›´åŠ é¡ºç•…ã€‚\n2. Step-by-Step Installation and Setup åˆ†æ­¥å®‰è£…å’Œè®¾ç½®\n2.1 Download and Install MSYS2 ä¸‹è½½å¹¶å®‰è£… MSYS2\nGo to the official MSYS2 website and download the installer for Windows.\nè®¿é—® MSYS2 å®˜ç½‘ å¹¶ä¸‹è½½é€‚ç”¨äº Windows çš„å®‰è£…ç¨‹åºã€‚\nRun the installer and follow the default installation path (C:\\msys64 is recommended).\nè¿è¡Œå®‰è£…ç¨‹åºï¼Œå¹¶é€‰æ‹©é»˜è®¤çš„å®‰è£…è·¯å¾„ï¼ˆæ¨èä½¿ç”¨ C:\\msys64ï¼‰ã€‚\n2.2 Update Pacman and System æ›´æ–° Pacman å’Œç³»ç»Ÿ\nAfter installation, you need to update the package database and core packages to ensure youâ€™re working with the latest versions.\nå®‰è£…å®Œæˆåï¼Œéœ€è¦æ›´æ–°åŒ…æ•°æ®åº“å’Œæ ¸å¿ƒåŒ…ï¼Œä»¥ç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚\nOpen MSYS2 (either from the Start menu or from the installation folder).\næ‰“å¼€ MSYS2ï¼ˆå¯ä»¥é€šè¿‡å¼€å§‹èœå•æˆ–ä»å®‰è£…æ–‡ä»¶å¤¹æ‰“å¼€ï¼‰ã€‚\nRun the following command to update the package database and the core system:\nè¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ›´æ–°åŒ…æ•°æ®åº“å’Œæ ¸å¿ƒç³»ç»Ÿï¼š\npacman -Syu You may need to close and reopen MSYS2 to continue the update.\nä½ å¯èƒ½éœ€è¦å…³é—­å¹¶é‡æ–°æ‰“å¼€ MSYS2 æ¥ç»§ç»­æ›´æ–°ã€‚\nAfter reopening, run the update again to ensure everything is up to date:\né‡æ–°æ‰“å¼€åï¼Œå†æ¬¡è¿è¡Œæ›´æ–°å‘½ä»¤ä»¥ç¡®ä¿æ‰€æœ‰å†…å®¹éƒ½æ˜¯æœ€æ–°çš„ï¼š\npacman -Su 2.3 Install Essential Development Tools å®‰è£…å¿…è¦çš„å¼€å‘å·¥å…·\nYou can install key development tools like GCC, G++, make, and CMake using pacman.\nä½ å¯ä»¥é€šè¿‡ pacman å®‰è£…å…³é”®çš„å¼€å‘å·¥å…·ï¼Œå¦‚ GCCã€G++ã€make å’Œ CMakeã€‚\nTo install the 64-bit toolchain (for compiling 64-bit applications):\nå®‰è£… 64 ä½å·¥å…·é“¾ï¼ˆç”¨äºç¼–è¯‘ 64 ä½åº”ç”¨ç¨‹åºï¼‰ï¼š\npacman -S mingw-w64-x86_64-toolchain To install CMake (a common build system generator):\nå®‰è£… CMakeï¼ˆä¸€ä¸ªå¸¸ç”¨çš„æ„å»ºç³»ç»Ÿç”Ÿæˆå™¨ï¼‰ï¼š\npacman -S mingw-w64-x86_64-cmake To install other useful tools (such as Git or Python):\nå®‰è£…å…¶ä»–æœ‰ç”¨çš„å·¥å…·ï¼ˆå¦‚ Git æˆ– Pythonï¼‰ï¼š\npacman -S git python 2.4 Using Pacman to Search and Install Packages ä½¿ç”¨ Pacman æœç´¢å¹¶å®‰è£…è½¯ä»¶åŒ…\nTo search for a package:\næœç´¢è½¯ä»¶åŒ…ï¼š\npacman -Ss \u0026lt;package-name\u0026gt; Example:\nä¾‹å¦‚ï¼š\npacman -Ss cmake To install a package:\nå®‰è£…è½¯ä»¶åŒ…ï¼š\npacman -S \u0026lt;package-name\u0026gt; Example:\nä¾‹å¦‚ï¼š\npacman -S mingw-w64-x86_64-cmake To remove a package:\nåˆ é™¤è½¯ä»¶åŒ…ï¼š\npacman -R \u0026lt;package-name\u0026gt; 2.5 Check Installed Packages æ£€æŸ¥å·²å®‰è£…çš„è½¯ä»¶åŒ…\nTo list all installed packages, run:\nè¦åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼Œè¿è¡Œï¼š\npacman -Q 2.6 Compiling Code Using MinGW in MSYS2 åœ¨ MSYS2 ä¸­ä½¿ç”¨ MinGW ç¼–è¯‘ä»£ç \nOnce youâ€™ve installed the MinGW toolchain, you can compile C/C++ code using the standard tools like gcc and g++.\nä¸€æ—¦ä½ å®‰è£…äº† MinGW å·¥å…·é“¾ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ gcc å’Œ g++ ç­‰æ ‡å‡†å·¥å…·ç¼–è¯‘ C/C++ ä»£ç ã€‚\nTo compile a C++ file:\nç¼–è¯‘ C++ æ–‡ä»¶ï¼š\ng++ -o output main.cpp To use CMake for a project:\nä½¿ç”¨ CMake è¿›è¡Œé¡¹ç›®æ„å»ºï¼š\nmkdir build cd build cmake -G \u0026#34;MSYS Makefiles\u0026#34; .. make 2.7 Using MSYS2 Shells ä½¿ç”¨ MSYS2 Shell\nMSYS2 provides different shells for different purposes. The most common shells are:\nMSYS2 Shell: For using Unix-like tools but not for compiling Windows applications. MinGW 64-bit Shell: For compiling 64-bit Windows applications using MinGW-w64. MinGW 32-bit Shell: For compiling 32-bit Windows applications. MSYS2 æä¾›äº†ä¸åŒç”¨é€”çš„ Shellã€‚å¸¸è§çš„ Shell æœ‰ï¼š\nMSYS2 Shellï¼šç”¨äºä½¿ç”¨ç±» Unix å·¥å…·ï¼Œä½†ä¸é€‚åˆç¼–è¯‘ Windows åº”ç”¨ç¨‹åºã€‚ MinGW 64-bit Shellï¼šç”¨äºä½¿ç”¨ MinGW-w64 ç¼–è¯‘ 64 ä½ Windows åº”ç”¨ç¨‹åºã€‚ MinGW 32-bit Shellï¼šç”¨äºç¼–è¯‘ 32 ä½ Windows åº”ç”¨ç¨‹åºã€‚ Make sure you open the correct shell depending on what you\u0026rsquo;re building.\nç¡®ä¿ä½ æ ¹æ®è¦æ„å»ºçš„å†…å®¹æ‰“å¼€æ­£ç¡®çš„ Shellã€‚\n3. Conclusion æ€»ç»“\nMSYS2 combined with pacman provides a powerful and convenient development environment on Windows, bringing the simplicity of package management and tool installation from Linux-like systems. By using pacman, you can quickly install dependencies and libraries without the need to manually compile them from source unless absolutely necessary.\nMSYS2 ä¸ pacman ç›¸ç»“åˆï¼Œä¸º Windows æä¾›äº†ä¸€ä¸ªå¼ºå¤§ä¸”æ–¹ä¾¿çš„å¼€å‘ç¯å¢ƒï¼Œå¸¦æ¥äº†ç±»ä¼¼ Linux ç³»ç»Ÿçš„åŒ…ç®¡ç†å’Œå·¥å…·å®‰è£…çš„ç®€ä¾¿æ€§ã€‚é€šè¿‡ä½¿ç”¨ pacmanï¼Œä½ å¯ä»¥å¿«é€Ÿå®‰è£…ä¾èµ–å’Œåº“ï¼Œé™¤éä¸‡ä¸å¾—å·²ï¼Œå¦åˆ™ä¸éœ€è¦æ‰‹åŠ¨ä»æºä»£ç ç¼–è¯‘ã€‚\nWith this guide, you should now be able to install and configure MSYS2, use pacman to manage packages, and set up a working development environment.\né€šè¿‡æœ¬æŒ‡å—ï¼Œä½ ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®‰è£…å’Œé…ç½® MSYS2ï¼Œä½¿ç”¨ pacman ç®¡ç†è½¯ä»¶åŒ…ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªå¯ç”¨çš„å¼€å‘ç¯å¢ƒã€‚\nThat\u0026rsquo;s it! ğŸ‰ I hope the bilingual style helps you with both your development and language learning.\næ€»çš„æ¥è¯´ç»“åˆä½¿ç”¨MSYS2ï¼ŒMinGWï¼Œpacmanè¿™äº›ï¼Œæ˜¯å¯ä»¥ä¸ä¾èµ–Visual Studioæ¥å®ç°exeçš„ç¼–è¯‘ã€‚\nå…¶å®ä¸€å¼€å§‹ä¹Ÿé‡åˆ°å¾ˆå¤šå°é—®é¢˜ï¼Œæ¯”å¦‚æ²¡æœ‰PCLåº“ï¼Œç„¶åPCLåˆä¾èµ–å„ç§åº“ï¼Œä¸€å¼€å§‹çš„æƒ³æ³•å°±æ˜¯å„ç§å°è¯•å˜›ï¼Œç”šè‡³æƒ³åˆ°äº†æ‰‹åŠ¨å®‰è£…ï¼Œç„¶åæ‰‹åŠ¨ç¼–è¯‘å®‰è£…ä¹Ÿæ˜¯ä¸€ä¸ªå·¨å¤§çš„å‘å•Šï¼Œåæ¥æ˜¯é…åˆpacmanä¸€èµ·æœç”¨äº†ï¼Œè™½ç„¶ä¸åŠapté‚£ä¹ˆå¼ºå¤§ï¼Œä½†è‡³å°‘å¸¸ç”¨çš„åº“éƒ½æœ‰çš„ï¼Œç„¶åå†ç¼–è¯‘éœ€è¦çš„åº“å°±ä¼šé¡ºç•…å¾ˆå¤šã€‚\nPythonæ‰“åŒ…exe ç†è®ºä¸Šè®²ï¼Œåº”è¯¥æ˜¯æœ‰ç›´æ¥å°†Pythonæ‰“åŒ…æˆexeç¨‹åºçš„å·¥å…·çš„ï¼Œæ‰€ä»¥æˆ‘çš„ç¬¬ä¸€æƒ³æ³•æ˜¯å…ˆæ”¶é›†ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å¾—åˆ°ä¸‹é¢è¿™äº›ï¼š\nå°†Pythonæ‰“åŒ…æˆexeå¯æ‰§è¡Œæ–‡ä»¶çš„å¸¸è§éœ€æ±‚æ˜¯ä¸ºäº†å°†Pythoné¡¹ç›®åˆ†å‘ç»™æ²¡æœ‰Pythonç¯å¢ƒçš„ç”¨æˆ·ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„æ‰“åŒ…å·¥å…·ï¼Œå¹¶ä¸”æ¯ç§å·¥å…·éƒ½æœ‰å…¶ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ã€‚\n1. PyInstaller ä¼˜åŠ¿ï¼šæœ€å¹¿æ³›ä½¿ç”¨çš„Pythonæ‰“åŒ…å·¥å…·ä¹‹ä¸€ï¼Œæ”¯æŒå¤šå¹³å°ï¼ˆWindowsã€Linuxã€Macï¼‰ï¼Œèƒ½å¤Ÿå°†æ•´ä¸ªPythoné¡¹ç›®åŠå…¶ä¾èµ–åŒ…æ‰“åŒ…ä¸ºä¸€ä¸ªå•ç‹¬çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ å®‰è£…ï¼špip install pyinstaller ä½¿ç”¨ï¼š pyinstaller --onefile your_script.py --onefile å‚æ•°ä¼šå°†æ‰€æœ‰ä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ç”Ÿæˆçš„exeæ–‡ä»¶é€šå¸¸ä½äº dist/ æ–‡ä»¶å¤¹ä¸­ã€‚ ä¼˜ç‚¹ï¼š æ”¯æŒå¤šå¹³å°ã€‚ é…ç½®çµæ´»ï¼Œå¯ä»¥æŒ‡å®šéšè—æ§åˆ¶å°çª—å£ï¼ˆé€šè¿‡ --noconsoleï¼‰ï¼Œæˆ–è€…åŒ…å«é¢å¤–çš„èµ„æºæ–‡ä»¶ã€‚ ç¼ºç‚¹ï¼š æ‰“åŒ…åæ–‡ä»¶è¾ƒå¤§ï¼Œå› ä¸ºä¼šæ‰“åŒ…æ‰€æœ‰ä¾èµ–ã€‚ å¯¹äºåŠ¨æ€åŠ è½½çš„æ¨¡å—æˆ–èµ„æºæ–‡ä»¶ï¼Œéœ€è¦é¢å¤–é…ç½®ã€‚ 2. cx_Freeze ä¼˜åŠ¿ï¼šä¸PyInstallerç±»ä¼¼ï¼Œæ”¯æŒå¤šå¹³å°æ‰“åŒ…ï¼Œå°¤å…¶é€‚åˆéœ€è¦å°†Pythonç¨‹åºæ‰“åŒ…ä¸ºWindowså¯æ‰§è¡Œæ–‡ä»¶çš„åœºæ™¯ã€‚å®ƒæ›´æ³¨é‡è·¨å¹³å°çš„å…¼å®¹æ€§å’Œå¯æ‰©å±•æ€§ã€‚ å®‰è£…ï¼špip install cx-Freeze ä½¿ç”¨ï¼š éœ€è¦ç¼–å†™ä¸€ä¸ª setup.py æ–‡ä»¶æ¥å®šä¹‰æ‰“åŒ…é…ç½®ï¼š from cx_Freeze import setup, Executable setup( name=\u0026#34;your_app_name\u0026#34;, version=\u0026#34;1.0\u0026#34;, description=\u0026#34;Description of your app\u0026#34;, executables=[Executable(\u0026#34;your_script.py\u0026#34;)] ) ç„¶åè¿è¡Œï¼š python setup.py build ä¼˜ç‚¹ï¼š æ¯”PyInstalleræ›´çµæ´»ï¼Œé€‚åˆå¤æ‚é¡¹ç›®ã€‚ æ”¯æŒä¸åŒçš„ç›®æ ‡å¹³å°ã€‚ ç¼ºç‚¹ï¼š é…ç½®å¤æ‚åº¦è¾ƒé«˜ã€‚ éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¾èµ–é¡¹ã€‚ 3. Py2exe ä¼˜åŠ¿ï¼šä¸“ä¸ºWindowså¹³å°å¼€å‘çš„å·¥å…·ï¼Œå¯ä»¥å°†Pythonç¨‹åºæ‰“åŒ…æˆWindowså¯æ‰§è¡Œæ–‡ä»¶ã€‚ å®‰è£…ï¼špip install py2exe ä½¿ç”¨ï¼š åŒæ ·éœ€è¦ç¼–å†™ setup.pyï¼š from distutils.core import setup import py2exe setup(console=[\u0026#39;your_script.py\u0026#39;]) ç„¶åè¿è¡Œï¼š python setup.py py2exe ä¼˜ç‚¹ï¼š é’ˆå¯¹Windowsè¿›è¡Œä¼˜åŒ–ï¼Œé€‚åˆWindowsåº”ç”¨ç¨‹åºã€‚ ç¼ºç‚¹ï¼š ä»…æ”¯æŒWindowsã€‚ ç›¸å¯¹è¾ƒæ—§ï¼Œä¸å¦‚PyInstallerå’Œcx_Freezeæ´»è·ƒã€‚ 4. Nuitka ä¼˜åŠ¿ï¼šé™¤äº†æ‰“åŒ…åŠŸèƒ½å¤–ï¼ŒNuitkaè¿˜å°†Pythonä»£ç ç¼–è¯‘ä¸ºCä»£ç ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸æ¯”PyInstallerå’Œcx_Freezeç”Ÿæˆçš„è¦å°ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶æ€§èƒ½æ›´å¥½ã€‚ å®‰è£…ï¼špip install nuitka ä½¿ç”¨ï¼š nuitka --standalone --onefile your_script.py ä¼˜ç‚¹ï¼š ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œæ•ˆç‡æ›´é«˜ã€‚ æ–‡ä»¶å¤§å°è¾ƒå°ã€‚ ç¼ºç‚¹ï¼š å¯¹äºä¾èµ–å¤æ‚çš„é¡¹ç›®ï¼Œéœ€è¦æ›´å¤šçš„é…ç½®ã€‚ æ‰“åŒ…é€Ÿåº¦è¾ƒæ…¢ã€‚ 5. PyOxidizer ä¼˜åŠ¿ï¼šè¾ƒæ–°çš„å·¥å…·ï¼Œå¼ºè°ƒå¿«é€Ÿçš„å¯åŠ¨æ—¶é—´å’Œè½»é‡çº§çš„æ‰“åŒ…ç»“æœã€‚å¯ä»¥å°†Pythonè§£é‡Šå™¨å’Œåº”ç”¨ç¨‹åºä¸€èµ·æ‰“åŒ…ï¼Œå¹¶ä¸”æ”¯æŒåˆ›å»ºç‹¬ç«‹çš„RustäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ å®‰è£…ï¼šå¯ä»¥é€šè¿‡Rustçš„åŒ…ç®¡ç†å·¥å…· cargo å®‰è£…ï¼š cargo install pyoxidizer ä½¿ç”¨ï¼š ç¼–å†™ä¸€ä¸ª pyoxidizer.bzl é…ç½®æ–‡ä»¶ï¼Œå¹¶è¿è¡Œ pyoxidizer å‘½ä»¤ã€‚ ä¼˜ç‚¹ï¼š èƒ½å¤Ÿæ‰“åŒ…å‡ºæ›´å°ã€æ›´å¿«çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ç¼ºç‚¹ï¼š éœ€è¦å­¦ä¹ Rustå·¥å…·é“¾çš„åŸºç¡€ã€‚ ç”Ÿæ€ä¸å¦‚PyInstallerå’Œcx_Freezeæˆç†Ÿã€‚ 6. Briefcase ä¼˜åŠ¿ï¼šæ˜¯BeeWareé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ”¯æŒè·¨å¹³å°æ‰“åŒ…ï¼Œå¹¶ä¸”èƒ½å¤Ÿå°†Pythonåº”ç”¨æ‰“åŒ…ä¸ºåŸç”Ÿå¹³å°åº”ç”¨ï¼ˆä¾‹å¦‚ï¼šWindowsçš„exeï¼ŒmacOSçš„.dmgï¼Œç”šè‡³æ˜¯Androidå’ŒiOSåº”ç”¨ï¼‰ã€‚ å®‰è£…ï¼špip install briefcase ä½¿ç”¨ï¼š briefcase create briefcase build briefcase run ä¼˜ç‚¹ï¼š æ”¯æŒå¤šç§å¹³å°æ‰“åŒ…ã€‚ éå¸¸é€‚åˆå¼€å‘æ¡Œé¢åº”ç”¨ã€‚ ç¼ºç‚¹ï¼š ä¸»è¦ç”¨äºGUIåº”ç”¨ï¼Œå‘½ä»¤è¡Œå·¥å…·çš„æ‰“åŒ…æ”¯æŒè¾ƒå¼±ã€‚ æ€»ç»“ PyInstaller æ˜¯ç›®å‰æœ€æµè¡Œå’Œæœ€é€šç”¨çš„é€‰æ‹©ï¼Œå°¤å…¶é€‚åˆè·¨å¹³å°å’Œå¿«é€Ÿå¼€å‘éœ€æ±‚ã€‚ cx_Freeze æä¾›äº†æ›´å¤šçš„çµæ´»æ€§å’Œè·¨å¹³å°å…¼å®¹æ€§ï¼Œä½†éœ€è¦æ›´å¤šçš„é…ç½®ã€‚ Nuitka åˆ™æ›´é€‚åˆè¿½æ±‚æ€§èƒ½ä¼˜åŒ–çš„åœºæ™¯ï¼Œç”Ÿæˆçš„æ–‡ä»¶æ›´å°ã€‚ Py2exe æ˜¯Windowsä¸“ç”¨çš„å·¥å…·ï¼Œé€‚åˆWindowså¹³å°å¼€å‘è€…ã€‚ PyOxidizer å’Œ Briefcase åˆ™æ˜¯ä¸€äº›æ–°å…´çš„å·¥å…·ï¼Œé€‚åˆå¯¹æ€§èƒ½å’Œç‰¹å®šå¹³å°æœ‰ç‰¹æ®Šéœ€æ±‚çš„åœºæ™¯ã€‚ æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹©æœ€åˆé€‚çš„å·¥å…·è¿›è¡Œæ‰“åŒ…ã€‚å¦‚æœä½ éœ€è¦çµæ´»ä¸”ç®€å•çš„æ–¹æ¡ˆï¼ŒPyInstaller æ˜¯æ¨èçš„é¦–é€‰ã€‚å¦‚æœä½ å¯¹æ–‡ä»¶å¤§å°å’Œæ‰§è¡Œæ•ˆç‡æœ‰è¦æ±‚ï¼Œå¯ä»¥è€ƒè™‘ Nuitkaã€‚\næœç´¢ä¹‹åï¼Œå¤§è‡´æœ‰äº†äº†è§£ï¼Œå°±å¯ä»¥å¼€å§‹å°è¯•äº†ï¼Œçœ‹ç€æ¯”è¾ƒç®€å•çš„æ˜¯ï¼šcx_Freezeï¼Œäºæ˜¯å°±å…ˆè¯•äº†å®ƒï¼Œé‡‡å–ä»€ä¹ˆç­–ç•¥æ¥å°è¯•å‘¢ï¼Ÿ\næ¯”å¦‚ï¼Œä»æœ€å°å¯å®ç°çš„æ–¹å¼å‡ºå‘å§ï¼Œè°ƒç”¨opencvè¯»å–å›¾åƒå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚å°è¯•å¯è¡Œï¼Œä¼¼ä¹è·¯èƒ½èµ°é€šï¼Œå¹¶ä¸”å‘ç°äº†ä¸€äº›åœ¨Windowså¼€å‘çš„ä¸€äº›è§„å¾‹ï¼š\nexeç‚¹å‡»è¿è¡Œåéƒ½æ˜¯é€šè¿‡.dllæ–¹å¼æ¥æ‰¾éœ€è¦çš„ä¾èµ–ï¼ˆåŠ¨æ€é“¾æ¥åº“ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å°±ä¼šå‡ºé”™ å¦‚æœç¨‹åºä¸€æ‰“å¼€å°±å´©æºƒäº†ï¼Œç¬¬ä¸€æƒ³åˆ°æ˜¯ä¸æ˜¯é“¾æ¥åº“æ²¡æœ‰ï¼ˆè¿™é‡Œæƒ³åˆ°å°æ—¶å€™ç©çš„ç›—ç‰ˆæ¸¸æˆï¼Œæ‰“ä¸å¼€æ¸¸æˆåˆ°ç½‘ä¸Šæ‰¾ä¸€æ‰¾åŸå› ï¼Œæˆ–è€…æ˜¯ä¸æ˜¯ç¨‹åºè‡ªå·±å¼¹å‡ºæ¥ç¼ºå°‘å“ªä¸ª.dllï¼Œè¿™æ—¶å€™å†å»ä¸‹è½½ä¸€ä¸ªæ”¾è¿›æ–‡ä»¶å¤¹ï¼‰ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ‘¸ç´¢åˆ°äº†æ€ä¹ˆæ¥æ’æŸ¥.dllç¼ºå¤±çš„é—®é¢˜ï¼Œç®€å•æ¥è¯´å°±æ˜¯å…ˆçœ‹å°‘å“ªä¸ªï¼Œå°‘äº†é‚£å°±å¤åˆ¶è¿‡å»ï¼Œä½†æ€ä¹ˆæ’æŸ¥å‘¢ï¼Ÿä¹Ÿæ˜¯æœ‰å·¥å…·èƒ½ç›´æ¥ç”¨çš„ï¼Œæˆ‘è¿˜æ˜¯é‡‡ç”¨å…ˆæ”¶é›†ä¿¡æ¯å†å°è¯•çš„ç­–ç•¥\ncx_Freezeæœ¬èº«æ˜¯å¯ä»¥ç”¨çš„ï¼Œä½†æ˜¯åæ¥ï¼Œæˆ‘äº§ç”Ÿäº†ä¸€ä¸ªä¸æˆç†Ÿçš„éœ€æ±‚ï¼š\nèƒ½ä¸èƒ½å°†æ‰€æœ‰çš„dllå’Œexeä¸€èµ·æ‰“åŒ…æˆä¸€ä¸ªç‹¬ç«‹exeæ–‡ä»¶ï¼Ÿ\nå°è¯•cx_Freezeå‘ç°ä¼¼ä¹ä¸å¤ªè¡Œï¼Œæ‰€ä»¥åé¢å°±è½¬æˆ˜äº†PyInstallerï¼Œä½†æ˜¯å®é™…ç”¨èµ·æ¥ï¼ŒPyInstallerè¦æ›´å¥½ç”¨ä¸€äº›ï¼Œ**å› ä¸ºå¯ä»¥è®¾å®šçš„å‚æ•°æ›´è¯¦ç»†ï¼Œ**åŸæœ¬æˆ‘ä»¥ä¸ºå°±æ˜¯å‘½ä»¤è¡Œå‚æ•°çš„è¾“å…¥é‚£ä¹ˆç®€å•ï¼Œåæ¥å› ä¸ºæƒ³åˆ°ï¼šè¿™ç§æ‰“åŒ…å·¥å…·ï¼Œåº”è¯¥æ˜¯æœ‰ä¸“é—¨çš„é…ç½®æ–‡ä»¶å¯ä»¥è®¾ç½®çš„å§ï¼Ÿäºæ˜¯å°±æ‘¸æ¸…æ¥šäº†æµç¨‹ã€‚è€Œä¸”å¦‚æœå¸¦ç€é—®é¢˜å’Œéœ€æ±‚å‡ºå‘ï¼Œå¯ä»¥è®¾ç½®çš„é€‰é¡¹è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š\næ‰‹åŠ¨é€‰æ‹©å“ªäº›dllæ˜¯é¢å¤–æ‰“åŒ…çš„ æ˜¯å¦è¦æ˜¾ç¤ºç»ˆç«¯ï¼ˆåœ¨cx_Freezeä¸­å«åšWin32GUIï¼Œæ˜¾ç¤ºç»ˆç«¯é…åˆæ‰“å°è¯­å¥ï¼Œå¯ä»¥è°ƒè¯•ï¼›åŒæ ·ï¼Œå¦‚æœæƒ³è¦å»é™¤ç»ˆç«¯åˆ›å»ºï¼Œé‚£ä¹ˆä¸€å®šä¸èƒ½å‡ºç°æ‰“å°è¾“å‡ºåˆ°ç»ˆç«¯ï¼‰ é…ç½®å›¾æ ‡ï¼Œç‰ˆæœ¬ä¿¡æ¯ç­‰ç­‰ç­‰ å®é™…ä½¿ç”¨çš„ä¾‹å­ å¯¹äºcx_Freezeå¯ä»¥ä½¿ç”¨install_exe.pyå†™ä¸€ä¸ªæ‰“åŒ…é…ç½®ï¼š\nfrom cx_Freeze import setup, Executable import os # é¢å¤–çš„ddlæ–‡ä»¶ extra_dll_files = [ (\u0026#39;extra_dll/libomp140.x86_64.dll\u0026#39;, \u0026#39;libomp140.x86_64.dll\u0026#39;), (\u0026#39;extra_dll/libomp140d.x86_64.dll\u0026#39;, \u0026#39;libomp140d.x86_64.dll\u0026#39;) ] # åˆå¹¶æ‰€æœ‰éœ€è¦åŒ…å«çš„æ–‡ä»¶ include_files = extra_dll_files # æ·»åŠ æ‰“åŒ…é€‰é¡¹ options = { \u0026#39;build_exe\u0026#39;: { \u0026#39;build_exe\u0026#39;: \u0026#39;mt3d_2.0\u0026#39;, \u0026#39;include_files\u0026#39;: include_files, \u0026#39;include_msvcr\u0026#39;: True # åŒ…å« Microsoft Visual C++ è¿è¡Œæ—¶åº“ } } # é…ç½®å¯æ‰§è¡Œæ–‡ä»¶ executables = [ Executable(\u0026#39;main.py\u0026#39;, base=\u0026#39;Win32GUI\u0026#39;, target_name=\u0026#39;mt3d.exe\u0026#39;) ] # è®¾ç½®æ‰“åŒ… setup( name=\u0026#39;MT3D\u0026#39;, version=\u0026#39;1.0\u0026#39;, description=\u0026#39;Manifold Tech Limited 3D Rendererer\u0026#39;, options=options, executables=executables ) å®é™…è¿è¡Œå°±æ˜¯ï¼š\npython .\\install_exe.py build è€Œå¯¹äºPyInstallerï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚install.specï¼Œè¿™ä¸ªspecæ–‡ä»¶æœ¬è´¨ä¸Šä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯Pythonæ–‡ä»¶ï¼š\n# -*- mode: python ; coding: utf-8 -*- import os # å…¶ä»–é¢å¤–è€ƒè™‘çš„dllæ–‡ä»¶ extra_dll_files = [ (os.path.abspath(\u0026#39;extra_dll/libomp140.x86_64.dll\u0026#39;), \u0026#39;.\u0026#39;), # è¿™é‡Œçš„ \u0026#39;.\u0026#39; è¡¨ç¤ºç›®æ ‡è·¯å¾„æ˜¯æ‰“åŒ…åçš„æ ¹ç›®å½• (os.path.abspath(\u0026#39;extra_dll/libomp140d.x86_64.dll\u0026#39;), \u0026#39;.\u0026#39;), ] pre_run_pkg_path = os.path.abspath(\u0026#39;PreOps\u0026#39;) pre_run_dlls = [(os.path.join(pre_run_pkg_path, dll), \u0026#39;.\u0026#39;) for dll in os.listdir(pre_run_pkg_path) if dll.endswith(\u0026#39;.dll\u0026#39;)] exe_files = [ (\u0026#39;PreOps.exe\u0026#39;, \u0026#39;.\u0026#39;) ] # è®¾ç½®é™„åŠ æ–‡ä»¶ binaries = extra_dll_files + pre_run_dlls + exe_files # å®šä¹‰ assets æ–‡ä»¶å¤¹çš„è·¯å¾„ assets_dir = os.path.abspath(\u0026#39;assets\u0026#39;) # éå† assets ç›®å½•åŠå…¶å­ç›®å½• data_files = [] for root, dirs, files in os.walk(assets_dir): for file in files: # è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ file_path = os.path.join(root, file) # åœ¨æ‰“åŒ…æ—¶ï¼Œå°†æ–‡ä»¶æ”¾å…¥ assets æ–‡ä»¶å¤¹å†…ä¿æŒå±‚æ¬¡ç»“æ„ target_path = os.path.join(\u0026#39;assets\u0026#39;, os.path.relpath(root, assets_dir)) # å°†æ¯ä¸ªæ–‡ä»¶çš„æºè·¯å¾„å’Œç›®æ ‡è·¯å¾„æ·»åŠ åˆ° data_files åˆ—è¡¨ data_files.append((file_path, target_path)) # å®šä¹‰ lib æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆåŒ…å« .js æ–‡ä»¶ï¼‰ lib_dir = os.path.abspath(\u0026#39;lib\u0026#39;) # éå† lib ç›®å½•åŠå…¶å­ç›®å½• for root, dirs, files in os.walk(lib_dir): for file in files: # è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ file_path = os.path.join(root, file) # åœ¨æ‰“åŒ…æ—¶ï¼Œå°†æ–‡ä»¶æ”¾å…¥ lib æ–‡ä»¶å¤¹å†…ä¿æŒå±‚æ¬¡ç»“æ„ target_path = os.path.join(\u0026#39;lib\u0026#39;, os.path.relpath(root, lib_dir)) # å°†æ¯ä¸ªæ–‡ä»¶çš„æºè·¯å¾„å’Œç›®æ ‡è·¯å¾„æ·»åŠ åˆ° data_files åˆ—è¡¨ data_files.append((file_path, target_path)) block_cipher = None # EXE é…ç½® a = Analysis( [\u0026#39;train.py\u0026#39;], pathex=[\u0026#39;.\u0026#39;], binaries=binaries, datas=data_files, hiddenimports=[], hookspath=[], runtime_hooks=[], excludes=[], win_no_prefer_redirects=False, win_private_assemblies=False, cipher=block_cipher, noarchive=False, ) # PYZ é…ç½® pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher) # EXE é…ç½® exe = EXE( pyz, a.scripts, [], exclude_binaries=True, # è®¾ç½®ä¸º Trueï¼Œè¡¨ç¤º EXE ä¸­ä¸åŒ…å« binariesï¼Œå› ä¸º binaries å°†åœ¨ COLLECT é˜¶æ®µå¤„ç† name=\u0026#39;MindCloud Renderer\u0026#39;, debug=False, bootloader_ignore_signals=False, strip=False, upx=True, upx_exclude=[], runtime_tmpdir=None, console=False, # è®¾ç½®ä¸º False éšè—æ§åˆ¶å°çª—å£ icon=\u0026#39;C:/Users/Quite/CKCode/3DGSMT/assets/logo.ico\u0026#39;, version=\u0026#39;mt3d_version.txt\u0026#39;, # ä»æ–‡ä»¶ä¸­è¯»å–ç‰ˆæœ¬ä¿¡æ¯ ) # COLLECT é…ç½® coll = COLLECT( exe, a.binaries, a.zipfiles, a.datas, strip=False, upx=True, upx_exclude=[], name=\u0026#39;MindCloud Renderer\u0026#39; ) #### ä»¥ä¸‹æ˜¯å•ç‹¬çš„ä¸€ä¸ªexeæ–¹å¼ #### #### 32ä½ç³»ç»Ÿå•æ–‡ä»¶ä¸èƒ½å¤§äº4G #### # # EXE é…ç½® # exe = EXE( # pyz, # a.scripts, # a.binaries, # a.zipfiles, # a.datas, # [], # name=\u0026#39;MindCloud Renderer\u0026#39;, # debug=False, # bootloader_ignore_signals=False, # strip=False, # upx=False, # upx_exclude=[], # runtime_tmpdir=None, # console=False, # è®¾ç½®ä¸º False éšè—æ§åˆ¶å°çª—å£ # icon=\u0026#39;C:/Users/Quite/CKCode/3DGSMT/assets/logo.ico\u0026#39;, # version=\u0026#39;mt3d_version.txt\u0026#39;, # ä»æ–‡ä»¶ä¸­è¯»å–ç‰ˆæœ¬ä¿¡æ¯ # onefile=True # è®¾ç½®ä¸º True ä»¥ç”Ÿæˆå•æ–‡ä»¶ # ) ä½¿ç”¨çš„è¯å°±æ˜¯ï¼š\npyinstaller .\\install.spec å…¶å®ä»è¿™é‡Œçš„æ³¨é‡Šå¯ä»¥çœ‹å‡ºï¼Œå½“æ—¶é‡åˆ°äº†æ‰“åŒ…ä¸€ä¸ªç‹¬ç«‹exeç¨‹åºçš„é—®é¢˜ï¼šæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡4Gï¼Œåº•å±‚åŸå› å¯èƒ½å’Œ32ä½ç³»ç»Ÿæœ‰å…³ç³»ï¼Œä½†å¦‚æœæ‰“åŒ…æˆä¸€ä¸ª_internalæ–‡ä»¶å¤¹ï¼Œå°±æ˜¯æ­£å¸¸çš„ã€‚å†™åˆ°è¿™é‡Œï¼Œæƒ³åˆ°äº†å½“æ—¶åˆ¶ä½œæ™•åˆ°æ­»å®‰è£…ç›˜æ—¶å€™ä¹Ÿæ˜¯ï¼Œé‚£ä¸ªæ™•åˆ°æ­»çš„é•œåƒæ–‡ä»¶å¤§äº4Gäº†ï¼Œç”¨å®˜ç½‘çš„å·¥å…·å‹æ ¹å¤åˆ¶ä¸å®Œå…¨ï¼Œç»“æœéƒ½4202å¹´äº†ï¼Œé—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼Œæœ€å¥½æ˜¯æ‰‹åŠ¨é€‰æ‹©NTFSæ–‡ä»¶ç³»ç»Ÿï¼Œæ‰‹åŠ¨å¤åˆ¶è¿›å»çš„ï¼Œä¹Ÿæ˜¯æŠ˜è…¾äº†è€åŠå¤©ã€‚ã€‚ã€‚refus+æ‰‹åŠ¨å¤åˆ¶å§\nä»¥ä¸Šåªèƒ½ç®—æ˜¯ä¸€æ¬¡åˆæ­¥çš„ä½¿ç”¨å’Œæ„Ÿå—è®°å½•ï¼Œåé¢å¦‚æœå†ç”¨åˆ°ï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå†å¾€å‰è¿ˆè¿›ä¸€æ­¥äº†ã€‚\nWindowsçš„dllåˆ†æå·¥å…· è¯´å®è¯ï¼Œä¸€å¼€å§‹å»æœç´¢æœ‰å“ªäº›dllåˆ†æå·¥å…·çš„æ—¶å€™ï¼Œé‡åˆ°ä¸‹è½½å¤±è´¥ï¼Œgithubæ˜¾ç¤ºçš„æ—¶é—´æ˜¯10å¹´å‰ï¼Œæˆ‘éƒ½åœ¨æƒ³ï¼Œæ˜¯ä¸æ˜¯è¿™ç©æ„ä¸èƒ½ç”¨äº†ï¼Œåé¢æ‰çŸ¥é“æ˜¯è‡ªå·±ä¸ä¼šç”¨ã€‚ã€‚ã€‚çº¯å±å‚»ï¼Œæ¯”è¾ƒæç¬‘çš„æ˜¯ï¼Œç‚¹å¼€Dependenciesé—ªé€€å°±ä»¥ä¸ºç¨‹åºä¸è¡Œï¼Œä½†æ˜¯äººå®¶è¿˜æœ‰ä¸ªDependenciesGuiå‘¢ï¼Œæˆ‘ç»™ç›´æ¥å¿½è§†æ‰ï¼Œå¯¼è‡´æˆ‘ä¸€å¼€å§‹ç›´æ¥é™·å…¥è‡ªé—­çŠ¶æ€å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚ã€‚ã€‚\næœé›†çš„ä¿¡æ¯æ˜¯è¿™æ ·çš„ï¼š\nåœ¨Windowsä¸Šæ£€æŸ¥ä¸€ä¸ªç¨‹åºçš„DLLä¾èµ–å¹¶åˆ¤æ–­æ˜¯å¦æœ‰ç¼ºå¤±çš„ç°ä»£å·¥å…·å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°è§£å†³åŠ¨æ€é“¾æ¥åº“ï¼ˆDLLï¼‰åŠ è½½é—®é¢˜ã€‚éšç€Windowsç³»ç»Ÿçš„å‘å±•ï¼Œä¼ ç»Ÿå·¥å…·å¦‚ Dependency Walker é€æ¸æ— æ³•é€‚åº”ç°ä»£ç³»ç»Ÿçš„æ–°ç‰¹æ€§ï¼Œè¯¸å¦‚API Set Schemaå’ŒSxSï¼ˆside-by-sideï¼‰ä¾èµ–ç­‰æœºåˆ¶ã€‚å› æ­¤ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æœ€æ–°ã€æˆç†Ÿä¸”å¸¸ç”¨çš„å·¥å…·ï¼Œæ¶µç›–äº†ä»é™æ€åˆ°åŠ¨æ€åˆ†æçš„ä¸åŒéœ€æ±‚ï¼š\n1. Dependencies (lucasg/Dependencies) ç®€ä»‹ï¼šDependencies æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„DLLä¾èµ–åˆ†æå·¥å…·ï¼Œä¸“ä¸ºæ›¿ä»£è€æ—§çš„ Dependency Walker è€Œè®¾è®¡ï¼Œèƒ½å¤„ç†Windows 10åŠä»¥åçš„API Set Schemaå’ŒSxSä¾èµ–é—®é¢˜ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š è¯†åˆ«å’Œè§£æWindows 10çš„API Set Schemaã€‚ æ”¯æŒSxSå¹¶è¡Œä¾èµ–åˆ†æã€‚ æ˜¾ç¤ºDLLå¯¼å…¥å¯¼å‡ºè¡¨ï¼Œåˆ—å‡ºå‡½æ•°ä¾èµ–ã€‚ æ”¯æŒé™æ€å’ŒåŠ¨æ€ä¾èµ–åˆ†æï¼Œæä¾›å®æ—¶çš„DLLåŠ è½½ä¿¡æ¯ã€‚ é€‚ç”¨åœºæ™¯ï¼šå¤„ç†ç°ä»£Windowsæ“ä½œç³»ç»Ÿä¸Šçš„DLLåŠ è½½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåŠ¨æ€åŠ è½½ã€å¹¶è¡Œä¾èµ–å’Œé‡å®šå‘APIçš„åœºæ™¯ã€‚ ä¸‹è½½ï¼šDependencies - GitHub ä½¿ç”¨æ–¹æ³•ï¼š ä¸‹è½½å¹¶è¿è¡Œ Dependencies.exeã€‚ æ‰“å¼€ç›®æ ‡å¯æ‰§è¡Œæ–‡ä»¶æˆ–DLLï¼ŒæŸ¥çœ‹ä¾èµ–æ ‘ï¼Œç¼ºå¤±çš„DLLä¼šæ ‡çº¢ã€‚ æ”¯æŒå¯¼å…¥è¡¨å’Œå¯¼å‡ºè¡¨çš„æŸ¥çœ‹ï¼Œå¸®åŠ©ä½ æ‰¾åˆ°å…·ä½“çš„å‡½æ•°ä¾èµ–ã€‚ 2. Process Monitor (ProcMon) ç®€ä»‹ï¼šProcess Monitor æ˜¯ç”±Microsoft Sysinternalsæä¾›çš„é«˜çº§ç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œç”¨äºå®æ—¶è·Ÿè¸ªæ‰€æœ‰æ–‡ä»¶ã€æ³¨å†Œè¡¨æ“ä½œä»¥åŠDLLåŠ è½½æƒ…å†µã€‚å®ƒå¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ç›‘æ§å¹¶è®°å½•DLLçš„åŠ è½½è¿‡ç¨‹ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š å®æ—¶ç›‘æ§DLLåŠ è½½è¿‡ç¨‹ã€‚ è¯¦ç»†è®°å½•æ¯ä¸ªDLLçš„åŠ è½½è·¯å¾„ã€çŠ¶æ€ã€åŠ è½½å¤±è´¥çš„åŸå› ã€‚ æ”¯æŒè®¾ç½®å¤æ‚è¿‡æ»¤å™¨ï¼Œèšç„¦DLLåŠ è½½ç›¸å…³çš„æ“ä½œï¼ˆå¦‚ Load Imageï¼‰ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆåˆ†æç¨‹åºåœ¨è¿è¡Œæ—¶åŠ è½½çš„DLLï¼Œè°ƒè¯•ç¼ºå¤±æˆ–åŠ è½½å¤±è´¥çš„DLLï¼Œè§£å†³åŠ¨æ€ä¾èµ–é—®é¢˜ã€‚ ä¸‹è½½ï¼šProcess Monitor - Microsoft ä½¿ç”¨æ–¹æ³•ï¼š å¯åŠ¨ProcMonå¹¶è®¾ç½®è¿›ç¨‹è¿‡æ»¤å™¨ã€‚ è¿è¡Œç›®æ ‡ç¨‹åºï¼Œè§‚å¯ŸDLLçš„åŠ è½½æƒ…å†µã€‚ ä½¿ç”¨ Load Image è¿‡æ»¤å™¨æŸ¥çœ‹æ‰€æœ‰DLLåŠ è½½æ“ä½œï¼Œåˆ†ææ˜¯å¦æœ‰åŠ è½½å¤±è´¥çš„DLLã€‚ 3. ListDLLs ç®€ä»‹ï¼šListDLLs æ˜¯ä¸€ä¸ªè½»é‡çº§å‘½ä»¤è¡Œå·¥å…·ï¼Œæ¥è‡ªMicrosoft Sysinternalsï¼Œç”¨äºåˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰€åŠ è½½çš„æ‰€æœ‰DLLã€‚å®ƒèƒ½å¸®åŠ©ä½ å¿«é€ŸæŸ¥çœ‹åº”ç”¨ç¨‹åºå®é™…åŠ è½½äº†å“ªäº›DLLä»¥åŠè¿™äº›DLLçš„è·¯å¾„ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰€åŠ è½½çš„DLLã€‚ æ˜¾ç¤ºDLLåŠ è½½çš„è·¯å¾„å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚ é€‚ç”¨åœºæ™¯ï¼šå¿«é€ŸæŸ¥çœ‹æŸä¸ªè¿›ç¨‹å½“å‰ä½¿ç”¨çš„DLLï¼Œæ’æŸ¥å¯èƒ½çš„DLLç‰ˆæœ¬å†²çªæˆ–åŠ è½½é”™è¯¯ã€‚ ä¸‹è½½ï¼šListDLLs - Microsoft ä½¿ç”¨æ–¹æ³•ï¼š åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ listdlls.exe [è¿›ç¨‹åæˆ–PID]ã€‚ æŸ¥çœ‹è¯¥è¿›ç¨‹åŠ è½½çš„æ‰€æœ‰DLLåŠå…¶è·¯å¾„ï¼Œæ’æŸ¥é—®é¢˜ã€‚ 4. CFF Explorer ç®€ä»‹ï¼šCFF Explorer æ˜¯ä¸€ä¸ªå¼ºå¤§çš„PEæ–‡ä»¶åˆ†æå·¥å…·ï¼Œå…è®¸ä½ æŸ¥çœ‹Windowså¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚EXEã€DLLï¼‰çš„ç»“æ„å’Œä¾èµ–ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š å…è®¸æŸ¥çœ‹PEæ–‡ä»¶çš„å¯¼å…¥è¡¨å’Œå¯¼å‡ºè¡¨ã€‚ åˆ†ææ–‡ä»¶çš„ä¾èµ–DLLåŠå…¶åŠ è½½è·¯å¾„ã€‚ æ”¯æŒç¼–è¾‘PEæ–‡ä»¶çš„æŸäº›éƒ¨åˆ†ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦æ·±å…¥åˆ†æå¯æ‰§è¡Œæ–‡ä»¶çš„PEç»“æ„ã€å¯¼å…¥è¡¨ã€å¯¼å‡ºè¡¨åŠä¾èµ–å…³ç³»çš„å¼€å‘è€…ã€‚ ä¸‹è½½ï¼šCFF Explorer - NTCore ä½¿ç”¨æ–¹æ³•ï¼š æ‰“å¼€CFF Explorerï¼Œè½½å…¥ç›®æ ‡å¯æ‰§è¡Œæ–‡ä»¶æˆ–DLLã€‚ æŸ¥çœ‹â€œImport Directoryâ€ä»¥è·å–è¯¥æ–‡ä»¶çš„DLLä¾èµ–ã€‚ 5. PE Explorer ç®€ä»‹ï¼šå¦ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„PEæ–‡ä»¶åˆ†æå·¥å…·ï¼Œç±»ä¼¼äºCFF Explorerã€‚å®ƒä¸“æ³¨äºæŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä¾èµ–å’Œå†…éƒ¨ç»“æ„ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š æŸ¥çœ‹å¯¼å…¥è¡¨ã€å¯¼å‡ºè¡¨ä»¥åŠä¾èµ–DLLã€‚ æ”¯æŒç¼–è¾‘æ–‡ä»¶å†…éƒ¨ç»“æ„ã€‚ é€‚ç”¨åœºæ™¯ï¼šå¯¹PEæ–‡ä»¶ç»“æ„è¿›è¡Œè¯¦ç»†åˆ†æï¼Œè§£å†³å¤æ‚çš„DLLä¾èµ–é—®é¢˜ã€‚ ä¸‹è½½ï¼šPE Explorer - Heaventools 6. Sigcheck ç®€ä»‹ï¼šSigcheck æ˜¯Sysinternalsçš„å¦ä¸€ä¸ªå·¥å…·ï¼Œä¸»è¦ç”¨äºæ£€æŸ¥æ–‡ä»¶çš„æ•°å­—ç­¾åï¼Œä½†å®ƒä¹Ÿå¯ä»¥åˆ—å‡ºæ–‡ä»¶çš„ä¾èµ–DLLåŠå…¶ç­¾åä¿¡æ¯ï¼Œé€‚ç”¨äºæ’æŸ¥æ½œåœ¨çš„DLLå®‰å…¨é—®é¢˜ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š åˆ—å‡ºæ–‡ä»¶çš„ä¾èµ–DLLåŠå…¶ç­¾åä¿¡æ¯ã€‚ æ£€æŸ¥DLLæ˜¯å¦æœªç­¾åæˆ–æœ‰å®‰å…¨é£é™©ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆç”¨äºå®‰å…¨åˆ†æï¼Œæ£€æŸ¥åº”ç”¨ç¨‹åºä¾èµ–çš„DLLçš„ç­¾åçŠ¶æ€ï¼Œç¡®ä¿æ²¡æœ‰ä¸å®‰å…¨çš„ä¾èµ–ã€‚ ä¸‹è½½ï¼šSigcheck - Microsoft ä½¿ç”¨æ–¹æ³•ï¼š åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ sigcheck -e [å¯æ‰§è¡Œæ–‡ä»¶æˆ–DLL]ã€‚ å·¥å…·ä¼šåˆ—å‡ºä¾èµ–çš„DLLä»¥åŠå®ƒä»¬çš„ç­¾åçŠ¶æ€ã€‚ 7. DLL Export Viewer ç®€ä»‹ï¼šè¿™æ˜¯ä¸€ä¸ªè½»é‡å·¥å…·ï¼Œç”¨äºæŸ¥çœ‹DLLæ–‡ä»¶å¯¼å‡ºçš„æ‰€æœ‰å‡½æ•°ï¼Œå¸®åŠ©ä½ åˆ†æDLLå†…éƒ¨å‡½æ•°æ˜¯å¦å®Œæ•´æˆ–è€…æ˜¯å¦è¢«æ­£ç¡®è°ƒç”¨ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š åˆ—å‡ºDLLçš„æ‰€æœ‰å¯¼å‡ºå‡½æ•°ã€‚ æ”¯æŒä¿å­˜å¯¼å‡ºåˆ—è¡¨ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆæ£€æŸ¥æŸäº›DLLæ˜¯å¦ç¼ºå°‘å¯¼å‡ºå‡½æ•°ï¼Œæˆ–è€…å¯¼å‡ºå‡½æ•°æ˜¯å¦ä¸é¢„æœŸä¸€è‡´ã€‚ ä¸‹è½½ï¼šDLL Export Viewer - NirSoft 8. Nirsoft LoadedDllsView ç®€ä»‹ï¼šLoadedDllsView æ˜¯æ¥è‡ªNirSoftçš„å·¥å…·ï¼Œå®ƒå¯ä»¥åˆ—å‡ºæŒ‡å®šè¿›ç¨‹ä¸­åŠ è½½çš„æ‰€æœ‰DLLæ–‡ä»¶åŠå…¶å®Œæ•´è·¯å¾„ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š åˆ—å‡ºæ‰€æœ‰åŠ è½½çš„DLLæ–‡ä»¶åŠå…¶è·¯å¾„ã€‚ æ”¯æŒå¯¼å‡ºDLLåˆ—è¡¨ä¸ºæ–‡æœ¬æ–‡ä»¶ã€‚ é€‚ç”¨åœºæ™¯ï¼šç±»ä¼¼äºListDLLsï¼Œé€‚åˆæŸ¥çœ‹æŸä¸ªè¿›ç¨‹åŠ è½½çš„DLLï¼Œè§£å†³åŠ è½½å†²çªå’Œä¾èµ–é—®é¢˜ã€‚ ä¸‹è½½ï¼šLoadedDllsView - NirSoft 9. LDG (Load Dependency Graph) ç®€ä»‹ï¼šLDG æ˜¯ä¸€ä¸ªæ–°çš„å·¥å…·ï¼Œä¸“é—¨ç”¨äºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„ä¾èµ–å…³ç³»å›¾ï¼Œå¸®åŠ©å¼€å‘è€…å¯è§†åŒ–æ–‡ä»¶ä¸DLLä¹‹é—´çš„å…³ç³»ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š å¯è§†åŒ–ä¾èµ–å…³ç³»å›¾ã€‚ æ”¯æŒç”Ÿæˆä¾èµ–å›¾çš„æ–‡ä»¶è¾“å‡ºã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦å¯è§†åŒ–æ–‡ä»¶ä¾èµ–çš„åœºæ™¯ï¼Œå¸®åŠ©æ›´ç›´è§‚åœ°åˆ†æå¤æ‚ä¾èµ–æ ‘ã€‚ ä¸‹è½½ï¼šLDG - GitHub æ€»ç»“ åœ¨ç°ä»£Windowsç¯å¢ƒä¸­ï¼ŒDependencies æ˜¯å½“å‰æœ€é€‚åˆæ›¿ä»£ Dependency Walker çš„å·¥å…·ï¼Œå°¤å…¶å¯¹äºWindows 10çš„API Set Schemaå’ŒSxSæ”¯æŒï¼Œå®ƒå…·æœ‰æä½³çš„å¤„ç†èƒ½åŠ›ã€‚å¦‚æœä½ éœ€è¦åŠ¨æ€åˆ†æDLLåŠ è½½æƒ…å†µï¼ŒProcess Monitor æä¾›äº†å®æ—¶ç›‘æ§åŠŸèƒ½ï¼Œé€‚åˆè°ƒè¯•å¤æ‚çš„ä¾èµ–é—®é¢˜ã€‚å¯¹äºè½»é‡çº§å’Œç‰¹å®šåœºæ™¯çš„éœ€æ±‚ï¼ŒListDLLsã€Sigcheckã€CFF Explorer ç­‰å·¥å…·åˆ™å¯ä»¥å¿«é€Ÿã€æœ‰æ•ˆåœ°å¸®åŠ©ä½ åˆ†æé—®é¢˜ã€‚\næ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å¯ä»¥å¸®åŠ©ä½ æ›´å¿«åœ°æ‰¾åˆ°å’Œè§£å†³DLLç¼ºå¤±ã€åŠ è½½å¤±è´¥æˆ–ä¾èµ–å†²çªé—®é¢˜ã€‚\nä»¥ä¸Šéƒ½ä¸é‡è¦ï¼Œå…³é”®æ˜¯èƒ½ç”¨ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥è¦åšçš„æ˜¯å…ˆä¸Šæ‰‹ï¼Œåæ¥å®é™…å‘ç°DependenciesæŒºå¥½ç”¨çš„ï¼Œåœ¨å…¶ä»–Windowsä¸Šè¿è¡Œç¨‹åºæ—¶ï¼Œå¦‚æœå‡ºç°ä¸€æ‰“å¼€å°±ç›´æ¥æŒ‚æ‰ï¼Œé‚£ä¹ˆç›´æ¥ç”¨DependenciesGUIåˆ†æä¸€ä¸‹ï¼Œä¸€èˆ¬å°±èƒ½æ‰¾åˆ°æ˜¯å“ªä¸ªdllç¼ºå¤±ï¼Œç„¶åå†æŠŠç¼ºå¤±çš„dllæ”¾åˆ°ç¨‹åºè¿è¡Œçš„ç›®å½•å°±èƒ½è§£å†³äº†ã€‚\næŸ¥æ‰¾exeçš„æ‰€æœ‰dllä¾èµ–å¹¶å¤åˆ¶åœ¨ä¸€èµ· å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿˜äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼šæ¯”å¦‚æˆ‘cmakeç¼–è¯‘çš„exeï¼Œè¿è¡Œæ—¶æ‰€ä¾èµ–çš„dllåœ¨å“ªï¼Ÿæˆ‘æƒ³æŠŠè¿™äº›dll éƒ½æ”¾åˆ°ä¸€èµ·ï¼Œé‚£ä¹ˆè¿™æ ·åœ¨å…¶ä»–Windowsä¸Šï¼Œä¸å°±å¯ä»¥è¿è¡Œè¿™ä¸ªexeäº†å—ï¼Ÿ\næˆ‘æœ€åä½¿ç”¨çš„æ˜¯è¿™ç§æ–¹æ³•ï¼š\n# PowerShell è„šæœ¬ï¼šCopy-AllDependencies.ps1 param ( [string]$ExePath, # å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ [string]$OutputDir # è¾“å‡ºç›®å½•çš„è·¯å¾„ ) # æ£€æŸ¥è¾“å…¥å‚æ•°æ˜¯å¦æœ‰æ•ˆ if (-not (Test-Path $ExePath)) { Write-Error \u0026#34;Error: The specified EXE file does not exist: $ExePath\u0026#34; exit 1 } if (-not (Test-Path $OutputDir)) { Write-Output \u0026#34;Output directory does not exist. Creating directory: $OutputDir\u0026#34; New-Item -Path $OutputDir -ItemType Directory } # å¯åŠ¨è¿›ç¨‹ä»¥è·å–æ‰€æœ‰ DLL ä¾èµ–é¡¹ $process = Start-Process -FilePath $ExePath -PassThru -WindowStyle Hidden # æš‚åœå‡ ç§’é’Ÿï¼Œä»¥ä¾¿è¿›ç¨‹åŠ è½½æ‰€æœ‰ DLL Start-Sleep -Seconds 2 # è·å–æ‰€æœ‰åŠ è½½çš„ DLL $loadedModules = $process.Modules | Where-Object { $_.FileName -like \u0026#34;*.dll\u0026#34; } # å¤åˆ¶ EXE æ–‡ä»¶åˆ°è¾“å‡ºç›®å½• Copy-Item -Path $ExePath -Destination $OutputDir -Force Write-Output \u0026#34;Copied: $(Split-Path -Leaf $ExePath) to $OutputDir\u0026#34; # éå†æ‰€æœ‰æ‰¾åˆ°çš„ DLL æ–‡ä»¶å¹¶å¤åˆ¶ foreach ($module in $loadedModules) { $dllPath = $module.FileName $dllName = [System.IO.Path]::GetFileName($dllPath) # æ„å»ºç›®æ ‡è·¯å¾„ $targetPath = Join-Path -Path $OutputDir -ChildPath $dllName # å¤åˆ¶ DLL æ–‡ä»¶åˆ°è¾“å‡ºç›®å½• try { Copy-Item -Path $dllPath -Destination $targetPath -Force Write-Output \u0026#34;Copied: $dllName to $OutputDir\u0026#34; } catch { Write-Warning \u0026#34;Failed to copy: $dllName\u0026#34; } } # æ£€æŸ¥è¿›ç¨‹æ˜¯å¦ä»åœ¨è¿è¡Œ if (-not $process.HasExited) { # å°è¯•ç»“æŸè¿›ç¨‹ try { Stop-Process -Id $process.Id -Force Write-Output \u0026#34;Process terminated: $process.Id\u0026#34; } catch { Write-Warning \u0026#34;Could not terminate process: $_\u0026#34; } } else { Write-Output \u0026#34;The process has already exited.\u0026#34; } Write-Output \u0026#34;All DLL dependencies copied to: $OutputDir\u0026#34; æˆ–è€…ä¸‹é¢çš„è¿™ç§å¯ä»¥é‡è¯•çš„å†™æ³•ä¹Ÿè¡Œï¼š\nparam ( [string]$ExePath, # å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ [string]$OutputDir # è¾“å‡ºç›®å½•çš„è·¯å¾„ ) # æ£€æŸ¥è¾“å…¥å‚æ•°æ˜¯å¦æœ‰æ•ˆ if (-not (Test-Path $ExePath)) { Write-Error \u0026#34;Error: The specified EXE file does not exist: $ExePath\u0026#34; exit 1 } if (-not (Test-Path $OutputDir)) { Write-Output \u0026#34;Output directory does not exist. Creating directory: $OutputDir\u0026#34; New-Item -Path $OutputDir -ItemType Directory } # å®šä¹‰æœ€å¤šå°è¯•çš„æ¬¡æ•° $maxRetries = 3 $retryCount = 0 # å¤åˆ¶ EXE æ–‡ä»¶åˆ°è¾“å‡ºç›®å½• Copy-Item -Path $ExePath -Destination $OutputDir -Force Write-Output \u0026#34;Copied: $(Split-Path -Leaf $ExePath) to $OutputDir\u0026#34; # å¾ªç¯å°è¯•é‡å¯è¿›ç¨‹ do { # å¯åŠ¨è¿›ç¨‹å¹¶ç¡®ä¿å®ƒåœ¨åå°è¿è¡Œï¼Œé˜²æ­¢å®ƒè¢«å¿«é€Ÿç»ˆæ­¢ $process = Start-Process -FilePath $ExePath -PassThru -WindowStyle Hidden # æš‚åœå‡ ç§’é’Ÿï¼Œä»¥ç¡®ä¿ DLL åŠ è½½å®Œæˆ Start-Sleep -Seconds 5 # æ£€æŸ¥è¿›ç¨‹æ˜¯å¦ä»åœ¨è¿è¡Œ if (-not $process.HasExited) { # è·å–åŠ è½½çš„æ¨¡å—ï¼ˆDLLï¼‰ $loadedModules = $process.Modules | Where-Object { $_.FileName -like \u0026#34;*.dll\u0026#34; } # éå†æ‰€æœ‰æ‰¾åˆ°çš„ DLL æ–‡ä»¶å¹¶å¤åˆ¶ foreach ($module in $loadedModules) { $dllPath = $module.FileName $dllName = [System.IO.Path]::GetFileName($dllPath) # æ„å»ºç›®æ ‡è·¯å¾„ $targetPath = Join-Path -Path $OutputDir -ChildPath $dllName # å¤åˆ¶ DLL æ–‡ä»¶åˆ°è¾“å‡ºç›®å½• try { Copy-Item -Path $dllPath -Destination $targetPath -Force Write-Output \u0026#34;Copied: $dllName to $OutputDir\u0026#34; } catch { Write-Warning \u0026#34;Failed to copy: $dllName\u0026#34; } } # åœæ­¢è¿›ç¨‹ try { Stop-Process -Id $process.Id -Force Write-Output \u0026#34;Process terminated: $process.Id\u0026#34; } catch { Write-Warning \u0026#34;Could not terminate process: $_\u0026#34; } # é€€å‡ºå¾ªç¯ break } else { Write-Error \u0026#34;Error: The process has already exited before capturing dependencies. Retrying...\u0026#34; $retryCount++ Start-Sleep -Seconds 2 # ç­‰å¾…å‡ ç§’é’Ÿåå†è¯• } } while ($retryCount -lt $maxRetries) if ($retryCount -ge $maxRetries) { Write-Error \u0026#34;Failed to capture dependencies after multiple attempts.\u0026#34; } Write-Output \u0026#34;All DLL dependencies copied to: $OutputDir\u0026#34; ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®ï¼Œç¨‹åºè¿è¡Œåä¸èƒ½ç›´æ¥é€€å‡ºï¼Œæ‰€ä»¥æˆ‘åœ¨ä»£ç é‡ŒåŠ äº†ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œè¿˜æœ‰ä¸€ä¸ªè¾“å…¥ç­‰å¾…ï¼Œç®—æ˜¯ä¸€ä¸ªå–å·§çš„åšæ³•å§~\n// å»¶æ—¶ 10 ç§’ printf(\u0026#34;Delay 10 seconds...\\n\u0026#34;); std::this_thread::sleep_for(std::chrono::seconds(10)); std::cout \u0026lt;\u0026lt; \u0026#34;Press Enter to continue...\u0026#34; \u0026lt;\u0026lt; std::endl; std::cin.get(); // ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼ŒæŒ‰ä¸‹ Enter é”®ç»§ç»­ å®é™…æƒ…å†µè¯´æ˜ï¼Œå¦‚æœåªæ˜¯è¾“å…¥ç­‰å¾…ï¼Œæœ‰æ—¶å€™æ˜¯ä¸è¡Œçš„ï¼Œå°±æ˜¯ç¨‹åºç›´æ¥è·³å‡ºäº†ï¼Œä»€ä¹ˆdllä¹Ÿæ²¡å¤åˆ¶ï¼Œæ‰€ä»¥åé¢åˆå¼ºè¡ŒåŠ å…¥äº†çº¿ç¨‹ç­‰å¾…ã€‚\næˆ‘æ˜¯ä¹‹å‰æ²¡æœ‰åŠæ—¶è®°å½•ï¼Œç»“æœå‘ç°ï¼šç¡®å®ï¼Œéƒ½å¿˜äº†ï¼\nå¥½è®°æ€§ä¸å¦‚å¥½è®°ä¸‹å•Šï¼ï¼ï¼\nWindowsæ‰“åŒ…å®‰è£…ç¨‹åº å…¶å®PyInstallerè¿™ç§æ‰“åŒ…äº†å°±èƒ½ç”¨ï¼Œå¦‚æœç¼ºå°‘ä»€ä¹ˆdllä¾èµ–ï¼Œç›´æ¥å¤åˆ¶æ”¾è¿›å»å°±è¡Œã€‚\nè¿™ç§å°±å·²ç»æ˜¯çº¯å‡€ç»¿è‰²å…å®‰è£…ç‰ˆäº†ï¼Œç”¨èµ·æ¥æŒºæ–¹ä¾¿ï¼Œåˆ†å‘çš„è¯ï¼Œè¿›è¡Œå‹ç¼©åå°±å¯ä»¥ã€‚\nä½†æ˜¯å‘¢ï¼Œæ—¢ç„¶éƒ½å·²ç»åšåˆ°è¿™ä¸€æ­¥äº†ï¼Œé‚£å°±å†å¾€å‰å¤šæ¢ä¸€æ­¥å§ã€‚\nå°† .exe å’Œ .dll æ–‡ä»¶æ‰“åŒ…æˆå®‰è£…åŒ…å½¢å¼æ˜¯è½¯ä»¶å‘å¸ƒçš„å¸¸è§éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯å¯¹äºWindowså¹³å°çš„åº”ç”¨ç¨‹åºã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨å¤šç§å·¥å…·æ¥æ‰“åŒ…å’Œç”Ÿæˆå®‰è£…ç¨‹åºï¼Œè¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©ä½ å°†å¯æ‰§è¡Œæ–‡ä»¶ã€ä¾èµ–çš„åŠ¨æ€é“¾æ¥åº“ï¼ˆ.dll æ–‡ä»¶ï¼‰ã€èµ„æºæ–‡ä»¶ç­‰ä¸€èµ·æ‰“åŒ…ä¸ºå¯å®‰è£…çš„æ ¼å¼ï¼Œå¦‚ .msi æˆ– .exe å®‰è£…ç¨‹åºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§ä¸”æˆç†Ÿçš„æ‰“åŒ…å·¥å…·ï¼Œè¯¦ç»†è¯´æ˜äº†å®ƒä»¬çš„åŠŸèƒ½åŠé€‚ç”¨åœºæ™¯ã€‚\n1. Inno Setup ç®€ä»‹ï¼šInno Setup æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„å…è´¹å®‰è£…ç¨‹åºåˆ›å»ºå·¥å…·ï¼Œé€‚ç”¨äº Windows å¹³å°ã€‚å®ƒå…è®¸ä½ å°†åº”ç”¨ç¨‹åºçš„ .exeã€.dllã€é…ç½®æ–‡ä»¶ç­‰æ‰“åŒ…ä¸ºå•ä¸ª .exe å®‰è£…ç¨‹åºã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\næ”¯æŒå°†å¤šä¸ªæ–‡ä»¶å’Œç›®å½•æ‰“åŒ…æˆå•ä¸ª .exe å®‰è£…æ–‡ä»¶ã€‚ æ”¯æŒè‡ªå®šä¹‰å®‰è£…å‘å¯¼ç•Œé¢ã€è®¸å¯åè®®ã€å®‰è£…è·¯å¾„ç­‰ã€‚ æä¾›è„šæœ¬åŠŸèƒ½ï¼Œç”¨äºç¼–å†™å¤æ‚çš„å®‰è£…é€»è¾‘ã€‚ æ”¯æŒå®‰è£…å’Œå¸è½½æ—¶çš„æ³¨å†Œè¡¨æ“ä½œã€DLLæ³¨å†Œç­‰ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦ç®€å•åˆ°ä¸­ç­‰å¤æ‚åº¦çš„å®‰è£…åŒ…åˆ›å»ºéœ€æ±‚ï¼Œé€‚ç”¨äºä¸ªäººé¡¹ç›®å’Œå°å‹åˆ°ä¸­å‹çš„è½¯ä»¶åˆ†å‘ã€‚\nä½¿ç”¨æ–¹æ³•ï¼š\nä¸‹è½½ Inno Setup å¹¶å®‰è£…ã€‚ åˆ›å»º .iss è„šæœ¬æ–‡ä»¶ï¼Œå®šä¹‰è¦æ‰“åŒ…çš„æ–‡ä»¶ã€å®‰è£…è·¯å¾„ç­‰ã€‚ ä½¿ç”¨ Inno Setup ç¼–è¯‘ç”Ÿæˆå®‰è£…ç¨‹åºã€‚ ç¤ºä¾‹ .iss æ–‡ä»¶ï¼š\n[Setup] AppName=My Application AppVersion=1.0 DefaultDirName={pf}\\MyApplication OutputBaseFilename=setup Compression=lzma SolidCompression=yes [Files] Source: \u0026#34;bin\\MyApp.exe\u0026#34;; DestDir: \u0026#34;{app}\u0026#34;; Flags: ignoreversion Source: \u0026#34;bin\\*.dll\u0026#34;; DestDir: \u0026#34;{app}\u0026#34;; Flags: ignoreversion [Icons] Name: \u0026#34;{group}\\My Application\u0026#34;; Filename: \u0026#34;{app}\\MyApp.exe\u0026#34; 2. NSIS (Nullsoft Scriptable Install System) ç®€ä»‹ï¼šNSIS æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„å¼€æºå®‰è£…ç¨‹åºåˆ›å»ºå·¥å…·ï¼Œå¹¿æ³›ç”¨äºåˆ›å»º Windows å®‰è£…ç¨‹åºã€‚å®ƒå…è®¸è‡ªå®šä¹‰å®‰è£…é€»è¾‘å’Œç•Œé¢ï¼Œå¹¶æ”¯æŒå®‰è£…åŒ…å‹ç¼©å’Œå¤šç§æ ¼å¼çš„æ‰“åŒ…ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\né«˜åº¦å¯è‡ªå®šä¹‰çš„å®‰è£…è¿‡ç¨‹ï¼Œé€šè¿‡è„šæœ¬ç¼–å†™å®‰è£…é€»è¾‘ã€‚ æ”¯æŒå¤šç§å®‰è£…æ¨¡å¼ï¼ˆé™é»˜å®‰è£…ã€æ ‡å‡†å®‰è£…ç­‰ï¼‰ã€‚ å†…ç½®çš„å‹ç¼©ç®—æ³•ï¼Œèƒ½ç”Ÿæˆä½“ç§¯è¾ƒå°çš„å®‰è£…åŒ…ã€‚ æ”¯æŒå¤šè¯­è¨€å®‰è£…ç•Œé¢ã€æ³¨å†Œè¡¨ä¿®æ”¹ã€DLLæ³¨å†Œç­‰æ“ä½œã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºéœ€è¦é«˜åº¦å®šåˆ¶åŒ–å®‰è£…åŒ…çš„å¼€å‘è€…å’Œé¡¹ç›®ï¼Œé€šå¸¸ç”¨äºå¤§å‹é¡¹ç›®æˆ–å¤æ‚çš„å®‰è£…éœ€æ±‚ã€‚\nä½¿ç”¨æ–¹æ³•ï¼š\nä¸‹è½½ NSIS å¹¶å®‰è£…ã€‚ åˆ›å»º .nsi è„šæœ¬æ–‡ä»¶ï¼Œç¼–å†™æ‰“åŒ…é€»è¾‘å’Œå®‰è£…æµç¨‹ã€‚ ä½¿ç”¨ NSIS ç¼–è¯‘å™¨ç”Ÿæˆå®‰è£…ç¨‹åºã€‚ ç¤ºä¾‹ .nsi æ–‡ä»¶ï¼š\nOutFile \u0026#34;setup.exe\u0026#34; InstallDir \u0026#34;$PROGRAMFILES\\MyApp\u0026#34; Section SetOutPath $INSTDIR File \u0026#34;bin\\MyApp.exe\u0026#34; File \u0026#34;bin\\MyLibrary.dll\u0026#34; CreateShortcut \u0026#34;$DESKTOP\\MyApp.lnk\u0026#34; \u0026#34;$INSTDIR\\MyApp.exe\u0026#34; SectionEnd 3. WiX Toolset (Windows Installer XML) ç®€ä»‹ï¼šWiX Toolset æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»º Windows å®‰è£…åŒ…çš„å·¥å…·é›†ï¼Œä¸“æ³¨äºç”Ÿæˆ .msi æ–‡ä»¶ã€‚å®ƒé€šè¿‡ XML é…ç½®æ–‡ä»¶å®šä¹‰å®‰è£…é€»è¾‘ï¼Œæ˜¯ä¸€ä¸ªé«˜åº¦å¯å®šåˆ¶çš„å·¥å…·ï¼Œå¸¸ç”¨äºä¼ä¸šçº§è½¯ä»¶å®‰è£…åŒ…ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nç”Ÿæˆæ ‡å‡†çš„ Windows Installer å®‰è£…åŒ…ï¼ˆ.msi æ–‡ä»¶ï¼‰ã€‚ æ”¯æŒå¤æ‚çš„å®‰è£…æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æœåŠ¡å®‰è£…ã€æ³¨å†Œè¡¨ä¿®æ”¹ã€æ–‡ä»¶æƒé™è®¾ç½®ç­‰ã€‚ å¯é›†æˆåˆ° CI/CD ç®¡é“ï¼Œé€‚åˆå¤§å‹é¡¹ç›®çš„å®‰è£…åŒ…è‡ªåŠ¨åŒ–ç”Ÿæˆã€‚ æ”¯æŒå¤šè¯­è¨€å®‰è£…ã€å®‰è£…æ—¶ä¾èµ–æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆå¤§å‹ä¼ä¸šçº§é¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯é‚£äº›éœ€è¦ç”Ÿæˆ .msi å®‰è£…åŒ…çš„åœºæ™¯ã€‚ç”±äºå…¶å¤æ‚æ€§ï¼Œå®ƒå¸¸ç”¨äºé«˜çº§ç”¨æˆ·å’Œå›¢é˜Ÿå¼€å‘ã€‚\nä½¿ç”¨æ–¹æ³•ï¼š\nä¸‹è½½ WiX Toolset å¹¶å®‰è£…ã€‚ ç¼–å†™ .wxs XML æ–‡ä»¶ï¼Œå®šä¹‰å®‰è£…åŒ…ç»“æ„å’Œé€»è¾‘ã€‚ ä½¿ç”¨ WiX ç¼–è¯‘å·¥å…·ç”Ÿæˆ .msi å®‰è£…åŒ…ã€‚ ç¤ºä¾‹ .wxs æ–‡ä»¶ï¼š\n\u0026lt;Wix xmlns=\u0026#34;http://schemas.microsoft.com/wix/2006/wi\u0026#34;\u0026gt; \u0026lt;Product Id=\u0026#34;*\u0026#34; Name=\u0026#34;MyApp\u0026#34; Version=\u0026#34;1.0.0.0\u0026#34; Manufacturer=\u0026#34;MyCompany\u0026#34; UpgradeCode=\u0026#34;PUT-GUID-HERE\u0026#34;\u0026gt; \u0026lt;Package InstallerVersion=\u0026#34;200\u0026#34; Compressed=\u0026#34;yes\u0026#34; InstallScope=\u0026#34;perMachine\u0026#34; /\u0026gt; \u0026lt;Media Id=\u0026#34;1\u0026#34; Cabinet=\u0026#34;media1.cab\u0026#34; EmbedCab=\u0026#34;yes\u0026#34; /\u0026gt; \u0026lt;Directory Id=\u0026#34;TARGETDIR\u0026#34; Name=\u0026#34;SourceDir\u0026#34;\u0026gt; \u0026lt;Directory Id=\u0026#34;ProgramFilesFolder\u0026#34;\u0026gt; \u0026lt;Directory Id=\u0026#34;INSTALLFOLDER\u0026#34; Name=\u0026#34;MyApp\u0026#34; /\u0026gt; \u0026lt;/Directory\u0026gt; \u0026lt;/Directory\u0026gt; \u0026lt;Feature Id=\u0026#34;MainFeature\u0026#34; Title=\u0026#34;MyApp\u0026#34; Level=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;ComponentGroupRef Id=\u0026#34;ProductComponents\u0026#34; /\u0026gt; \u0026lt;/Feature\u0026gt; \u0026lt;/Product\u0026gt; \u0026lt;Fragment\u0026gt; \u0026lt;DirectoryRef Id=\u0026#34;INSTALLFOLDER\u0026#34;\u0026gt; \u0026lt;Component Id=\u0026#34;MyAppExe\u0026#34; Guid=\u0026#34;PUT-GUID-HERE\u0026#34;\u0026gt; \u0026lt;File Source=\u0026#34;bin\\MyApp.exe\u0026#34; /\u0026gt; \u0026lt;/Component\u0026gt; \u0026lt;Component Id=\u0026#34;MyAppDll\u0026#34; Guid=\u0026#34;PUT-GUID-HERE\u0026#34;\u0026gt; \u0026lt;File Source=\u0026#34;bin\\MyLibrary.dll\u0026#34; /\u0026gt; \u0026lt;/Component\u0026gt; \u0026lt;/DirectoryRef\u0026gt; \u0026lt;/Fragment\u0026gt; \u0026lt;/Wix\u0026gt; 4. Advanced Installer ç®€ä»‹ï¼šAdvanced Installer æ˜¯ä¸€ä¸ªå•†ä¸šåŒ–çš„å®‰è£…åŒ…åˆ›å»ºå·¥å…·ï¼Œå®ƒæä¾›äº†å›¾å½¢ç”¨æˆ·ç•Œé¢ (GUI)ï¼Œä¸éœ€è¦ç¼–å†™è„šæœ¬ï¼Œé€‚åˆé‚£äº›å¸Œæœ›å¿«é€Ÿç”Ÿæˆå®‰è£…åŒ…çš„å¼€å‘è€…ã€‚å®ƒæ”¯æŒç”Ÿæˆ .msi å’Œ .exe å®‰è£…ç¨‹åºï¼Œå¹¶æä¾›å¤šç§å®‰è£…åŒ…é…ç½®é€‰é¡¹ã€‚ ä¸»è¦ç‰¹ç‚¹ï¼š æä¾›æ˜“äºä½¿ç”¨çš„å›¾å½¢ç•Œé¢ï¼Œé€‚åˆä¸ç†Ÿæ‚‰è„šæœ¬ç¼–å†™çš„ç”¨æˆ·ã€‚ æ”¯æŒ .exe å’Œ .msi ä¸¤ç§æ ¼å¼çš„å®‰è£…åŒ…ã€‚ å†…ç½®ä¸°å¯Œçš„å®‰è£…é€‰é¡¹ï¼ŒåŒ…æ‹¬è®¸å¯è¯åè®®ã€UI å®šåˆ¶ã€ä¾èµ–é¡¹æ£€æŸ¥ç­‰ã€‚ æä¾›å…è´¹ç‰ˆå’Œé«˜çº§ç‰ˆï¼ˆä»˜è´¹ï¼‰ï¼Œé«˜çº§ç‰ˆæ”¯æŒæ›´å¤šåŠŸèƒ½ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆä¸å¸Œæœ›ç¼–å†™è„šæœ¬çš„å¼€å‘è€…ï¼Œé€‚ç”¨äºå¿«é€Ÿç”Ÿæˆå®‰è£…åŒ…çš„éœ€æ±‚ï¼Œå°¤å…¶é€‚åˆå°å‹é¡¹ç›®ã€‚ ä½¿ç”¨æ–¹æ³•ï¼š ä¸‹è½½ Advanced Installer å¹¶å®‰è£…ã€‚ ä½¿ç”¨ GUI å·¥å…·å®šä¹‰è¦æ‰“åŒ…çš„æ–‡ä»¶å’Œå®‰è£…é€»è¾‘ã€‚ ç”Ÿæˆå®‰è£…åŒ…ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™è„šæœ¬ã€‚ 5. InstallShield ç®€ä»‹ï¼šInstallShield æ˜¯ä¸€æ¬¾å•†ä¸šåŒ–çš„é«˜çº§å®‰è£…åŒ…ç”Ÿæˆå·¥å…·ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šçº§é¡¹ç›®ã€‚å®ƒæ”¯æŒç”Ÿæˆå¤æ‚çš„å®‰è£…é€»è¾‘ï¼Œå¹¶æ”¯æŒåˆ›å»º .exeã€.msiã€è·¨å¹³å°çš„å®‰è£…åŒ…ã€‚InstallShield å¸¸ç”¨äºéœ€è¦é«˜çº§å®‰è£…é€‰é¡¹å’Œå¤§è§„æ¨¡åˆ†å‘çš„åœºæ™¯ã€‚ ä¸»è¦ç‰¹ç‚¹ï¼š æ”¯æŒåˆ›å»ºå¤æ‚çš„å®‰è£…é€»è¾‘ï¼Œå¹¶æä¾›ä¼ä¸šçº§ç‰¹æ€§ï¼ˆå¦‚è®¸å¯è¯ç®¡ç†ã€æ•°æ®åº“å®‰è£…ç­‰ï¼‰ã€‚ å›¾å½¢åŒ–çš„ç”¨æˆ·ç•Œé¢å’Œä¸°å¯Œçš„åŠŸèƒ½é›†ï¼Œé€‚åˆå¤§å‹é¡¹ç›®çš„å®‰è£…åŒ…ç”Ÿæˆã€‚ æ”¯æŒå¤šè¯­è¨€ã€å¤šå¹³å°å®‰è£…åŒ…çš„ç”Ÿæˆã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦å¤æ‚å®‰è£…åŠŸèƒ½çš„ä¼ä¸šé¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯é‚£äº›éœ€è¦é«˜åº¦è‡ªå®šä¹‰å®‰è£…æµç¨‹çš„åœºæ™¯ã€‚ ä½¿ç”¨æ–¹æ³•ï¼šéœ€è¦è´­ä¹°å•†ä¸šè®¸å¯è¯ï¼Œä½¿ç”¨ GUI å·¥å…·åˆ›å»ºå®‰è£…ç¨‹åºã€‚ æ€»ç»“ Inno Setup å’Œ NSIS æ˜¯ä¸¤æ¬¾éå¸¸æµè¡Œçš„å¼€æºå·¥å…·ï¼Œé€‚åˆç»å¤§å¤šæ•°ä¸­å°å‹é¡¹ç›®ï¼Œä¸”æ”¯æŒé«˜åº¦è‡ªå®šä¹‰ã€‚ WiX Toolset éå¸¸é€‚åˆéœ€è¦åˆ›å»ºä¼ä¸šçº§ .msi å®‰è£…åŒ…çš„åœºæ™¯ï¼Œä½†å…¶å­¦ä¹ æ›²çº¿è¾ƒé™¡ã€‚ Advanced Installer å’Œ InstallShield åˆ™æä¾›äº†å›¾å½¢ç•Œé¢ï¼Œæ›´é€‚åˆé‚£äº›ä¸å¸Œæœ›ç¼–å†™è„šæœ¬çš„å¼€å‘è€…æˆ–éœ€è¦é«˜çº§åŠŸèƒ½çš„ä¼ä¸šé¡¹ç›®ã€‚ æ ¹æ®é¡¹ç›®çš„è§„æ¨¡å’Œå¤æ‚åº¦é€‰æ‹©åˆé€‚çš„æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ‰“åŒ…æ•ˆç‡å¹¶ä¼˜åŒ–å®‰è£…æµç¨‹ã€‚\nå®é™…ä½¿ç”¨çš„æ„Ÿå—å‘ç°ï¼š Inno Setupå¾ˆå¥½ç”¨ã€‚\nå› ä¸ºåœ¨åé¢çš„æµ‹è¯•ä¸­å‘ç°ï¼Œç”±äºæˆ‘å®‰è£…ä½ç½®éœ€è¦å‘ç”Ÿè¯»å†™ï¼Œä¸€èˆ¬è€Œæ¥ï¼ŒCç›˜è½¯ä»¶çš„é»˜è®¤å®‰è£…ä½ç½®çš„æ–‡ä»¶åˆ é™¤ã€æ›´æ”¹ç­‰æ“ä½œæ˜¯éœ€è¦ç®¡ç†å‘˜æƒé™çš„ï¼Œå…¶å®è¿™ä¸ªæŒºè´¹åŠ²ï¼Œå½“ç„¶å¯ä»¥ä»¥ç®¡ç†å‘˜æƒé™é‡æ–°æ‰“å¼€ç¨‹åºï¼ˆæ™•åˆ°æ­»ä¸Šå¾ˆå¤šç›—ç‰ˆè½¯ä»¶éœ€è¦è¿™ä¹ˆæ“ä½œå§ï¼Ÿï¼‰ä½†æ›´å¥½çš„æ–¹å¼åº”è¯¥æ˜¯å¯ä»¥æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯å¯ä»¥æ”¯æŒè¯»å†™çš„ã€‚\nå½“ç„¶ï¼Œæˆ‘è§‰å¾—è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½å¯ä»¥æ¢ç´¢ï¼Œè¿™ä¸ªå¯ä»¥éœ€è¦çš„æ—¶å€™å†å»æœç´¢äº†ã€‚\nï¼ˆäººå¯èƒ½è¶Šæ¥è¶Šåƒå‘å‡ºæŒ‡ä»¤å’Œå‘½ä»¤çš„ç»ˆç«¯äº†ï¼Œå› ä¸ºæœ‰äººå·¥æ™ºèƒ½ä¸ºä½ å®ç°æ£€ç´¢å’Œå®šä½ä»¥åŠå›ç­”ã€‚ã€‚ã€‚ã€‚ï¼‰\nä¸‹é¢è¿™ä¸ªæ˜¯ä½¿ç”¨Inno Setupçš„é…ç½®æ–‡ä»¶ï¼š\n[Setup] AppName=MindCloud Renderer AppVersion=1.0 AppPublisher=Manifold Tech Limited PrivilegesRequired=admin AppPublisherURL=https://www.manifoldtech.cn/ ; AppSupportURL=https://www.manifoldtech.cn/support ; AppUpdatesURL=https://www.manifoldtech.cn/update DefaultDirName={pf}\\MindCloud Renderer DefaultGroupName=MindCloud Renderer OutputBaseFilename=MindCloud Renderer Installer Compression=lzma SolidCompression=yes VersionInfoVersion=1.0.0.0 VersionInfoCompany=Manifold Tech Limited VersionInfoDescription=MindCloud Renderer Application VersionInfoCopyright=Â© 2024 Manifold Tech Ltd. All rights reserved. VersionInfoProductName=MindCloud Renderer VersionInfoProductVersion=1.0.0.0 [Dirs] ; åˆ›å»º _internal\\datas ç›®å½•ï¼Œå¹¶æˆäºˆ Users ç»„ä¿®æ”¹æƒé™ Name: \u0026#34;{app}\\_internal\\datas\u0026#34;; Permissions: users-modify [Files] ; é€’å½’åœ°å¤åˆ¶ dist\\MindCloud Renderer æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹åˆ°å®‰è£…ç›®å½• {app} Source: \u0026#34;C:\\Users\\Quite\\CKCode\\3DGSMT\\dist\\MindCloud Renderer\\*\u0026#34;; DestDir: \u0026#34;{app}\u0026#34;; Flags: ignoreversion recursesubdirs createallsubdirs [Icons] ; åœ¨å¼€å§‹èœå•ä¸­åˆ›å»ºä¸€ä¸ªæŒ‡å‘ MindCloud Renderer.exe çš„å¿«æ·æ–¹å¼ Name: \u0026#34;{group}\\MindCloud Renderer\u0026#34;; Filename: \u0026#34;{app}\\MindCloud Renderer.exe\u0026#34; ; åœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ªæŒ‡å‘ MindCloud Renderer.exe çš„å¿«æ·æ–¹å¼ Name: \u0026#34;{commondesktop}\\MindCloud Renderer\u0026#34;; Filename: \u0026#34;{app}\\MindCloud Renderer.exe\u0026#34; [Run] ; Filename: \u0026#34;{app}\\MindCloud Renderer.exe\u0026#34;; Description: \u0026#34;Run MindCloud Renderer\u0026#34;; Flags: runasoriginaluser å›¾å½¢åŒ–UI ä¸€å¼€å§‹ä¹Ÿæ˜¯æœç´¢å¾—åˆ°çš„ä¿¡æ¯ï¼š\nåœ¨ç»™ Python é¡¹ç›®æ·»åŠ å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰æ—¶ï¼Œæœ‰è®¸å¤šå¯ç”¨çš„å·¥å…·å’Œåº“ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰ä¸åŒçš„ç‰¹ç‚¹ã€ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨çš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ Python GUI åº“åŠå…¶ç‰¹ç‚¹å’Œå·®å¼‚ï¼š\n1. Tkinter ç®€ä»‹ï¼šTkinter æ˜¯ Python æ ‡å‡†åº“è‡ªå¸¦çš„ GUI åº“ï¼Œå› æ­¤ä¸éœ€è¦é¢å¤–å®‰è£…ã€‚å®ƒæ˜¯æ„å»ºç®€å• GUI ç¨‹åºçš„ä¸é”™é€‰æ‹©ï¼Œéå¸¸é€‚åˆé‚£äº›å¸Œæœ›å¿«é€Ÿæ„å»º GUI ç•Œé¢çš„åˆå­¦è€…ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\næ˜“äºå­¦ä¹ ï¼šç”±äºå®ƒæ˜¯ Python æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œæ–‡æ¡£ä¸°å¯Œä¸”ç¤¾åŒºæ”¯æŒå¹¿æ³›ï¼Œé€‚åˆåˆå­¦è€…ã€‚ è·¨å¹³å°ï¼šå¯ä»¥åœ¨ Windowsã€macOS å’Œ Linux ä¸Šè¿è¡Œã€‚ è½»é‡çº§ï¼šé€‚åˆå°å‹åº”ç”¨ç¨‹åºæˆ–ç®€å•çš„å·¥å…·ã€‚ é€‚ç”¨åœºæ™¯ï¼šæ„å»ºç®€å•çš„ã€åŸºæœ¬çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚\nç¤ºä¾‹ï¼š\nimport tkinter as tk root = tk.Tk() root.title(\u0026#34;Simple GUI\u0026#34;) tk.Label(root, text=\u0026#34;Hello, World!\u0026#34;).pack() root.mainloop() 2. PyQt ç®€ä»‹ï¼šPyQt æ˜¯åŸºäº Qt åº“çš„ Python ç»‘å®šï¼Œæä¾›äº†ä¸°å¯Œçš„ GUI ç»„ä»¶ã€‚å®ƒæ˜¯åŠŸèƒ½æœ€å…¨ã€æœ€æˆç†Ÿçš„ Python GUI åº“ä¹‹ä¸€ï¼Œå¯ä»¥æ„å»ºå¤æ‚çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nåŠŸèƒ½å¼ºå¤§ï¼šæ”¯æŒå¤æ‚çš„ GUI å…ƒç´ ï¼Œå¦‚èœå•ã€å·¥å…·æ ã€çŠ¶æ€æ ã€è¡¨æ ¼ç­‰ï¼Œé€‚åˆæ„å»ºåŠŸèƒ½å¤æ‚çš„å¤§å‹åº”ç”¨ã€‚ ä¸°å¯Œçš„ç»„ä»¶ï¼šQt æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è·¨å¹³å° GUI æ¡†æ¶ï¼ŒPyQt ç»§æ‰¿äº† Qt åº“çš„æ‰€æœ‰åŠŸèƒ½ã€‚ è·¨å¹³å°ï¼šæ”¯æŒ Windowsã€macOS å’Œ Linuxã€‚ å•†ä¸šåŒ–ï¼šPyQt åœ¨å•†ä¸šç”¨é€”æ—¶éœ€è¦è´­ä¹°è®¸å¯è¯ï¼Œè™½ç„¶æœ‰å…è´¹ç‰ˆæœ¬ï¼Œä½†è¦æ³¨æ„è®¸å¯è¯é—®é¢˜ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦å¤æ‚ UI å’Œä¸°å¯Œç»„ä»¶çš„å¤§å‹æ¡Œé¢åº”ç”¨ç¨‹åºã€‚\nç¤ºä¾‹ï¼š\nimport sys from PyQt5.QtWidgets import QApplication, QLabel app = QApplication(sys.argv) label = QLabel(\u0026#39;Hello, PyQt!\u0026#39;) label.show() sys.exit(app.exec_()) 3. PySide (Qt for Python) ç®€ä»‹ï¼šPySide å’Œ PyQt ç±»ä¼¼ï¼Œéƒ½æ˜¯ Qt çš„ Python ç»‘å®šï¼ŒåŒºåˆ«åœ¨äº PySide æ˜¯ç”± Qt å®˜æ–¹ç»´æŠ¤çš„å…è´¹å¼€æºç‰ˆæœ¬ï¼Œå¹¶ä¸”å•†ä¸šç”¨é€”ä¹Ÿæ— éœ€è®¸å¯è¯ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nä¸ PyQt ç›¸ä¼¼ï¼šä¸ PyQt æä¾›çš„åŠŸèƒ½å‡ ä¹ç›¸åŒï¼ŒAPI ä¹Ÿå¾ˆç›¸ä¼¼ã€‚ å¼€æºï¼šPySide æ˜¯ LGPL è®¸å¯è¯ï¼Œå› æ­¤å¯¹äºå•†ä¸šç”¨é€”æ›´åŠ å‹å¥½ã€‚ è·¨å¹³å°ï¼šå’Œ PyQt ä¸€æ ·ï¼Œæ”¯æŒå¤šå¹³å°ã€‚ é€‚ç”¨åœºæ™¯ï¼šéœ€è¦ Qt çš„åŠŸèƒ½ï¼Œä½†å¸Œæœ›åœ¨å•†ä¸šé¡¹ç›®ä¸­å…è´¹ä½¿ç”¨çš„åœºæ™¯ã€‚\nç¤ºä¾‹ï¼š\nimport sys from PySide2.QtWidgets import QApplication, QLabel app = QApplication(sys.argv) label = QLabel(\u0026#39;Hello, PySide!\u0026#39;) label.show() sys.exit(app.exec_()) 4. Kivy ç®€ä»‹ï¼šKivy æ˜¯ä¸€ä¸ªå¼€æºçš„ Python GUI åº“ï¼Œä¸“æ³¨äºè·¨å¹³å°å¼€å‘ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨åº”ç”¨å¼€å‘ã€‚å®ƒå¯ä»¥ç”¨äºæ„å»ºå…·æœ‰å“åº”å¼è§¦æ‘¸ç•Œé¢çš„åº”ç”¨ç¨‹åºï¼Œæ”¯æŒ Windowsã€macOSã€Linuxã€iOS å’Œ Androidã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nè·¨å¹³å°æ”¯æŒï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨å¹³å°ï¼Œé€‚åˆå¼€å‘è·¨å¹³å°åº”ç”¨ç¨‹åºã€‚ å“åº”å¼ç•Œé¢ï¼šKivy å…è®¸åˆ›å»ºå¯å“åº”è§¦æ‘¸è¾“å…¥çš„åº”ç”¨ï¼Œé€‚åˆå¹³æ¿å’Œæ‰‹æœºç­‰è§¦æ‘¸è®¾å¤‡ã€‚ å›¾å½¢åŒ–ç•Œé¢å®šåˆ¶ï¼šéå¸¸é€‚åˆæ„å»ºè‡ªå®šä¹‰ç•Œé¢å’ŒåŠ¨ç”»ä¸°å¯Œçš„åº”ç”¨ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆç§»åŠ¨ç«¯åº”ç”¨å¼€å‘ï¼Œæˆ–éœ€è¦å“åº”å¼è®¾è®¡çš„æ¡Œé¢åº”ç”¨ã€‚\nç¤ºä¾‹ï¼š\nfrom kivy.app import App from kivy.uix.label import Label class MyApp(App): def build(self): return Label(text=\u0026#39;Hello, Kivy!\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: MyApp().run() 5. wxPython ç®€ä»‹ï¼šwxPython æ˜¯ä¸€ä¸ªå°è£…äº† wxWidgets çš„ Python GUI åº“ã€‚wxWidgets æ˜¯ä¸€ä¸ªæˆç†Ÿçš„ C++ åº“ï¼Œæä¾›äº†å¤§é‡çš„åŸç”Ÿ UI ç»„ä»¶ï¼ŒwxPython åˆ™ä½¿ Python ç¨‹åºå¯ä»¥è°ƒç”¨è¿™äº›ç»„ä»¶ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nåŸç”Ÿç»„ä»¶ï¼šä½¿ç”¨ç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶ï¼Œå› æ­¤ç”Ÿæˆçš„ç•Œé¢ä¸å¹³å°çš„æœ¬åœ°åº”ç”¨ç•Œé¢ä¸€è‡´ï¼ˆç‰¹åˆ«æ˜¯åœ¨ Windows å’Œ macOS ä¸Šï¼‰ã€‚ è·¨å¹³å°ï¼šæ”¯æŒ Windowsã€macOS å’Œ Linuxã€‚ åŠŸèƒ½å…¨é¢ï¼šæ‹¥æœ‰å¤§é‡çš„æ§ä»¶å’Œå¸ƒå±€ç®¡ç†å™¨ï¼Œé€‚åˆæ„å»ºå¤æ‚çš„æ¡Œé¢åº”ç”¨ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦æœ¬åœ°åŒ–å¤–è§‚ã€å¤æ‚ GUI å¸ƒå±€çš„å¤§å‹åº”ç”¨ç¨‹åºã€‚\nç¤ºä¾‹ï¼š\nimport wx app = wx.App(False) frame = wx.Frame(None, wx.ID_ANY, \u0026#34;Hello wxPython\u0026#34;) frame.Show(True) app.MainLoop() 6. Dear PyGui ç®€ä»‹ï¼šDear PyGui æ˜¯ä¸€ä¸ªç°ä»£çš„ã€åŸºäº GPU çš„ Python GUI åº“ï¼Œä¸“æ³¨äºé«˜æ•ˆã€å¿«é€Ÿçš„æ¸²æŸ“ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦é«˜æ€§èƒ½çš„åº”ç”¨ï¼Œå¦‚æ•°æ®å¯è§†åŒ–ã€æ¸¸æˆå¼€å‘æˆ–å®æ—¶æ§åˆ¶åº”ç”¨ã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nGPU åŠ é€Ÿï¼šä½¿ç”¨ GPU æ¸²æŸ“ç•Œé¢ï¼Œå› æ­¤æ€§èƒ½éå¸¸å¥½ï¼Œé€‚åˆéœ€è¦å¤§é‡ç»˜å›¾æˆ–åŠ¨ç”»çš„åº”ç”¨ã€‚ ç°ä»£è®¾è®¡ï¼šæä¾›äº†ç°ä»£åŒ–çš„ UI ç»„ä»¶ï¼Œå¦‚æ•°æ®è¡¨æ ¼ã€ç»˜å›¾ã€å›¾è¡¨ç­‰ã€‚ è·¨å¹³å°ï¼šæ”¯æŒ Windowsã€macOS å’Œ Linuxã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆå¼€å‘éœ€è¦é«˜æ€§èƒ½æ¸²æŸ“çš„åº”ç”¨ç¨‹åºï¼Œå¦‚å›¾å½¢å¯è§†åŒ–ã€æ•°æ®å±•ç¤ºå’Œæ¸¸æˆå¼€å‘ã€‚\nç¤ºä¾‹ï¼š\nimport dearpygui.dearpygui as dpg dpg.create_context() with dpg.window(label=\u0026#34;Example Window\u0026#34;): dpg.add_text(\u0026#34;Hello, Dear PyGui\u0026#34;) dpg.create_viewport(title=\u0026#39;Custom Title\u0026#39;, width=600, height=400) dpg.setup_dearpygui() dpg.show_viewport() dpg.start_dearpygui() dpg.destroy_context() 7. Flask + Electron (æˆ– Flask + Pywebview) ç®€ä»‹ï¼šFlask æœ¬èº«æ˜¯ä¸€ä¸ª Python Web æ¡†æ¶ï¼Œä½†æ˜¯ä½ å¯ä»¥ç»“åˆ Electron æˆ– Pywebview æ¥å¼€å‘æ¡Œé¢åº”ç”¨ã€‚Electron å¯ä»¥å°† Web åº”ç”¨æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨ï¼ŒPywebview åˆ™æä¾›äº†ä¸€ä¸ªæ›´è½»é‡çš„æ–¹æ¡ˆã€‚\nä¸»è¦ç‰¹ç‚¹ï¼š\nè·¨å¹³å°ï¼šå¯ä»¥é€šè¿‡ Electron æˆ– Pywebview æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ã€‚ åŸºäº Web æŠ€æœ¯ï¼šä½¿ç”¨ HTMLã€CSS å’Œ JavaScript æ„å»ºå‰ç«¯ç•Œé¢ï¼Œåç«¯é€»è¾‘ç”± Flask æä¾›ã€‚ çµæ´»æ€§é«˜ï¼šå‰ç«¯å¼€å‘è€…å¯ä»¥ä½¿ç”¨ç°æœ‰çš„ Web æŠ€æœ¯æ ˆï¼Œéå¸¸é€‚åˆå¯¹ Web å¼€å‘ç†Ÿæ‚‰çš„å›¢é˜Ÿã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆéœ€è¦ä½¿ç”¨ Web æŠ€æœ¯æ ˆæ„å»ºæ¡Œé¢åº”ç”¨çš„é¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯å¸Œæœ›åˆ©ç”¨ç°æœ‰çš„ Web å¼€å‘èµ„æºçš„åœºæ™¯ã€‚\nç¤ºä¾‹ï¼š\n# Flask åç«¯ from flask import Flask app = Flask(__name__) @app.route(\u0026#39;/\u0026#39;) def index(): return \u0026#39;Hello, Flask + Electron!\u0026#39; if __name__ == \u0026#39;__main__\u0026#39;: app.run() æ€»ç»“ Tkinterï¼šå…¥é—¨ç®€å•ï¼Œé€‚åˆæ„å»ºè½»é‡çº§åº”ç”¨ã€‚ PyQt / PySideï¼šåŠŸèƒ½å¼ºå¤§ï¼Œé€‚åˆå¤æ‚æ¡Œé¢åº”ç”¨ï¼ŒPySide é€‚åˆå•†ä¸šç”¨é€”ã€‚ Kivyï¼šä¸“æ³¨äºè·¨å¹³å°å’Œè§¦æ‘¸ç•Œé¢ï¼Œé€‚åˆç§»åŠ¨å’Œæ¡Œé¢åŒç«¯åº”ç”¨ã€‚ wxPythonï¼šæä¾›åŸç”Ÿå¤–è§‚æ§ä»¶ï¼Œé€‚åˆéœ€è¦æœ¬åœ°åŒ– UI çš„é¡¹ç›®ã€‚ Dear PyGuiï¼šé€‚åˆé«˜æ€§èƒ½çš„å›¾å½¢å’Œæ•°æ®å¯è§†åŒ–åº”ç”¨ã€‚ Flask + Electron/Pywebviewï¼šç»“åˆ Web æŠ€æœ¯æ„å»ºè·¨å¹³å°æ¡Œé¢åº”ç”¨ã€‚ æ ¹æ®é¡¹ç›®çš„éœ€æ±‚å’Œä½ çš„æŠ€æœ¯æ ˆï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å¯ä»¥å¸®åŠ©ä½ æ›´å¿«åœ°å®Œæˆ GUI çš„å¼€å‘ã€‚\nä½†æˆ‘è®°å¾—ï¼Œä¸€å¼€å§‹å·æ‡’ï¼Œå†™çš„å¾ˆlowï¼Œä½¿ç”¨çš„æ˜¯tkï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è¯çª—å£ï¼Œæ²¡æœ‰è®¾è®¡é£æ ¼ï¼ŒåœŸåœŸçš„Windows98çš„æ„Ÿè§‰ã€‚\nç„¶åå‘¢ï¼Œåˆå‘ç°pythonè„šæœ¬å¯åŠ¨æ…¢ï¼Œåé¢å‘ç°æ˜¯å’Œimportæœ‰å…³ç³»ï¼Œimportå¯ä»¥åç½®ï¼Œç„¶åçµæœºä¸€åŠ¨ï¼Œè¿˜æå‡ºæ¥ä¸€ä¸ªç¨‹åºå¯åŠ¨çš„logoï¼Œç”šè‡³è¿˜åŠ äº†logoç­‰å¾…ï¼Œç­‰å¾…importé‚£ä¹ˆå¤§çš„åº“å®Œæˆä¹‹åï¼Œæ¯”å¦‚torchä¹‹ç±»ï¼Œå†æŠŠlogoå»æ‰ï¼Œç”¨æˆ·ä½“éªŒä¸Šæ„Ÿè§‰æ˜¯å¥½å¤šäº†ã€‚\nåæ¥ï¼Œè§‰å¾—tkå¤ªåœŸï¼Œå°è¯•ä½¿ç”¨qtï¼Œqtç¡®å®å¥½ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼cssçš„æ–¹å¼æ¥ç¾åŒ–ç•Œé¢ï¼Œæ‰€ä»¥å°±å¯èƒ½æå‡ºå¾ˆå¤šèŠ±é‡Œèƒ¡å“¨çš„è®¾è®¡äº†ï¼Œæ¯”å¦‚ä»€ä¹ˆ:\nåŠ¨æ€è¿›åº¦æ¡ï¼› æ‚¬ç½®å’ŒæŒ‰å‹éƒ½æœ‰æ•ˆæœçš„æŒ‰é’®ï¼› é»„é‡‘æ¯”ä¾‹ï¼› å„ç§åœ†è§’ï¼› ä»¥åŠå¥½çœ‹ä¸è¿å’Œçš„è¡¨æ ¼ï¼› æ‰£ç»†èŠ‚èƒ½æ‰£åˆ°å¤´çš®å‘éº»çš„é‚£ç§ï¼Œå¹¶ä¸”æœ€é‡è¦è¿˜ä¸æ˜¯UIçš„æ˜¾ç¤ºå¥½çœ‹ä¸å¦ï¼Œè€Œæ˜¯qtçš„æ§½ä¿¡å·æœºåˆ¶å¤ªå¥½ç”¨äº†ï¼Œå¯ä»¥å®ç°å¾ˆå¤šæƒ³è¦çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š\nç‚¹å‡»ä¸€æ¬¡å¼€å§‹åï¼Œå°±ä¸èƒ½ç‚¹å‡»ç¬¬äºŒæ¬¡ï¼Œé™¤éç­‰åˆ°ä¸€æ¬¡è¿è¡Œå®Œæˆï¼›\næ‰“å¼€ä¸»ç•Œé¢ï¼Œè¦èƒ½æŒç»­è¿è¡Œï¼Œç‚¹å‡»ä¸€æ¬¡å¼€å§‹ï¼Œè¿è¡Œå®Œï¼Œä¿å­˜æ˜¾ç¤ºï¼Œå†ç‚¹å‡»ä¸€æ¬¡ï¼Œåˆèƒ½é‡å¤ï¼›\nç‚¹å‡»äº†æ¢å¤ä»»åŠ¡ï¼Œå°±ä¸èƒ½å†ç‚¹å‡»å…¶ä»–æ¢å¤ä»»åŠ¡ï¼Œæ›´ä¸èƒ½ç‚¹å‡»å¼€å§‹ä»»åŠ¡ï¼Œåä¹‹ä¹Ÿæ˜¯ä¸€æ ·ï¼›\nâ€¦â€¦\nå¯èƒ½è¿™äº›ç‚¹åœ¨appå¼€å‘çš„è€æ‰‹æ¥çœ‹éƒ½æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œä¸å¯¹ç¡®å®å¯¹äºæ¯”è¾ƒç³»ç»Ÿåœ°ä»è®¾è®¡åˆ°å¼€å‘çš„åˆæ¬¡å°è¯•è€…ï¼Œç¡®å®å°è±¡å¾ˆæ·±åˆ»ã€‚\nNodeå’Œnpmåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ åœ¨æ‰“é€šè¿™ä¸ªè½¯ä»¶çš„æœ€åä¸€æ­¥ï¼Œæ˜¯å®ç°ç‚¹å‡»æŸ¥çœ‹ï¼Œä¹‹å‰é€šè¿‡webç«¯å®ç°äº†demoï¼Œä¸»è¦åŸºäºthree.jsçš„å¼€æºæ–¹æ¡ˆï¼Œåœ¨å¼€å‘é˜¶æ®µè¿™ä¸ªdemoçš„è¿è¡Œä¾èµ–nodeå’Œnpmï¼Œå½“æ—¶æˆ‘æ˜¯å¯¹è¿™ä¸¤ä¸ªä¸œè¥¿ä½œä¸ºå·¥å…·ä½¿ç”¨ï¼Œä½†ç›´æ¥å‘Šè¯‰æˆ‘ï¼Œå·²ç»ç”¨æµè§ˆå™¨æ‰“å¼€äº†å‘€ï¼ŒæŠŠhtmlï¼Œcssï¼Œjsä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€èµ·ä¸å°±è¡Œäº†ï¼Ÿå¦‚æœä¸è¡Œï¼Œé‡åˆ°é—®é¢˜è§£å†³é—®é¢˜å°±æ˜¯å’¯ï¼\nç°åœ¨æŸ¥è¯¢å’Œæœç´¢äº†ä¸€äº›å…³äºnodeå’Œnpmçš„ä¿¡æ¯ï¼š\nä»€ä¹ˆæ˜¯ Node.js å’Œ npmï¼Ÿ Node.jsï¼š\nNode.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 JavaScript å¼•æ“ æ„å»ºçš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒå…è®¸ä½ åœ¨ æœåŠ¡å™¨ç«¯ ä½¿ç”¨ JavaScript ç¼–å†™ä»£ç ï¼Œè€Œä¸ä»…ä»…å±€é™äºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œ JavaScriptã€‚ ç‰¹ç‚¹ï¼š å®ƒä½¿å¾— JavaScript å¯ä»¥ç”¨äºç¼–å†™æœåŠ¡å™¨ç«¯çš„åº”ç”¨ç¨‹åºï¼Œå¦‚åç«¯ APIã€Web æœåŠ¡å™¨ç­‰ã€‚ Node.js æ˜¯ å•çº¿ç¨‹ çš„ï¼Œä½†é€šè¿‡ äº‹ä»¶é©±åŠ¨ å’Œ å¼‚æ­¥éé˜»å¡ I/O æ¨¡å‹ï¼Œéå¸¸é€‚åˆé«˜å¹¶å‘çš„åº”ç”¨åœºæ™¯ã€‚ npm (Node Package Manager)ï¼š\nnpm æ˜¯ Node.js çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºä¸‹è½½ã€å®‰è£…ã€ç®¡ç† JavaScript é¡¹ç›®çš„ä¾èµ–åŒ…ã€‚ç±»ä¼¼äº Python çš„ pip æˆ– Java çš„ Mavenã€‚ ç‰¹ç‚¹ï¼š ä½ å¯ä»¥ä½¿ç”¨ npm install æ¥å®‰è£…ç¬¬ä¸‰æ–¹åº“å’Œä¾èµ–åŒ…ã€‚ npm ä¹Ÿå…è®¸ä½ è¿è¡Œé¡¹ç›®ä¸­çš„è„šæœ¬å‘½ä»¤ï¼ˆå¦‚ npm runï¼‰ã€‚ npm run ä»¥åŠä¸ Node.js çš„å…³ç³» å½“ä½ è¿è¡Œ npm run start æˆ–ç±»ä¼¼çš„å‘½ä»¤æ—¶ï¼Œå®é™…ä¸Šæ˜¯ npm è¿è¡Œäº†ä¸€ä¸ª è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬é€šå¸¸ä¼šå¯åŠ¨ä¸€ä¸ª å¼€å‘æœåŠ¡å™¨ï¼Œæ¯”å¦‚ä½¿ç”¨ Webpackã€Parcelã€Vite æˆ– Next.js ç­‰å·¥å…·æ¥æ‰“åŒ…ã€ç¼–è¯‘é¡¹ç›®ï¼Œå¹¶å®æ—¶æ›´æ–°é¡µé¢ã€‚\nnpm å’Œ Node.js çš„ä½œç”¨ä¸»è¦åœ¨äº å¼€å‘é˜¶æ®µï¼Œå®ƒä»¬æä¾›äº†ä¸€äº›å·¥å…·å¸®åŠ©ä½ å¿«é€Ÿæ„å»ºå’Œå¯åŠ¨é¡¹ç›®ï¼Œä½†åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ„å»ºå¥½çš„é¡¹ç›®ï¼ˆå³ HTMLã€CSSã€JavaScript æ–‡ä»¶ï¼‰å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¸å†ä¾èµ– Node.js å’Œ npmã€‚\nå¼€å‘é˜¶æ®µä½¿ç”¨ npm run çš„åŸå› ï¼š\næ‰“åŒ…/ç¼–è¯‘ï¼šå·¥å…·å¦‚ Webpack æˆ– Vite ä¼šå°†é¡¹ç›®ä¸­çš„ æ¨¡å—åŒ–ä»£ç  æ‰“åŒ…ä¸ºæµè§ˆå™¨å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ä»£ç ã€‚ å¼€å‘æœåŠ¡å™¨ï¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œæä¾›çƒ­æ›´æ–°ï¼ˆhot-reloadï¼‰åŠŸèƒ½ï¼Œæ¯æ¬¡ä½ ä¿®æ”¹æ–‡ä»¶æ—¶ï¼Œé¡µé¢è‡ªåŠ¨åˆ·æ–°ã€‚ å¤„ç†é™æ€èµ„æºï¼šå¦‚å›¾ç‰‡ã€CSSã€å­—ä½“ç­‰ï¼Œè¿™äº›å·¥å…·ä¼šè‡ªåŠ¨ä¼˜åŒ–å’Œå¤„ç†é™æ€èµ„æºã€‚ ç¤ºä¾‹ï¼š\n{ \u0026#34;scripts\u0026#34;: { \u0026#34;start\u0026#34;: \u0026#34;webpack serve --config webpack.config.js\u0026#34; } } å½“ä½ è¿è¡Œ npm run start æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ‰§è¡Œäº† webpack serveï¼Œå®ƒå¯åŠ¨äº† Webpack çš„å¼€å‘æœåŠ¡å™¨ï¼Œç”¨äºå¼€å‘é˜¶æ®µå¿«é€ŸæŸ¥çœ‹æ•ˆæœã€‚\nç†è®ºä¸Šè®²ï¼Œä¸ä¾èµ– Node.js å’Œ npm å¯ä»¥è¿è¡Œ Web åº”ç”¨ï¼Ÿ æ˜¯çš„ï¼Œç†è®ºä¸Šè®²ï¼ŒWeb åº”ç”¨å¹¶ä¸ä¾èµ– Node.js å’Œ npmã€‚å› ä¸ºæœ€ç»ˆçš„ Web åº”ç”¨æ˜¯åŸºäºæµè§ˆå™¨çš„ï¼Œæµè§ˆå™¨åªéœ€è¦ HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ã€‚è¿™æ„å‘³ç€ï¼Œç”Ÿäº§ç¯å¢ƒä¸­å·²ç»æ‰“åŒ…å¥½çš„ä»£ç å¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°ä»»æ„ Web æœåŠ¡å™¨ä¸Šï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥è§£æå’Œè¿è¡Œè¿™äº›æ–‡ä»¶ã€‚\nä¸ºä»€ä¹ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸éœ€è¦ Node.js å’Œ npmï¼Ÿ\nHTMLã€CSS å’Œ JavaScript æ˜¯é™æ€æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å¯ä»¥åœ¨ä»»ä½• Web æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå¦‚ Apacheã€Nginxï¼Œç”šè‡³æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚ Node.js å’Œ npm åªæ˜¯å¼€å‘å·¥å…·ï¼Œå®ƒä»¬å¸®åŠ©å¼€å‘è€…åœ¨å¼€å‘é˜¶æ®µè¿›è¡Œæ¨¡å—æ‰“åŒ…ã€ç¼–è¯‘ã€ä»£ç åˆ†å‰²ã€æ€§èƒ½ä¼˜åŒ–ç­‰å·¥ä½œã€‚ä¸€æ—¦è¿™äº›å·¥ä½œå®Œæˆï¼Œç”Ÿæˆçš„æ–‡ä»¶å¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚ å®é™…ä½¿ç”¨åœºæ™¯å¯¹æ¯” å¼€å‘é˜¶æ®µï¼ˆä¾èµ– Node.js å’Œ npmï¼‰ï¼š\nä½¿ç”¨ Node.js å’Œ npm æ¥ç®¡ç†ä¾èµ–ã€å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚ ä½¿ç”¨ç°ä»£å‰ç«¯å·¥å…·ï¼ˆå¦‚ Webpackã€Viteã€Babel ç­‰ï¼‰æ¥å¤„ç†æ¨¡å—åŒ–ã€ç¼–è¯‘å’Œæ‰“åŒ…ã€‚ æä¾›çƒ­æ›´æ–°ï¼ˆHot Reloadingï¼‰ã€ES6+ ç¼–è¯‘ã€ä»£ç å‹ç¼©ç­‰åŠŸèƒ½ã€‚ ç”Ÿäº§é˜¶æ®µï¼ˆä¸ä¾èµ– Node.js å’Œ npmï¼‰ï¼š\næ„å»ºåçš„æ–‡ä»¶é€šå¸¸ä¼šç”Ÿæˆä¸€ä¸ªé™æ€æ–‡ä»¶å¤¹ï¼ˆå¦‚ dist/ æˆ– build/ï¼‰ï¼Œå…¶ä¸­åŒ…å«äº† HTMLã€CSS å’Œç¼–è¯‘åçš„ JavaScript æ–‡ä»¶ã€‚ éƒ¨ç½²æ—¶ï¼Œåªéœ€å°†è¿™äº›é™æ€æ–‡ä»¶ä¸Šä¼ åˆ° Web æœåŠ¡å™¨ï¼ˆå¦‚ Apacheã€Nginxï¼‰æˆ–å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰ä¸­ï¼Œæµè§ˆå™¨å³å¯ç›´æ¥åŠ è½½å¹¶è¿è¡Œã€‚ æ€»ç»“ Node.js æ˜¯ç”¨äºåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œ JavaScript çš„ç¯å¢ƒï¼Œé€‚åˆå¼€å‘æœåŠ¡å™¨ç«¯åº”ç”¨ï¼Œä¹Ÿåœ¨å‰ç«¯å¼€å‘ä¸­ç”¨äºæ„å»ºå·¥å…·ã€‚ npm æ˜¯ Node.js çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºç®¡ç†é¡¹ç›®ä¸­çš„ä¾èµ–åº“ï¼Œå¹¶è¿è¡Œæ„å»ºè„šæœ¬ã€‚ npm run å¸¸ç”¨äºå¯åŠ¨å¼€å‘æœåŠ¡å™¨æˆ–æ‰§è¡Œæ„å»ºä»»åŠ¡ã€‚ Web åº”ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸éœ€è¦ä¾èµ– Node.js å’Œ npmï¼Œåªéœ€è¦æœ€ç»ˆçš„ HTMLã€CSS å’Œ JavaScript é™æ€æ–‡ä»¶å³å¯ã€‚ è™½ç„¶ Node.js å’Œ npm åœ¨å¼€å‘é˜¶æ®µæä¾›äº†è®¸å¤šä¾¿åˆ©ï¼Œä½†åœ¨æœ€ç»ˆçš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå‰ç«¯é¡¹ç›®é€šå¸¸åªä¾èµ–é™æ€èµ„æºï¼Œå¹¶ä¸éœ€è¦ Node.js è¿è¡Œã€‚å› æ­¤ï¼Œç†è®ºä¸Šæ¥è¯´ï¼ŒHTML + CSS + JavaScript æ˜¯ä¸ä¾èµ–äº Node.js å’Œ npm çš„ï¼Œé™¤éä½ åœ¨ä½¿ç”¨æŸäº›éœ€è¦æœåŠ¡å™¨ç«¯æ”¯æŒçš„åŠ¨æ€åŠŸèƒ½ï¼ˆå¦‚ SSR æˆ– APIï¼‰ã€‚\nåæ¥å…¶å®ä¹Ÿæ˜¯ç”¨äº†pythonæ¥å®ç°ï¼Œå¯åŠ¨äº†ä¸€ä¸ªpythonçš„webæœåŠ¡ï¼Œç„¶åä¹Ÿé‡åˆ°äº†CORSçš„é—®é¢˜ï¼ŒæŸ¥é˜…æ”¶é›†çš„ä¿¡æ¯å¦‚ä¸‹ï¼š\nå¦‚æœä¸ç”¨ npm æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ Python æä¾›çš„è½»é‡çº§æœåŠ¡å™¨æ¥å¯åŠ¨ HTML æ–‡ä»¶ã€‚Python è‡ªå¸¦çš„ HTTP æœåŠ¡å™¨å¯ä»¥é€šè¿‡ç®€å•çš„å‘½ä»¤å¿«é€Ÿå¯åŠ¨ï¼Œç›´æ¥æœåŠ¡é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚ HTMLã€CSS å’Œ JavaScriptã€‚\nä½¿ç”¨ Python å¯åŠ¨ HTML åº”ç”¨ åœ¨ Python 3 ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼Œæ¥æœåŠ¡ä½ å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶ï¼š\n## Python 3.x python -m http.server 8000 è¿™ä¸ªå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¹¶åœ¨ http://localhost:8000/ æä¾›è®¿é—®ã€‚é€šè¿‡è¿™ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼Œæµè§ˆå™¨å¯ä»¥è®¿é—®ä½ çš„ HTML æ–‡ä»¶ã€‚\nç„¶è€Œï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªå¸¸è§çš„é—®é¢˜â€”â€”CORS (è·¨åŸŸèµ„æºå…±äº«) é—®é¢˜ã€‚\nä»€ä¹ˆæ˜¯ CORS (Cross-Origin Resource Sharing)? CORS æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œé˜²æ­¢ä¸€ä¸ªç½‘é¡µåœ¨æµè§ˆå™¨ä¸Šä»å¦ä¸€ä¸ªåŸŸåã€åè®®æˆ–ç«¯å£è¯·æ±‚èµ„æºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç½‘é¡µçš„èµ„æºï¼ˆä¾‹å¦‚ï¼šJavaScriptã€CSSã€å›¾ç‰‡ï¼‰æ¥è‡ªä¸é¡µé¢ä¸åŒçš„åŸŸåï¼Œæµè§ˆå™¨å°±ä¼šæ ¹æ® CORS ç­–ç•¥é™åˆ¶è·¨åŸŸè¯·æ±‚ã€‚è¿™ç§é™åˆ¶é˜²æ­¢äº†æ½œåœ¨çš„å®‰å…¨é£é™©ï¼Œæ¯”å¦‚è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰ã€‚\nCORS é—®é¢˜çš„è§¦å‘æ¡ä»¶ï¼š CORS é—®é¢˜é€šå¸¸åœ¨ä»¥ä¸‹åœºæ™¯ä¸‹ä¼šè§¦å‘ï¼š\nè·¨åŸŸè¯·æ±‚ï¼šä¾‹å¦‚ï¼Œä½ çš„ç½‘é¡µåœ¨ localhost:8000 ä¸Šè¿è¡Œï¼Œè€Œä½ è¯·æ±‚çš„ API åœ¨ http://api.example.comï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æºï¼Œå› æ­¤æµè§ˆå™¨ä¼šé™åˆ¶è¯¥è¯·æ±‚ã€‚ AJAX è¯·æ±‚ï¼šå½“ä½¿ç”¨ JavaScript å‘èµ· XMLHttpRequest æˆ– fetch è¯·æ±‚æ—¶ï¼Œç›®æ ‡æœåŠ¡å™¨éœ€è¦å…è®¸è·¨åŸŸè¯·æ±‚ï¼Œå¦åˆ™æµè§ˆå™¨ä¼šé˜»æ­¢è¯·æ±‚å¹¶æŠ¥é”™ã€‚ å¸¸è§çš„ CORS é”™è¯¯ä¿¡æ¯ï¼š å½“å‡ºç° CORS é—®é¢˜æ—¶ï¼Œä½ ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹é”™è¯¯ï¼š\nAccess to fetch at \u0026#39;http://api.example.com/data\u0026#39; from origin \u0026#39;http://localhost:8000\u0026#39; has been blocked by CORS policy: No \u0026#39;Access-Control-Allow-Origin\u0026#39; header is present on the requested resource. å¦‚ä½•è§£å†³ CORS é—®é¢˜ï¼Ÿ CORS çš„è§£å†³æ–¹æ¡ˆé€šå¸¸åˆ†ä¸ºä¸¤ç§ï¼šæœåŠ¡ç«¯é…ç½® å’Œ å‰ç«¯è§£å†³æ–¹æ¡ˆã€‚è§£å†³ CORS é—®é¢˜çš„å…³é”®åœ¨äºæœåŠ¡å™¨å¦‚ä½•å“åº”è¯·æ±‚ï¼Œå¹¶è®¾ç½®é€‚å½“çš„ HTTP å¤´ä¿¡æ¯æ¥å…è®¸è·¨åŸŸã€‚\n1. æœåŠ¡ç«¯è§£å†³æ–¹æ¡ˆï¼ˆæ¨èæ–¹å¼ï¼‰ CORS é—®é¢˜çš„æœ€ä½³è§£å†³æ–¹å¼æ˜¯ åœ¨æœåŠ¡å™¨ç«¯é…ç½®æ­£ç¡®çš„ CORS å¤´ä¿¡æ¯ã€‚æœåŠ¡å™¨éœ€è¦åœ¨å“åº”å¤´ä¸­æ·»åŠ  Access-Control-Allow-Originï¼Œæ˜ç¡®å…è®¸å“ªäº›åŸŸå¯ä»¥è®¿é—®è¯¥èµ„æºã€‚\næ·»åŠ  CORS å¤´ä¿¡æ¯ï¼š æœåŠ¡å™¨éœ€è¦åœ¨å“åº”å¤´ä¸­è¿”å›ä»¥ä¸‹å†…å®¹ï¼š\nAccess-Control-Allow-Origin: * è¿™é‡Œçš„ * è¡¨ç¤ºå…è®¸æ‰€æœ‰æ¥æºçš„è·¨åŸŸè¯·æ±‚ã€‚ä¹Ÿå¯ä»¥å°† * æ›¿æ¢ä¸ºæŒ‡å®šçš„åŸŸåï¼Œä¾‹å¦‚ï¼š\nAccess-Control-Allow-Origin: http://localhost:8000 å…¶ä»–å¸¸è§çš„ CORS å¤´ä¿¡æ¯ï¼š\nAccess-Control-Allow-Methodsï¼šæŒ‡å®šå…è®¸çš„ HTTP è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ GETã€POSTï¼‰ã€‚ Access-Control-Allow-Headersï¼šæŒ‡å®šå…è®¸çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ã€‚ Access-Control-Allow-Credentialsï¼šæ˜¯å¦å…è®¸å®¢æˆ·ç«¯å‘é€ cookiesã€‚ ç¤ºä¾‹ï¼šå‡è®¾ä½ ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª Flask APIï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥å¯ç”¨ CORSï¼š\nfrom flask import Flask from flask_cors import CORS app = Flask(__name__) CORS(app) @app.route(\u0026#39;/\u0026#39;) def home(): return \u0026#39;Hello, CORS is enabled!\u0026#39; if __name__ == \u0026#39;__main__\u0026#39;: app.run() é€šè¿‡ CORS(app)ï¼Œä½ å¯ç”¨äº† CORS æ”¯æŒï¼Œä½¿å¾—ä¸åŒæ¥æºçš„è¯·æ±‚å¯ä»¥è®¿é—®è¯¥æœåŠ¡å™¨ã€‚\n2. ä½¿ç”¨å‰ç«¯ä»£ç†è§£å†³ CORS å¦‚æœä½ æ— æ³•æ§åˆ¶æœåŠ¡ç«¯é…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ å‰ç«¯ä»£ç† çš„æ–¹å¼æ¥ç»•è¿‡ CORS é—®é¢˜ã€‚å‰ç«¯ä»£ç†åœ¨æœ¬åœ°è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨ï¼Œå°†æ‰€æœ‰è¯·æ±‚ä»£ç†åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œä»¥æ­¤æ¥è§„é¿ CORS é™åˆ¶ã€‚\nä½¿ç”¨ Webpack çš„ Dev Server ä»£ç†ï¼š åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Webpack çš„å¼€å‘æœåŠ¡å™¨æ¥ä»£ç† API è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨ webpack.config.js ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š\ndevServer: { proxy: { \u0026#39;/api\u0026#39;: { target: \u0026#39;http://api.example.com\u0026#39;, changeOrigin: true, pathRewrite: { \u0026#39;^/api\u0026#39;: \u0026#39;\u0026#39; }, } } } é€šè¿‡è¿™ç§ä»£ç†æ–¹å¼ï¼Œå‰ç«¯å‘å‡ºçš„è¯·æ±‚å…ˆç”± Webpack çš„æœ¬åœ°æœåŠ¡å™¨å¤„ç†ï¼Œå†è½¬å‘åˆ°ç›®æ ‡ APIï¼Œä»è€Œé¿å… CORS é™åˆ¶ã€‚\n3. åœ¨æµè§ˆå™¨ä¸­ç¦ç”¨ CORSï¼ˆå¼€å‘ç¯å¢ƒä¸­ï¼Œä¸æ¨èç”¨äºç”Ÿäº§ï¼‰ åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä¸€äº›æµè§ˆå™¨æ‰©å±•æˆ–å‘½ä»¤è¡Œå‚æ•°æ¥ ç¦ç”¨ CORSï¼Œè¿™æ ·æµè§ˆå™¨å°±ä¸ä¼šé˜»æ­¢è·¨åŸŸè¯·æ±‚ã€‚ä¸è¿‡è¿™ç§æ–¹æ³•ä»…é™äºè°ƒè¯•ï¼Œä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¼šå¢åŠ å®‰å…¨é£é™©ã€‚\nChrome ä¸­ç¦ç”¨ CORSï¼š ä½ å¯ä»¥é€šè¿‡å¯åŠ¨ Chrome æ—¶æ·»åŠ ä»¥ä¸‹å‚æ•°æ¥ç¦ç”¨ CORSï¼š\nchrome.exe --disable-web-security --user-data-dir=\u0026#34;C:/ChromeDev\u0026#34; è¿™ç§æ–¹å¼é€‚åˆæœ¬åœ°å¼€å‘è°ƒè¯•ï¼Œä½†åˆ‡è®° ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚\næ€»ç»“ Node.js å’Œ npm æä¾›äº†å¼€å‘é˜¶æ®µçš„ä¾¿åˆ©ï¼Œä½†å®é™…ä¸Šï¼Œä½¿ç”¨ Python çš„ HTTP æœåŠ¡å™¨ç­‰ç®€å•å·¥å…·ä¹Ÿèƒ½å¯åŠ¨å’ŒæŸ¥çœ‹ Web åº”ç”¨ã€‚ CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œä¸»è¦ç”¨äºé˜²æ­¢ç½‘é¡µè·¨åŸŸè¯·æ±‚èµ„æºæ—¶çš„å®‰å…¨é—®é¢˜ã€‚ è§£å†³ CORS é—®é¢˜çš„æœ€ä½³æ–¹æ³•æ˜¯åœ¨æœåŠ¡å™¨ç«¯è®¾ç½®åˆé€‚çš„ CORS å¤´ä¿¡æ¯ï¼Œå…è®¸å®¢æˆ·ç«¯è·¨åŸŸè®¿é—®èµ„æºã€‚ å¦‚æœæ— æ³•ä¿®æ”¹æœåŠ¡ç«¯é…ç½®ï¼Œå‰ç«¯ä»£ç†ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆã€‚ é€šè¿‡ç†è§£å’Œæ­£ç¡®å¤„ç† CORS é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸­é¿å…ä¸å¿…è¦çš„è·¨åŸŸé”™è¯¯ï¼Œä»è€Œæ›´é«˜æ•ˆåœ°å¼€å‘å’Œéƒ¨ç½² Web åº”ç”¨ã€‚\nä»£ç è®°å½• ä½¿ç”¨PyQT import os import re import json import hashlib from datetime import datetime from PyQt5.QtWidgets import (QWidget, QVBoxLayout, QHBoxLayout, QPushButton, QHeaderView, QSpacerItem, QSizePolicy, QLabel, QTableWidget, QTableWidgetItem, QDialog, QProgressBar, QFileDialog, QLineEdit, QComboBox) from PyQt5.QtCore import Qt, QTimer, QPoint, QThread from PyQt5.QtGui import QPixmap, QPainter, QColor, QFontDatabase, QIcon, QBrush from utils.path_utils import resource_path, get_local_data_directory from utils.viewer_utils import start_http_server class ServerThread(QThread): def __init__(self, file_path): super().__init__() self.file_path = file_path def run(self): \u0026#34;\u0026#34;\u0026#34;åœ¨åå°è¿è¡Œ HTTP æœåŠ¡å™¨\u0026#34;\u0026#34;\u0026#34; start_http_server(self.file_path) class InputDialog(QDialog): def __init__(self, parent=None): super().__init__(parent) self.setWindowFlags(Qt.FramelessWindowHint | Qt.Dialog) # æ— è¾¹æ¡†çª—å£ï¼Œæ¨¡æ€å¯¹è¯æ¡† self.setWindowModality(Qt.ApplicationModal) # è®¾ç½®ä¸ºåº”ç”¨ç¨‹åºæ¨¡æ€ï¼Œé˜»æ­¢ä¸å…¶ä»–çª—å£äº¤äº’ self.setAttribute(Qt.WA_TranslucentBackground) # ç¡®ä¿èƒŒæ™¯é€æ˜ self.setFixedSize(680, 420) # è®¾ç½®çª—å£å¤§å° layout = QVBoxLayout(self) common_style = \u0026#34;\u0026#34;\u0026#34; background-color: #2a2a2a; color: white; font-size: 26px; border-radius: 10px; padding-left: 10px; \u0026#34;\u0026#34;\u0026#34; combo_box_style = \u0026#34;\u0026#34;\u0026#34; QComboBox {{ {common_style} }} QComboBox::drop-down {{ width: 0px; border: none; }} QComboBox::down-arrow {{ width: 0px; }} QComboBox QAbstractItemView {{ background-color: #2a2a2a; color: white; selection-background-color: rgb(87, 204, 153); selection-color: white; }} \u0026#34;\u0026#34;\u0026#34;.format(common_style=common_style) line_edit_style = \u0026#34;\u0026#34;\u0026#34; QLineEdit {{ {common_style} }} \u0026#34;\u0026#34;\u0026#34;.format(common_style=common_style) common_font_style = \u0026#34;\u0026#34;\u0026#34; font-size: 26px; font-weight: bold; color: white; \u0026#34;\u0026#34;\u0026#34; common_grenn_button_style = \u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(54, 176, 123); border-radius: 10px; color: white; font-size: 26px; } QPushButton:hover { background-color: rgb(87, 204, 153); } QPushButton:pressed { background-color: rgb(42, 137, 96); } \u0026#34;\u0026#34;\u0026#34; common_red_button_style = \u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(240, 113, 103); border-radius: 10px; color: white; font-size: 26px; } QPushButton:hover { background-color: rgb(244, 146, 139); } QPushButton:pressed { background-color: rgb(238, 80, 68); } \u0026#34;\u0026#34;\u0026#34; # åˆ›å»ºåç§°è¾“å…¥æ¡† name_label = QLabel(\u0026#34;Data Name\u0026#34;) name_label.setStyleSheet(common_font_style) self.model_name_input = QLineEdit(\u0026#34;Untitled\u0026#34;) # é»˜è®¤åç§° self.model_name_input.setFixedHeight(50) # è®¾ç½®è¾“å…¥æ¡†é«˜åº¦ä¸º50px self.model_name_input.setPlaceholderText(\u0026#34;Please enter the data name\u0026#34;) self.model_name_input.setStyleSheet(line_edit_style) name_layout = QHBoxLayout() name_layout.addWidget(name_label) name_layout.addWidget(self.model_name_input) # æ–‡ä»¶é€‰æ‹©æŒ‰é’® file_label = QLabel(\u0026#34;Select File\u0026#34;) file_label.setStyleSheet(common_font_style) self.file_path_input = QLineEdit() # å±•ç¤ºè·¯å¾„ self.file_path_input.setFixedHeight(50) self.file_path_input.setReadOnly(True) self.file_path_input.setStyleSheet(line_edit_style) file_select_button = QPushButton(\u0026#34;Browse\u0026#34;) file_select_button.setFixedSize(131, 50) # è®¾ç½®æŒ‰é’®çš„å›ºå®šå¤§å° file_select_button.setStyleSheet(common_grenn_button_style) file_select_button.clicked.connect(self.open_file_dialog) # ç»‘å®šç‚¹å‡»äº‹ä»¶ file_layout = QHBoxLayout() file_layout.addWidget(file_label) file_layout.addWidget(self.file_path_input) file_layout.addWidget(file_select_button) # æ¸²æŸ“è¿­ä»£æ¬¡æ•°ä¸‹æ‹‰åˆ—è¡¨ iteration_label = QLabel(\u0026#34;Iterations\u0026#34;) iteration_label.setStyleSheet(common_font_style) self.iteration_combo = QComboBox() self.iteration_combo.setFixedHeight(50) # è®¾ç½®ä¸‹æ‹‰æ¡†é«˜åº¦ä¸º50px self.iteration_combo.addItems([\u0026#34;3000\u0026#34;, \u0026#34;7000\u0026#34;, \u0026#34;15000\u0026#34;, \u0026#34;1000\u0026#34;, \u0026#34;50\u0026#34;]) self.iteration_combo.setStyleSheet(combo_box_style) iteration_layout = QHBoxLayout() iteration_layout.addWidget(iteration_label) iteration_layout.addWidget(self.iteration_combo) # ç‚¹äº‘å¯†åº¦ä¸‹æ‹‰åˆ—è¡¨ density_label = QLabel(\u0026#34;Resolution\u0026#34;) density_label.setStyleSheet(common_font_style) self.density_combo = QComboBox() self.density_combo.setFixedHeight(50) # è®¾ç½®ä¸‹æ‹‰æ¡†é«˜åº¦ä¸º50px self.density_combo.addItems([\u0026#34;0.02\u0026#34;, \u0026#34;0.01\u0026#34;]) self.density_combo.setStyleSheet(combo_box_style) density_layout = QHBoxLayout() density_layout.addWidget(density_label) density_layout.addWidget(self.density_combo) # ç¡®å®šå’Œå–æ¶ˆæŒ‰é’® buttons_layout = QHBoxLayout() self.confirm_button = QPushButton(\u0026#34;Confirm\u0026#34;) self.confirm_button.setFixedSize(131, 50) # è®¾ç½®æŒ‰é’®çš„å›ºå®šå¤§å° self.confirm_button.setStyleSheet(common_grenn_button_style) self.confirm_button.setEnabled(False) # åˆå§‹ç¦ç”¨æŒ‰é’® cancel_button = QPushButton(\u0026#34;Cancel\u0026#34;) cancel_button.setFixedSize(131, 50) # è®¾ç½®æŒ‰é’®çš„å›ºå®šå¤§å° cancel_button.setStyleSheet(common_red_button_style) self.confirm_button.clicked.connect(self.accept) # æ¥å—è¾“å…¥ cancel_button.clicked.connect(self.reject) # å–æ¶ˆè¾“å…¥ buttons_layout.addWidget(self.confirm_button) buttons_layout.addWidget(cancel_button) # æ·»åŠ åˆ°å¸ƒå±€ layout.addLayout(name_layout) layout.addLayout(file_layout) layout.addLayout(iteration_layout) layout.addLayout(density_layout) layout.addLayout(buttons_layout) layout.setContentsMargins(30, 10, 30, 10) # å·¦ä¸Šå³ä¸‹ # ç›‘å¬è·¯å¾„å˜åŒ–ä»¥æ§åˆ¶ Confirm æŒ‰é’®çš„çŠ¶æ€ self.file_path_input.textChanged.connect(self.check_confirm_button) def open_file_dialog(self): \u0026#34;\u0026#34;\u0026#34;æ‰“å¼€æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œé€‰æ‹© lx æ–‡ä»¶\u0026#34;\u0026#34;\u0026#34; file_path, _ = QFileDialog.getOpenFileName(self, \u0026#34;Select File\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;lx Files (*.lx)\u0026#34;) if file_path: # å°†è·¯å¾„è½¬æ¢ä¸ºæ­£æ–œæ  file_path = file_path.replace(\u0026#34;\\\\\u0026#34;, \u0026#34;/\u0026#34;) self.file_path_input.setText(file_path) def check_confirm_button(self): \u0026#34;\u0026#34;\u0026#34;æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†æ–‡ä»¶è·¯å¾„ï¼Œä»¥æ§åˆ¶ç¡®è®¤æŒ‰é’®çš„å¯ç”¨çŠ¶æ€\u0026#34;\u0026#34;\u0026#34; if self.file_path_input.text(): self.confirm_button.setEnabled(True) else: self.confirm_button.setEnabled(False) def get_inputs(self): \u0026#34;\u0026#34;\u0026#34;è·å–ç”¨æˆ·è¾“å…¥çš„æ‰€æœ‰å€¼\u0026#34;\u0026#34;\u0026#34; # å®šä¹‰Windowsä¸å…è®¸çš„å­—ç¬¦ invalid_chars = r\u0026#39;[\u0026lt;\u0026gt;:\u0026#34;/\\\\|?*]\u0026#39; # æ›¿æ¢æ¨¡å‹åç§°ä¸­çš„éæ³•å­—ç¬¦ä¸ºä¸‹åˆ’çº¿ model_name = re.sub(invalid_chars, \u0026#39;_\u0026#39;, self.model_name_input.text()) return { \u0026#34;model_name\u0026#34;: model_name, \u0026#34;file_path\u0026#34;: self.file_path_input.text(), \u0026#34;iterations\u0026#34;: self.iteration_combo.currentText(), \u0026#34;density\u0026#34;: self.density_combo.currentText() } def paintEvent(self, event): \u0026#34;\u0026#34;\u0026#34;è‡ªå®šä¹‰ç»˜åˆ¶èƒŒæ™¯ä»¥å®ç°å€’è§’\u0026#34;\u0026#34;\u0026#34; painter = QPainter(self) painter.setRenderHint(QPainter.Antialiasing) rect = self.rect() painter.setBrush(QColor(30, 30, 30)) # èƒŒæ™¯é¢œè‰² painter.setPen(Qt.NoPen) painter.drawRoundedRect(rect, 10, 10) # 10px å€’è§’ class ConfirmDialog(QDialog): def __init__(self, message=\u0026#34;Proceed with this action?\u0026#34;, parent=None): super().__init__(parent) self.setWindowFlags(Qt.FramelessWindowHint | Qt.Dialog) # å»é™¤è¾¹æ¡†ï¼Œè®¾ç½®ä¸ºå¯¹è¯æ¡†æ¨¡å¼ self.setAttribute(Qt.WA_TranslucentBackground) # é€æ˜èƒŒæ™¯ # è®¾ç½®å¸ƒå±€ layout = QVBoxLayout(self) # è®¾ç½®çª—å£å¤§å° self.setFixedSize(356, 220) # åˆ›å»ºæç¤ºæ ‡ç­¾ label = QLabel(message) label.setStyleSheet(\u0026#34;font-weight:bold; font-size: 28px;\u0026#34;) layout.addWidget(label, alignment=Qt.AlignCenter) # åˆ›å»ºæŒ‰é’® button_layout = QHBoxLayout() yes_button = QPushButton(\u0026#34;Yes\u0026#34;) yes_button.setFixedSize(131, 50) # è®¾ç½®å›ºå®šçš„å®½åº¦å’Œé«˜åº¦ yes_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(240, 113, 103); border-radius: 10px; } QPushButton:hover { background-color: rgb(244, 146, 139); } QPushButton:pressed { background-color: rgb(238, 80, 68); } \u0026#34;\u0026#34;\u0026#34;) yes_button.clicked.connect(self.accept) # ç»‘å®šç¡®è®¤äº‹ä»¶ no_button = QPushButton(\u0026#34;No\u0026#34;) no_button.setFixedSize(131, 50) no_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(54, 176, 123); border-radius: 10px; } QPushButton:hover { background-color: rgb(87, 204, 153); } QPushButton:pressed { background-color: rgb(42, 137, 96); } \u0026#34;\u0026#34;\u0026#34;) no_button.clicked.connect(self.reject) # ç»‘å®šå–æ¶ˆäº‹ä»¶ button_layout.addWidget(yes_button) button_layout.addWidget(no_button) layout.addLayout(button_layout) layout.setContentsMargins(20, 20, 20, 40) # è°ƒæ•´åº•éƒ¨é—´è·ä¸º40 def show_confirmation(self): \u0026#34;\u0026#34;\u0026#34;æ˜¾ç¤ºå¯¹è¯æ¡†å¹¶è¿”å›ç”¨æˆ·é€‰æ‹©\u0026#34;\u0026#34;\u0026#34; return self.exec_() # 0: reject, 1: accept def paintEvent(self, event): # ä½¿ç”¨ QPainter ç»˜åˆ¶æ•´ä¸ªçª—å£çš„èƒŒæ™¯ painter = QPainter(self) painter.setRenderHint(QPainter.Antialiasing) # æŠ—é”¯é½¿ painter.setBrush(QColor(30, 30, 30)) # å¢¨é»‘è‰²èƒŒæ™¯ painter.setPen(Qt.NoPen) # æ— è¾¹æ¡† painter.drawRoundedRect(self.rect(), 10, 10) # è®¾ç½®åœ†è§’åŠå¾„ä¸º 10 # è‡ªå®šä¹‰æ— è¾¹æ¡†çª—å£ç±» class MainWindow(QWidget): def __init__(self, comm): super().__init__() self.comm = comm # ä¼ å…¥ Communicator å®ä¾‹ self.is_training = False # è®­ç»ƒçŠ¶æ€æ ‡å¿— self.restore_disabled_row = -1 # ç”¨äºè®°å½•ç¦ç”¨æ¢å¤æŒ‰é’®çš„è¡Œå· ### ä¸»çª—å£ ### # å®ç°é¼ æ ‡æ‹–åŠ¨ self._is_dragging = False self._drag_start_position = QPoint() # è®¾ç½®çª—å£å§‹ç»ˆç½®é¡¶ # self.setWindowFlag(Qt.WindowStaysOnTopHint) self.setWindowTitle(\u0026#34;MindCloud Renderer\u0026#34;) # è®¾ç½®çª—å£æ ‡é¢˜ self.setWindowIcon(QIcon(resource_path(\u0026#34;assets/logo.ico\u0026#34;))) self.setWindowFlag(Qt.FramelessWindowHint) # å»é™¤çª—å£è¾¹æ¡† self.setAttribute(Qt.WA_TranslucentBackground) # è®¾ç½®é€æ˜èƒŒæ™¯ä»¥å®ç°æ— è¾¹æ¡†è®¾è®¡ # è®¾ç½®ä¸»çª—å£å¤§å°ï¼Œé»„é‡‘æ¯”ä¾‹ self.resize(1618, 1000) self.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QWidget { font-family: \u0026#39;LXGW WenKai GB Screen\u0026#39;, iconfont; /* åŒæ—¶è®¾ç½®æ–‡æœ¬å’Œå›¾æ ‡å­—ä½“ */ font-size: 26px; /* è®¾ç½®å…¨å±€é»˜è®¤å­—ä½“å¤§å° */ color: rgb(250, 250, 240); /* æš–ç™½è‰² è®¾ç½®å…¨å±€å­—ä½“é¢œè‰² */ } \u0026#34;\u0026#34;\u0026#34;) # åŠ è½½å­—ä½“ font_id_icon = QFontDatabase.addApplicationFont(resource_path(\u0026#34;assets/iconfont.ttf\u0026#34;)) # åŠ¨æ€åŠ è½½å­—ä½“ font_family_icon = QFontDatabase.applicationFontFamilies(font_id_icon)[0] # è·å–å­—ä½“çš„åç§° font_id_text = QFontDatabase.addApplicationFont(resource_path(\u0026#34;assets/textfont.ttf\u0026#34;)) font_family_text = QFontDatabase.applicationFontFamilies(font_id_text)[0] # è®¾ç½®æ•´ä½“å¸ƒå±€ main_layout = QVBoxLayout(self) ### æ ‡é¢˜æ åŒºåŸŸ ### title_bar = QHBoxLayout() title_bar.setContentsMargins(0, 0, 0, 5) # å·¦ä¸Šå³ä¸‹ # åˆ›å»ºåº”ç”¨ç¨‹åºåç§° app_name_label = QLabel(\u0026#34;MindCloud Renderer v1.0\u0026#34;) # åº”ç”¨ç¨‹åºçš„åç§° app_name_label.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QLabel { color: white; font-size: 24px; font-weight: bold; } \u0026#34;\u0026#34;\u0026#34;) # å°†åº”ç”¨ç¨‹åºåç§°æ·»åŠ åˆ°æ ‡é¢˜æ çš„å·¦ä¾§ title_bar.addWidget(app_name_label) # åˆ›å»ºæœ€å°åŒ–ã€æœ€å¤§åŒ–å’Œå…³é—­æŒ‰é’® min_button = QPushButton(\u0026#34;\\uE1A6\u0026#34;) # \u0026amp;#xe1a6 -\u0026gt; \\uE1A6 16è¿›åˆ¶ Unicode max_button = QPushButton(\u0026#34;\\uE1A4\u0026#34;) close_button = QPushButton(\u0026#34;\\uE1A5\u0026#34;) # è®¾ç½®æŒ‰é’®å¤§å°å’Œæ ·å¼ for button in [min_button, max_button, close_button]: button.setFixedSize(48, 48) button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: transparent; /* é€æ˜èƒŒæ™¯ */ color: white; border: none; } QPushButton:hover { background-color: #3a3a3a; } QPushButton:pressed { background-color: #333333; } \u0026#34;\u0026#34;\u0026#34;) title_bar.addSpacerItem(QSpacerItem(0, 0, QSizePolicy.Expanding, QSizePolicy.Minimum)) # ç½®äºçª—å£æœ€å³ä¾§ title_bar.addWidget(min_button) title_bar.addWidget(max_button) title_bar.addWidget(close_button) # æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç»‘å®š min_button.clicked.connect(self.showMinimized) max_button.clicked.connect(self.toggle_max_restore) close_button.clicked.connect(self.confirm_close) # è¿½è¸ªæœ€å¤§åŒ–çŠ¶æ€ self.is_maximized = False # æ·»åŠ æ ‡é¢˜æ åˆ°ä¸»å¸ƒå±€ main_layout.addLayout(title_bar) ### å·¦ä¾§æŒ‰é’®åŒºåŸŸ ### left_panel = QVBoxLayout() left_panel.setContentsMargins(0, 0, 0, 0) # å»é™¤å†…è¾¹è· # æ·»åŠ  logo çš„ QLabel logo_label = QLabel() logo_pixmap = QPixmap(resource_path(\u0026#34;assets/lx_logo.png\u0026#34;)) logo_pixmap = logo_pixmap.scaled(160, 160, Qt.KeepAspectRatio, Qt.SmoothTransformation) # è°ƒæ•´ logo çš„å¤§å° logo_label.setPixmap(logo_pixmap) # å°† logo QLabel æ·»åŠ åˆ°å·¦ä¾§é¢æ¿ left_panel.addWidget(logo_label, alignment=Qt.AlignTop | Qt.AlignHCenter) # é¡¶éƒ¨å¯¹é½ã€æ°´å¹³å±…ä¸­å¯¹é½ # æ·»åŠ ä¸€ä¸ªå¯æ‰©å±•ç©ºç™½é¡¹ï¼Œä¿æŒæŒ‰é’®å’Œlogoä¹‹é—´çš„å¼¹æ€§ç©ºé—´ left_panel.addSpacerItem(QSpacerItem(0, 0, QSizePolicy.Minimum, QSizePolicy.Expanding)) # ä¸Šä¸‹æ‰©å±• # åˆ›å»ºæŒ‰é’® self.new_task_button = QPushButton() self.new_task_button.setFixedSize(194, 120) # è®¾ç½®æŒ‰é’®å°ºå¯¸ï¼Œå®½ é«˜ï¼Œé»„é‡‘æ¯”ä¾‹ # åˆ›å»ºå›¾æ ‡å’Œæ–‡æœ¬æ ‡ç­¾ icon_label = QLabel(\u0026#34;\\uE1A3\u0026#34;) icon_label.setStyleSheet(\u0026#34;font-size: 48px; color: white; padding-top: 10px\u0026#34;) # è®¾ç½®å›¾æ ‡é¢œè‰² text_label = QLabel(\u0026#34;Create\u0026#34;) # æŒ‰é’®ä¸‹æ–¹çš„æ–‡å­— text_label.setStyleSheet(\u0026#34;font-size: 28px; font-weight: bold; color: white; padding-bottom: 10px\u0026#34;) # è®¾ç½®æ–‡å­—å¤§å°å’Œé¢œè‰² # åˆ›å»ºå‚ç›´å¸ƒå±€ï¼Œå°†å›¾æ ‡å’Œæ–‡å­—æ·»åŠ åˆ°å¸ƒå±€ button_layout = QVBoxLayout() button_layout.setContentsMargins(0, 0, 0, 0) # å»é™¤å†…è¾¹è· # è®¾ç½®å›¾æ ‡å’Œæ–‡å­—æ°´å¹³å±…ä¸­ button_layout.addWidget(icon_label, alignment=Qt.AlignHCenter) button_layout.addWidget(text_label, alignment=Qt.AlignHCenter) # å°†å¸ƒå±€è®¾ç½®ä¸ºæŒ‰é’®çš„å¸ƒå±€ self.new_task_button.setLayout(button_layout) # è®¾ç½®æŒ‰é’®çš„æ ·å¼ self.new_task_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: #2a2a2a; border-radius: 10px; } QPushButton:hover { background-color: #3a3a3a; } QPushButton:pressed { background-color: #333333; } \u0026#34;\u0026#34;\u0026#34;) # æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œå‘å°„ä¿¡å·ï¼Œå¹¶é™„å¸¦å‚æ•° self.new_task_button.clicked.connect(self.show_input_dialog) # æ·»åŠ æŒ‰é’®åˆ°å·¦ä¾§é¢æ¿å¹¶è®¾ç½®æ°´å¹³å±…ä¸­ left_panel.addWidget(self.new_task_button) ### ä¸­é—´æ˜¾ç¤ºåŒºåŸŸï¼ˆå³ä¾§ï¼‰ ### progress_height = 50 button_width = 131 ### è¿›åº¦æ¡ ### self.progress_bar = QProgressBar(self) self.progress_bar.setMaximum(10000) # æ‰©å¤§100å€ï¼Œä»¥ä¾¿æ˜¾ç¤ºå°æ•°ç‚¹åä¸¤ä½ self.progress_bar.setValue(0) # åˆå§‹å€¼ä¸º0 self.progress_bar.setTextVisible(False) # é»˜è®¤ä¸æ˜¾ç¤ºæ–‡å­—ï¼ˆåŒ…å«æŒ‰é’®æ–‡å­—ï¼‰ self.progress_bar.setVisible(False) # é»˜è®¤ä¸æ˜¾ç¤º self.progress_bar.setAlignment(Qt.AlignCenter) # å±…ä¸­æ˜¾ç¤ºæ–‡å­— self.progress_value = 0 # æµ®ç‚¹æ•°å€¼ self.progress_bar.setFixedHeight(progress_height) # è®¾ç½®å›ºå®šé«˜åº¦ # è‡ªå®šä¹‰è¿›åº¦æ¡æ ·å¼ self.progress_bar.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QProgressBar { border-radius: 10px; text-align: center; color: white; background-color: #2a2a2a; } QProgressBar::chunk { border-radius: 5px; /* åœ†è§’æ¯”è¾ƒå°ï¼Œé€‚åº”è¿›åº¦ä¸º1%çš„æƒ…å†µ */ background: qlineargradient( spread: pad, x1: 0, y1: 0, x2: 1, y2: 0, stop: 0 rgb(54, 176, 123), /* æ¸å˜èµ·ç‚¹é¢œè‰² */ stop: 1 rgb(87, 204, 153) /* æ¸å˜ç»ˆç‚¹é¢œè‰² */ ); } \u0026#34;\u0026#34;\u0026#34;) # åˆ›å»ºå–æ¶ˆæŒ‰é’® self.cancel_button = QPushButton(\u0026#34;Cancel\u0026#34;, self) self.cancel_button.setFixedSize(button_width, progress_height) # è®¾ç½®æŒ‰é’®å¤§å° self.cancel_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(240, 113, 103); color: white; border-radius: 10px; } QPushButton:hover { background-color: rgb(244, 146, 139); } QPushButton:pressed { background-color: rgb(238, 80, 68); } \u0026#34;\u0026#34;\u0026#34;) self.cancel_button.clicked.connect(self.confirm_cancel_training) self.cancel_button.setVisible(False) # é»˜è®¤éšè—æŒ‰é’® # åˆ›å»ºç¡®è®¤æŒ‰é’® self.confirm_button = QPushButton(\u0026#34;Confirm\u0026#34;, self) self.confirm_button.setFixedSize(button_width, progress_height) self.confirm_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(54, 176, 123); color: white; border-radius: 10px; } QPushButton:hover { background-color: rgb(87, 204, 153); } QPushButton:pressed { background-color: rgb(42, 137, 96); } \u0026#34;\u0026#34;\u0026#34;) self.confirm_button.clicked.connect(self.confirm_complete) self.confirm_button.setVisible(False) # åˆ›å»ºæ°´å¹³å¸ƒå±€ï¼ˆåŒ…æ‹¬è¿›åº¦æ¡å’Œå–æ¶ˆæŒ‰é’®ï¼‰ progress_layout = QHBoxLayout() progress_layout.addWidget(self.progress_bar) progress_layout.addWidget(self.cancel_button) progress_layout.addWidget(self.confirm_button) progress_layout.setContentsMargins(0, 0, 0, 0) # ç§»é™¤è¿›åº¦æ¡æ‰€åœ¨å¸ƒå±€çš„å†…è¾¹è· # å°†æ°´å¹³å¸ƒå±€åŒ…è£…åˆ°ä¸€ä¸ª QWidget ä¸­ progress_widget = QWidget() progress_widget.setLayout(progress_layout) # çœç•¥å·æ•ˆæœ # å¢åŠ ä¸€ä¸ªç©ºæ ¼ self.ellipsis_states = [\u0026#34; â ‚â „â „\u0026#34;, \u0026#34; â „â ‚â „\u0026#34;, \u0026#34; â „â „â ‚\u0026#34;, \u0026#34; â „â „â „\u0026#34;] # Unicode çœç•¥å·æ•ˆæœ self.current_ellipsis_index = 0 # åˆ›å»ºä¸€ä¸ª QTimer å®šæ—¶å™¨ï¼Œæ¯333msæ›´æ–°ä¸€æ¬¡çœç•¥å·æ•ˆæœï¼ˆç¨‹åºå¼€å§‹æ—¶å°±å¯åŠ¨ï¼‰ self.ellipsis_timer = QTimer(self) self.ellipsis_timer.timeout.connect(self.update_ellipsis) self.ellipsis_timer.start(333) # 333ms # ä¿¡å·è¿æ¥ comm.start_signal.connect(self.start_progress_bar) comm.progress_signal.connect(self.update_progress_bar) comm.training_complete.connect(self.training_complete) self.on_saving = False comm.saving_signal.connect(self.on_saving_trigger) ### å†å²è®°å½•è¡¨æ ¼ ### # åˆ›å»ºè¡¨å¤´å’Œå†…å®¹åŒºåŸŸ self.header_table = QTableWidget(0, 5) # åªä½œä¸ºè¡¨å¤´ self.content_table = QTableWidget(0, 5) # æ”¾å†…å®¹çš„è¡¨æ ¼ self.header_labels = [\u0026#34;\u0026#34;, \u0026#34;Data Name\u0026#34;, \u0026#34;Creation Time\u0026#34;, \u0026#34;Status\u0026#34;, \u0026#34;Actions\u0026#34;] self.header_table.setHorizontalHeaderLabels(self.header_labels) # è®¾ç½®è¡¨æ ¼æ•´ä½“æ ·å¼ï¼ŒåŒ…æ‹¬è¡¨å¤´å’Œè¡Œå· self.header_table.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QTableWidget { background-color: #2a2a2a; /* è¾ƒäº®çš„ç°è‰²èƒŒæ™¯ */ gridline-color: transparent; /* éšè—è¡¨æ ¼çš„çº¿æ¡ */ border: none; /* éšè—è¡¨æ ¼çš„è¾¹æ¡† */ border-top-left-radius: 10px; /* æ‰‹æŸ„åº•éƒ¨å·¦è§’åœ†è§’ */ border-top-right-radius: 10px; /* æ‰‹æŸ„åº•éƒ¨å³è§’åœ†è§’ */ } QHeaderView { background-color: transparent; /* è®¾ç½®è¡¨å¤´èƒŒæ™¯é€æ˜ */ font-size: 28px; font-weight: bold; } QHeaderView::section { background-color: #3a3a3a; /* è®¾ç½®è¡¨å¤´å’Œè¡Œå·çš„èƒŒæ™¯é¢œè‰² */ border: none; padding: 15px; } /* è®¾ç½®è¡¨å¤´çš„å·¦ä¸Šè§’åœ†è§’ */ QHeaderView::section:first { border-top-left-radius: 10px; /* è®¾ç½®å·¦ä¸Šè§’åœ†è§’ */ } /* è®¾ç½®è¡¨å¤´çš„å³ä¸Šè§’åœ†è§’ */ QHeaderView::section:last { border-top-right-radius: 10px; } QHeaderView::up-arrow, QHeaderView::down-arrow { image: none; } \u0026#34;\u0026#34;\u0026#34;) # è®¾ç½®å†…å®¹åŒºåŸŸçš„æ ·å¼ self.content_table.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QTableWidget { background-color: #2a2a2a; /* è¾ƒäº®çš„ç°è‰²èƒŒæ™¯ */ gridline-color: transparent; /* éšè—è¡¨æ ¼çš„çº¿æ¡ */ border: none; /* éšè—è¡¨æ ¼çš„è¾¹æ¡† */ border-bottom-left-radius: 10px; /* æ‰‹æŸ„åº•éƒ¨å·¦è§’åœ†è§’ */ border-bottom-right-radius: 10px; /* æ‰‹æŸ„åº•éƒ¨å³è§’åœ†è§’ */ } QTableWidget::item { border: none; /* éšè—å•å…ƒæ ¼çš„è¾¹æ¡† */ } QScrollBar:vertical { background-color: transparent; /* æ»šåŠ¨æ¡èƒŒæ™¯ */ width: 15px; /* æ»šåŠ¨æ¡å®½åº¦ */ border-radius: 5px; /* æ»šåŠ¨æ¡åœ†è§’ */ margin-top: 1px; /* é¡¶éƒ¨ç•™ç©º 1px */ margin-bottom: 1px; /* åº•éƒ¨ç•™ç©º 1px */ } /* æ»šåŠ¨æ¡æ‰‹æŸ„ï¼Œé»˜è®¤çŠ¶æ€ */ QScrollBar::handle:vertical { background-color: #3a3a3a; /* æ‰‹æŸ„é»˜è®¤é¢œè‰² */ border-radius: 5px; /* æ‰‹æŸ„çš„åœ†è§’ */ min-height: 20px; /* æ‰‹æŸ„æœ€å°é«˜åº¦ï¼Œé˜²æ­¢å˜å¾—å¤ªå° */ } /* é¼ æ ‡æ‚¬åœæ—¶æ‰‹æŸ„çš„é¢œè‰² */ QScrollBar::handle:vertical:hover { background-color: #4a4a4a; } /* é¼ æ ‡ç‚¹å‡»æ‹–åŠ¨æ‰‹æŸ„æ—¶çš„é¢œè‰² */ QScrollBar::handle:vertical:pressed { background-color: #333333; } /* æ»šåŠ¨æ¡ä¸¤ç«¯çš„æŒ‰é’®ï¼ˆä¸Šç®­å¤´å’Œä¸‹ç®­å¤´ï¼‰ï¼Œéšè—å®ƒä»¬ */ QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical { background: none; width: 0px; height: 0px; } /* æ»šåŠ¨æ¡çš„ä¸Šã€ä¸‹éƒ¨åˆ†ç•™ç™½åŒºåŸŸ */ QScrollBar::add-page:vertical, QScrollBar::sub-page:vertical { background: none; width: 0px; height: 0px; } \u0026#34;\u0026#34;\u0026#34;) # è°ƒæ•´è¡¨å¤´çš„é«˜åº¦ self.header_table.setFixedHeight(80) # è¡¨å¤´çš„é«˜åº¦å›ºå®šä¸º80px self.header_table.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch) # éšè—è¡¨å¤´çš„ç¬¬ä¸€åˆ— self.header_table.setColumnHidden(0, True) # è®¾ç½®è¡¨å†…å®¹ self.content_table.horizontalHeader().setStyleSheet(\u0026#34;color: white;\u0026#34;) self.content_table.verticalHeader().setStyleSheet(\u0026#34;color: white;\u0026#34;) # è®¾ç½®æ¯è¡Œçš„é»˜è®¤é«˜åº¦ self.content_table.verticalHeader().setDefaultSectionSize(80) # ç¦ç”¨å†…å®¹è¡¨æ ¼çš„è¡¨å¤´ self.content_table.horizontalHeader().setVisible(False) # éšè—åˆ—åºå· self.content_table.verticalHeader().setVisible(False) # è®¾ç½®è¡¨æ ¼çš„åˆ—å®½è‡ªé€‚åº” self.content_table.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch) # è¡¨å¤´å†…å®¹å’Œå†…å®¹è¡¨æ ¼åˆ—å®½åŒæ­¥ï¼Œä¿æŒæ°´å¹³æ»šåŠ¨æ¡åŒæ­¥ self.content_table.horizontalScrollBar().valueChanged.connect(self.header_table.horizontalScrollBar().setValue) # è®¾ç½®è¡¨å¤´å¯ä»¥ç‚¹å‡»æ’åº self.content_table.setSortingEnabled(True) # ä½¿å†…å®¹è¡¨æ ¼æ”¯æŒæ’åº self.header_table.setSortingEnabled(True) # è¡¨å¤´æ”¯æŒç‚¹å‡»æ’åº # æ•æ‰è¡¨å¤´ç‚¹å‡»äº‹ä»¶ self.header_table.horizontalHeader().sectionClicked.connect(self.update_header_icons) # å¸ƒå±€ï¼šå°†è¡¨å¤´å’Œè¡¨æ ¼å†…å®¹ç»„åˆ table_layout = QVBoxLayout() table_layout.addWidget(self.header_table) table_layout.addWidget(self.content_table) table_layout.setContentsMargins(0, 0, 0, 0) table_layout.setSpacing(0) # åˆ›å»ºä¸€ä¸ª QWidget æ¥åŒ…å« table_layout table_widget = QWidget() table_widget.setLayout(table_layout) ### æ›´æ–°å†å²è®°å½• ### self.history_content = self.populate_history_table(self.content_table) # åˆ›å»ºå³ä¾§å¸ƒå±€ï¼Œç”¨æ¥æ”¾ç½®è¿›åº¦æ¡å’Œè¡¨æ ¼ right_panel = QVBoxLayout() # æ·»åŠ è¿›åº¦æ¡å’Œè¡¨æ ¼åˆ°å³ä¾§å¸ƒå±€ right_panel.addWidget(progress_widget) # å°†è¿›åº¦æ¡æ·»åŠ åˆ°è¡¨æ ¼ä¸Šæ–¹ right_panel.addWidget(table_widget) # å°†è¡¨æ ¼æ·»åŠ åˆ°è¿›åº¦æ¡ä¸‹æ–¹ right_panel.setContentsMargins(0, 0, 0, 0) # ç§»é™¤å³ä¾§å¸ƒå±€çš„å†…è¾¹è· ### ç»„åˆå·¦ä¾§é¢æ¿å’Œå³ä¾§æ˜¾ç¤ºåŒºåŸŸ ### content_layout = QHBoxLayout() content_layout.addLayout(left_panel, 1) # å·¦ä¾§çš„å†…å®¹ content_layout.addLayout(right_panel, 3) # å³ä¾§çš„å†…å®¹ï¼Œæ¯”ä¾‹3ï¼š1 main_layout.addLayout(content_layout) #! è¿™é‡Œä¹Ÿå–å·§äº†ï¼Œå¦‚æœåœ¨è¿™é‡Œç»‘å®šæŒ‰é’®ï¼Œå¯ä»¥åº”ç”¨åˆ°ä¸Šå±‚çš„CSSæ•ˆæœ self.rebind_buttons(self.history_content) ### ç»‘å®šç¦ç”¨æŒ‰é’®çš„ä¿¡å· ### self.comm.disable_restore_buttons_signal.connect(self.disable_restore_buttons_in_row) def mousePressEvent(self, event): \u0026#34;\u0026#34;\u0026#34;é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ï¼šè®°å½•é¼ æ ‡åˆå§‹ä½ç½®\u0026#34;\u0026#34;\u0026#34; if event.button() == Qt.LeftButton and not self.isMaximized(): # ç¦æ­¢åœ¨æœ€å¤§åŒ–çŠ¶æ€ä¸‹æ‹–åŠ¨ # æ£€æŸ¥é¼ æ ‡æ˜¯å¦ç‚¹å‡»åœ¨æ ‡é¢˜æ åŒºåŸŸ if event.pos().y() \u0026lt;= 80: self._is_dragging = True self._drag_start_position = event.globalPos() - self.frameGeometry().topLeft() # è®°å½•é¼ æ ‡ç›¸å¯¹çª—å£çš„ä½ç½® event.accept() def mouseMoveEvent(self, event): \u0026#34;\u0026#34;\u0026#34;é¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼šå½“é¼ æ ‡æŒ‰ä¸‹æ—¶ï¼Œæ‹–åŠ¨çª—å£\u0026#34;\u0026#34;\u0026#34; if self._is_dragging and not self.isMaximized(): # ç¦æ­¢åœ¨æœ€å¤§åŒ–çŠ¶æ€ä¸‹æ‹–åŠ¨ self.move(event.globalPos() - self._drag_start_position) # è®¡ç®—å¹¶è®¾ç½®æ–°çš„çª—å£ä½ç½® event.accept() def mouseReleaseEvent(self, event): \u0026#34;\u0026#34;\u0026#34;é¼ æ ‡é‡Šæ”¾äº‹ä»¶ï¼šåœæ­¢æ‹–åŠ¨\u0026#34;\u0026#34;\u0026#34; if event.button() == Qt.LeftButton: self._is_dragging = False # åœæ­¢æ‹–åŠ¨ event.accept() def update_ellipsis(self): \u0026#34;\u0026#34;\u0026#34;æ›´æ–°çœç•¥å·æ•ˆæœï¼Œæ ¹æ®ä¸åŒçš„è¿›åº¦æ˜¾ç¤ºä¸åŒçš„æ–‡æœ¬\u0026#34;\u0026#34;\u0026#34; # è·å–å½“å‰çš„çœç•¥å·çŠ¶æ€ ellipsis = self.ellipsis_states[self.current_ellipsis_index] if self.progress_value == -1: # æ•°æ®åŠ è½½é˜¶æ®µ status_text = \u0026#34;Canceling\u0026#34; progress_text = \u0026#34;\u0026#34; # ä¸æ˜¾ç¤ºç™¾åˆ†æ¯” elif self.progress_value == 101: # æ¸²æŸ“å®ŒæˆçŠ¶æ€ status_text = \u0026#34;Finished\u0026#34; progress_text = \u0026#34;\u0026#34; elif self.progress_value == 0: # æ•°æ®åŠ è½½é˜¶æ®µ status_text = \u0026#34;Loading\u0026#34; progress_text = \u0026#34;\u0026#34; # ä¸æ˜¾ç¤ºç™¾åˆ†æ¯” elif self.progress_value \u0026lt; 100: if self.on_saving: # ä¿å­˜é˜¶æ®µ status_text = \u0026#34;Saving\u0026#34; progress_text = \u0026#34;\u0026#34; # ä¸æ˜¾ç¤ºç™¾åˆ†æ¯” else: # æ¸²æŸ“é˜¶æ®µ status_text = \u0026#34;Rendering\u0026#34; progress_text = f\u0026#34;({self.progress_value:.2f}%)\u0026#34; # æ˜¾ç¤ºç™¾åˆ†æ¯” else: # è¿›åº¦ä¸º100%æ—¶ï¼Œåœæ­¢çœç•¥å·æ•ˆæœï¼Œå¹¶æ˜¾ç¤ºå®ŒæˆçŠ¶æ€ status_text = \u0026#34;Complete\u0026#34; progress_text = \u0026#34;(100%)\u0026#34; self.progress_bar.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QProgressBar { border-radius: 10px; text-align: center; color: white; background-color: #2a2a2a; } QProgressBar::chunk { border-radius: 10px; /* åœ†è§’æ¯”è¾ƒå¤§ï¼Œé€‚åº”è¿›åº¦ä¸º100%çš„æƒ…å†µ */ background: rgb(87, 204, 153) } \u0026#34;\u0026#34;\u0026#34;) self.cancel_button.setVisible(False) # éšè—å–æ¶ˆæŒ‰é’® self.confirm_button.setVisible(True) # æ›´æ–°è¿›åº¦æ¡çš„æ–‡æœ¬ self.progress_bar.setFormat(f\u0026#34;{status_text}{ellipsis if self.progress_value != 100 else \u0026#39;\u0026#39;}{progress_text}\u0026#34;) # å¾ªç¯æ›´æ–°ä¸‹ä¸€ä¸ªçœç•¥å·çŠ¶æ€ self.current_ellipsis_index = (self.current_ellipsis_index + 1) % len(self.ellipsis_states) def on_saving_trigger(self): \u0026#34;\u0026#34;\u0026#34;ä¿å­˜çŠ¶æ€è§¦å‘\u0026#34;\u0026#34;\u0026#34; self.on_saving = True def start_progress_bar(self): \u0026#34;\u0026#34;\u0026#34;å¯åŠ¨è¿›åº¦æ¡\u0026#34;\u0026#34;\u0026#34; self.is_training = True # è®¾ç½®è®­ç»ƒçŠ¶æ€ä¸º True self.progress_value = 0 # é‡ç½®è¿›åº¦å€¼ self.on_saving = False # é‡ç½®ä¿å­˜çŠ¶æ€ self.progress_bar.setValue(0) # é‡ç½®è¿›åº¦æ¡ self.progress_bar.setVisible(True) self.progress_bar.setTextVisible(True) # æ˜¾ç¤ºæ–‡å­— self.cancel_button.setVisible(True) # æ˜¾ç¤ºå–æ¶ˆæŒ‰é’® self.cancel_button.setEnabled(True) # å–æ¶ˆæŒ‰é’®å¯ç”¨ self.confirm_button.setEnabled(True) # ç¡®è®¤æŒ‰é’®å¯ç”¨ #TODO def cancel_training(self): \u0026#34;\u0026#34;\u0026#34;å–æ¶ˆè®­ç»ƒä»»åŠ¡\u0026#34;\u0026#34;\u0026#34; # è§¦å‘ä¿¡å·æˆ–æ“ä½œä»¥åœæ­¢è®­ç»ƒçº¿ç¨‹ print(\u0026#34;ç”¨æˆ·å–æ¶ˆæ¸²æŸ“\u0026#34;) self.is_training = False # è®¾ç½®è®­ç»ƒçŠ¶æ€ä¸º False self.cancel_button.setEnabled(False) # ç¦ç”¨å–æ¶ˆæŒ‰é’® self.cancel_button.setVisible(False) # éšè—å–æ¶ˆæŒ‰é’® self.comm.cancel_signal.emit() # è§¦å‘å–æ¶ˆè®­ç»ƒä¿¡å· self.progress_value = -1 # è®¾ç½®è¿›åº¦ä¸º -1ï¼Œè¡¨ç¤ºå–æ¶ˆ QTimer.singleShot(2000, self.hide_progress_bar) self.history_content = self.populate_history_table(self.content_table) self.rebind_buttons(self.history_content) def confirm_cancel_training(self): \u0026#34;\u0026#34;\u0026#34;å¼¹å‡ºç¡®è®¤æ¡†å¹¶åœ¨ç¡®è®¤åå–æ¶ˆè®­ç»ƒ\u0026#34;\u0026#34;\u0026#34; confirm_dialog = ConfirmDialog(\u0026#34;Cancel this action?\u0026#34;, self) if confirm_dialog.show_confirmation() == QDialog.Accepted: self.cancel_training() # ç”¨æˆ·ç¡®è®¤åå–æ¶ˆè®­ç»ƒ else: print(\u0026#34;å–æ¶ˆæ“ä½œå–æ¶ˆ\u0026#34;) #TODO def confirm_complete(self): \u0026#34;\u0026#34;\u0026#34;ç¡®è®¤ä»»åŠ¡å®Œæˆ\u0026#34;\u0026#34;\u0026#34; print(\u0026#34;ç”¨æˆ·ç¡®è®¤å®Œæˆ\u0026#34;) self.is_training = False # è®¾ç½®è®­ç»ƒçŠ¶æ€ä¸º False self.confirm_button.setVisible(False) # éšè—ç¡®è®¤æŒ‰é’® self.confirm_button.setEnabled(False) # ç¦ç”¨ç¡®è®¤æŒ‰é’® self.progress_value = 101 # è®¾ç½®è¿›åº¦ä¸º 101ï¼Œè¡¨ç¤ºå®Œæˆ QTimer.singleShot(2000, self.hide_progress_bar) def hide_progress_bar(self): \u0026#34;\u0026#34;\u0026#34;éšè—è¿›åº¦æ¡\u0026#34;\u0026#34;\u0026#34; self.progress_bar.setVisible(False) def update_progress_bar(self, value): \u0026#34;\u0026#34;\u0026#34;æ›´æ–°è¿›åº¦æ¡\u0026#34;\u0026#34;\u0026#34; self.progress_value = value if (value \u0026lt;= 1): self.progress_bar.setValue(100) else: self.progress_bar.setValue(int(value * 100)) #TODO def training_complete(self): \u0026#34;\u0026#34;\u0026#34;è®­ç»ƒå®Œæˆåéšè—è¿›åº¦æ¡\u0026#34;\u0026#34;\u0026#34; self.history_content = self.populate_history_table(self.content_table) self.rebind_buttons(self.history_content) def update_header_icons(self, logicalIndex): \u0026#34;\u0026#34;\u0026#34;æ ¹æ®æ’åºé¡ºåºæ›´æ–°è¡¨å¤´çš„ iconfont å›¾æ ‡\u0026#34;\u0026#34;\u0026#34; # è·å–å½“å‰åˆ—çš„æ’åºé¡ºåºï¼ˆåˆå§‹æ—¶æ²¡æœ‰æ’åºçŠ¶æ€æ—¶ï¼Œé»˜è®¤ä¸ºå‡åºï¼‰ if self.content_table.horizontalHeader().sortIndicatorSection() == logicalIndex: # å¦‚æœå½“å‰åˆ—æ˜¯å·²ç»æ’åºçš„åˆ—ï¼Œé‚£ä¹ˆè·å–å…¶æ’åºé¡ºåºå¹¶ç¿»è½¬å®ƒ sort_order = self.content_table.horizontalHeader().sortIndicatorOrder() sort_order = Qt.DescendingOrder if sort_order == Qt.AscendingOrder else Qt.AscendingOrder else: # å¦‚æœæ˜¯æ–°åˆ—ï¼Œé»˜è®¤ä¸ºå‡åº sort_order = Qt.AscendingOrder # åˆå§‹åŒ–åŸå§‹è¡¨å¤´æ ‡ç­¾ base_labels = [\u0026#34;\u0026#34;, \u0026#34;Data Name\u0026#34;, \u0026#34;Creation Time\u0026#34;, \u0026#34;Status\u0026#34;, \u0026#34;Actions\u0026#34;] # å¤åˆ¶ base_labels ä»¥ç”¨äºæ›´æ–° self.header_labels = base_labels.copy() # æ£€æŸ¥ logicalIndex æ˜¯å¦åœ¨ base_labels çš„èŒƒå›´å†… if logicalIndex \u0026lt; len(self.header_labels): # åŠ¨æ€æ›´æ–°ç‚¹å‡»çš„åˆ—ï¼Œå…¶ä»–åˆ—ä¿æŒåŸæ · icon = \u0026#34;\\uE1A1\u0026#34; if sort_order == Qt.AscendingOrder else \u0026#34;\\uE1A2\u0026#34; # æ›´æ–° logicalIndex å¯¹åº”åˆ—çš„å›¾æ ‡ self.header_labels[logicalIndex] = f\u0026#34;{base_labels[logicalIndex]} {icon}\u0026#34; # æ›´æ–°è¡¨å¤´æ ‡ç­¾ self.header_table.setHorizontalHeaderLabels(self.header_labels) # å¯¹å†…å®¹è¡¨æ ¼è¿›è¡Œæ’åº self.content_table.sortItems(logicalIndex, sort_order) # è®©å†…å®¹è¡¨æ ¼æ ¹æ®ç›¸åŒçš„åˆ—è¿›è¡Œæ’åº # è®¾ç½®å½“å‰è¡¨æ ¼çš„æ’åºçŠ¶æ€ self.content_table.horizontalHeader().setSortIndicator(logicalIndex, sort_order) else: print(f\u0026#34;Warning: logicalIndex {logicalIndex} is out of range for header labels.\u0026#34;) def show_input_dialog(self): \u0026#34;\u0026#34;\u0026#34;å¼¹å‡ºè¾“å…¥å¯¹è¯æ¡†\u0026#34;\u0026#34;\u0026#34; dialog = InputDialog(self) if dialog.exec_() == QDialog.Accepted: inputs = dialog.get_inputs() print(f\u0026#34;ç”¨æˆ·è¾“å…¥ï¼š{inputs}\u0026#34;) self.emit_training_signal(inputs) def emit_training_signal(self, inputs): \u0026#34;\u0026#34;\u0026#34;é€šè¿‡ä¿¡å·å‘å°„ç”¨æˆ·è¾“å…¥çš„æ•°æ®\u0026#34;\u0026#34;\u0026#34; model_name = inputs[\u0026#34;model_name\u0026#34;] source_path = inputs[\u0026#34;file_path\u0026#34;] iterations = int(inputs[\u0026#34;iterations\u0026#34;]) density = float(inputs[\u0026#34;density\u0026#34;]) # è·å–å½“å‰æ—¶é—´æˆ³ï¼Œæ ¼å¼ä¸ºï¼š2024-08-22 23:43:29 timestamp = datetime.now().strftime(\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34;) unique_hash = hashlib.sha256(timestamp.encode(\u0026#39;utf-8\u0026#39;)).hexdigest() self.comm.training_params_signal.emit(timestamp, unique_hash, model_name, source_path, iterations, density, False) def populate_history_table_demo(self, table): #TODO é€šè¿‡æ–‡ä»¶å®é™…è¯»å–æ•°æ® (è¿™é‡Œæ˜¯æ ·ä¾‹æ•°æ®) history_data = [ {\u0026#34;name\u0026#34;: \u0026#34;loft 2024-07-18 08:58:00 2024-07-18 08:58:00 2024-07-18 08:58:00\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-07-18 08:58:00\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/loft\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;room\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-08-22 23:43:29\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/room\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;playroom\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-09-10 18:18:20\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A8 Incomplete\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/playroom\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;loft\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-07-18 08:58:00\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/loft\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;room\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-08-22 23:43:29\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/room\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;playroom\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-09-10 18:18:20\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A8 Incomplete\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/playroom\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;loft\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-07-18 08:58:00\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/loft\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;room\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-08-22 23:43:29\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/room\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;playroom\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-09-10 18:18:20\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A8 Incomplete\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/playroom\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;loft\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-07-18 08:58:00\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/loft\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;room\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-08-22 23:43:29\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/room\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;playroom\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-09-10 18:18:20\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A8 Incomplete\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/playroom\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;loft\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-07-18 08:58:00\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/loft\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;room\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-08-22 23:43:29\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A7 Completed\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/room\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;playroom\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2024-09-10 18:18:20\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;\\uE1A8 Incomplete\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/Quite/CKCode/CKData/MT20240318-184924/mt_output/playroom\u0026#34;}, ] # æ¸…ç©ºè¡¨æ ¼ table.setRowCount(0) table.setColumnCount(5) # å¢åŠ éšè—åˆ— # éšè—ç¬¬ä¸€åˆ— table.setColumnHidden(0, True) for row_data in history_data: row_position = table.rowCount() table.insertRow(row_position) # åˆ›å»ºå¹¶è®¾ç½®æ¯ä¸€åˆ—çš„å•å…ƒæ ¼ name_item = QTableWidgetItem(row_data[\u0026#34;name\u0026#34;]) timestamp_item = QTableWidgetItem(row_data[\u0026#34;timestamp\u0026#34;]) status_item = QTableWidgetItem(row_data[\u0026#34;status\u0026#34;]) # è®¾ç½®çŠ¶æ€å•å…ƒæ ¼çš„é¢œè‰²ï¼Œæ ¹æ®ä¸åŒçŠ¶æ€æ¥è®¾ç½®é¢œè‰² if \u0026#34;Completed\u0026#34; in row_data[\u0026#34;status\u0026#34;]: status_item.setForeground(QBrush(QColor(87, 204, 153))) # è®¾ç½®å­—ä½“é¢œè‰²ä¸ºèˆ’é€‚çš„ç»¿è‰² elif \u0026#34;Incomplete\u0026#34; in row_data[\u0026#34;status\u0026#34;]: status_item.setForeground(QBrush(QColor(240, 113, 103))) # è®¾ç½®å­—ä½“é¢œè‰²ä¸ºæŸ”å’Œçš„çº¢è‰² # å­˜å‚¨æ–‡ä»¶è·¯å¾„ä¸º `Qt.UserRole` æ•°æ® name_item.setData(Qt.UserRole, row_data[\u0026#34;path\u0026#34;]) # è®¾ç½®æ¯ä¸ªå•å…ƒæ ¼å†…å®¹å±…ä¸­ name_item.setTextAlignment(Qt.AlignCenter) timestamp_item.setTextAlignment(Qt.AlignCenter) status_item.setTextAlignment(Qt.AlignCenter) name_item.setFlags(name_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) timestamp_item.setFlags(timestamp_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) status_item.setFlags(status_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) # æ’å…¥æ•°æ®åˆ°è¡¨æ ¼ #! è¿™é‡Œå–å·§äº†ï¼Œç”¨äº†äº”åˆ—æ¥é¿å…ç¬¬ä¸€åˆ—ï¼ˆç´¢å¼•0ï¼‰æ’å…¥å¯¼è‡´åé¢çš„é”™è¯¯ table.setItem(row_position, 1, name_item) table.setItem(row_position, 2, timestamp_item) table.setItem(row_position, 3, status_item) return table def populate_history_table(self, table): # æ¸…ç©ºè¡¨æ ¼ table.setRowCount(0) table.setColumnCount(6) # å¢åŠ éšè—åˆ— # éšè—ç¬¬ä¸€åˆ—å’Œç¬¬å…­åˆ— table.setColumnHidden(0, True) table.setColumnHidden(5, True) \u0026#34;\u0026#34;\u0026#34;è¯»å–å†å²è®°å½•å¹¶å¡«å……è¡¨æ ¼\u0026#34;\u0026#34;\u0026#34; # è·å– LOCALAPPDATA ç¯å¢ƒå˜é‡ local_app_data = get_local_data_directory() # æ‹¼æ¥å†å²è®°å½•æ–‡ä»¶è·¯å¾„ history_file = os.path.join(local_app_data, \u0026#39;MindCloud Renderer\u0026#39;, \u0026#39;history.json\u0026#39;) # å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å› if not os.path.exists(history_file): print(f\u0026#34;å†å²è®°å½•æ–‡ä»¶ä¸å­˜åœ¨ï¼š{history_file}\u0026#34;) return table # è¯»å–å†å²è®°å½•æ–‡ä»¶å†…å®¹ with open(history_file, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: history_data = json.load(f) # éå†å†å²è®°å½•å¹¶å¡«å……è¡¨æ ¼ for entry in history_data: model_name = entry[\u0026#34;model_name\u0026#34;] timestamp = entry[\u0026#34;timestamp\u0026#34;] file_path = entry[\u0026#34;file_path\u0026#34;] unique_id = entry.get(\u0026#34;id\u0026#34;, \u0026#34;\u0026#34;) # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå†³å®šçŠ¶æ€ if os.path.exists(file_path): print(f\u0026#34;æ–‡ä»¶å­˜åœ¨ï¼š{file_path}\u0026#34;) status = \u0026#34;\\uE1A7 Completed\u0026#34; else: print(f\u0026#34;æ–‡ä»¶ä¸å­˜åœ¨ï¼š{file_path}\u0026#34;) status = \u0026#34;\\uE1A8 Incomplete\u0026#34; # è·å–å½“å‰è¡¨æ ¼è¡Œæ•°ï¼Œæ’å…¥æ–°è¡Œ row_position = table.rowCount() table.insertRow(row_position) # è®¾ç½®æ¯ä¸€åˆ—çš„æ•°æ® id_item = QTableWidgetItem(unique_id) name_item = QTableWidgetItem(model_name) timestamp_item = QTableWidgetItem(timestamp) status_item = QTableWidgetItem(status) # è®¾ç½®çŠ¶æ€å•å…ƒæ ¼çš„é¢œè‰²ï¼Œæ ¹æ®ä¸åŒçŠ¶æ€æ¥è®¾ç½®é¢œè‰² if \u0026#34;Completed\u0026#34; in status: status_item.setForeground(QBrush(QColor(87, 204, 153))) # è®¾ç½®å­—ä½“é¢œè‰²ä¸ºç»¿è‰² elif \u0026#34;Incomplete\u0026#34; in status: status_item.setForeground(QBrush(QColor(240, 113, 103))) # è®¾ç½®å­—ä½“é¢œè‰²ä¸ºçº¢è‰² # å­˜å‚¨æ–‡ä»¶è·¯å¾„ä¸º `Qt.UserRole` æ•°æ® name_item.setData(Qt.UserRole, file_path) # è®¾ç½®æ¯ä¸ªå•å…ƒæ ¼å†…å®¹å±…ä¸­ name_item.setTextAlignment(Qt.AlignCenter) timestamp_item.setTextAlignment(Qt.AlignCenter) status_item.setTextAlignment(Qt.AlignCenter) # ç¦ç”¨å•å…ƒæ ¼çš„é€‰æ‹©å’Œç¼–è¾‘ name_item.setFlags(name_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) timestamp_item.setFlags(timestamp_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) status_item.setFlags(status_item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) # æ’å…¥æ•°æ®åˆ°è¡¨æ ¼ table.setItem(row_position, 1, name_item) table.setItem(row_position, 2, timestamp_item) table.setItem(row_position, 3, status_item) table.setItem(row_position, 5, id_item) return table def rebind_buttons(self, table, row=None, is_delete=False): \u0026#34;\u0026#34;\u0026#34; ç»‘å®šè¡¨æ ¼ä¸­çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶ã€‚ - row: å¦‚æœæä¾›äº†è¡Œå·ï¼Œåˆ™åªç»‘å®šè¯¥è¡Œçš„æŒ‰é’®ï¼›å¦åˆ™é‡æ–°ç»‘å®šæ•´ä¸ªè¡¨æ ¼çš„æŒ‰é’®ã€‚ \u0026#34;\u0026#34;\u0026#34; row_count = table.rowCount() if row is not None: # ä»…é‡æ–°ç»‘å®šç‰¹å®šè¡Œå’Œä¹‹åçš„è¡Œ for r in range(row, row_count): self._bind_button_for_row(table, r) else: # ç»‘å®šæ‰€æœ‰è¡Œ for r in range(row_count): self._bind_button_for_row(table, r) # ç¦ç”¨æ¢å¤æŒ‰é’® if self.is_training: self.disable_restore_buttons_in_row(-1) if is_delete and self.restore_disabled_row \u0026gt;= 1: self.restore_disabled_row -= 1 self.disable_restore_buttons_in_row(self.restore_disabled_row) def _bind_button_for_row(self, table, row): \u0026#34;\u0026#34;\u0026#34; ç»‘å®šç‰¹å®šè¡Œçš„æŸ¥çœ‹å’Œåˆ é™¤æŒ‰é’®ã€‚ \u0026#34;\u0026#34;\u0026#34; # è·å–çŠ¶æ€é¡¹å†…å®¹ï¼Œç”¨äºåˆ¤æ–­æŒ‰é’®ç±»å‹ status_item = table.item(row, 3) status_text = status_item.text() # è·å–æ¨¡å‹åç§°å’Œä»»åŠ¡ID model_name = table.item(row, 1).text() task_id = table.item(row, 5).text() # åˆ¤æ–­æ˜¯å¦ä¸ºâ€œå·²å®Œæˆâ€è¿˜æ˜¯â€œè¿›è¡Œä¸­â€ if \u0026#34;Completed\u0026#34; in status_text: action_button = QPushButton(\u0026#34;View\u0026#34;) action_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(54, 176, 123); /* é»˜è®¤ç»¿è‰²èƒŒæ™¯ */ border-radius: 10px; /* åœ†è§’ */ padding: 5px; } QPushButton:hover { background-color: rgb(87, 204, 153); /* æ‚¬åœæ—¶æ›´äº®çš„ç»¿è‰² */ } QPushButton:pressed { background-color: rgb(42, 137, 96); /* æŒ‰ä¸‹æ—¶æ›´æ·±çš„ç»¿è‰² */ } \u0026#34;\u0026#34;\u0026#34;) # ç»‘å®šâ€œæŸ¥çœ‹â€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ action_button.clicked.connect(lambda checked, r=row: self.display_file_from_row(model_name, task_id)) else: # è¿›è¡Œä¸­ï¼Œè®¾ç½®ä¸ºâ€œç»§ç»­â€æŒ‰é’® action_button = QPushButton(\u0026#34;Restore\u0026#34;) action_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(255, 159, 28); /* æ©™è‰²èƒŒæ™¯ */ border-radius: 10px; /* åœ†è§’ */ padding: 5px; } QPushButton:hover { background-color: rgb(255, 191, 102); /* æ‚¬åœæ—¶å˜äº® */ } QPushButton:pressed { background-color: rgb(230, 134, 0); /* æŒ‰ä¸‹æ—¶æ›´æ·± */ } \u0026#34;\u0026#34;\u0026#34;) # ç»‘å®šâ€œç»§ç»­â€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ action_button.clicked.connect(lambda checked, r=row: self.continue_training_from_row(task_id, r)) # åˆ é™¤æŒ‰é’®ï¼šçº¢è‰²èƒŒæ™¯ delete_button = QPushButton(\u0026#34;Delete\u0026#34;) delete_button.setFixedSize(131, 50) delete_button.setStyleSheet(\u0026#34;\u0026#34;\u0026#34; QPushButton { background-color: rgb(240, 113, 103); border-radius: 10px; /* åœ†è§’ */ padding: 5px; } QPushButton:hover { background-color: rgb(244, 146, 139); } QPushButton:pressed { background-color: rgb(238, 80, 68); } \u0026#34;\u0026#34;\u0026#34;) # é‡æ–°ç»‘å®šæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ›´æ–°æ¯è¡Œçš„ row ç´¢å¼• delete_button.clicked.connect(lambda checked, r=row: self.confirm_delete_file_from_row(table, r)) # è®¾ç½®æŒ‰é’®å¤§å° action_button.setFixedSize(131, 50) delete_button.setFixedSize(131, 50) # åˆ›å»ºæ°´å¹³å¸ƒå±€ï¼ˆå·¦å³ï¼‰ button_layout = QHBoxLayout() button_layout.setSpacing(20) # è®¾ç½®æŒ‰é’®ä¹‹é—´çš„é—´è· button_layout.setContentsMargins(0, 0, 0, 0) # è®¾ç½®å†…è¾¹è·ä¸º0 button_layout.setAlignment(Qt.AlignCenter) # å·¦å³å±…ä¸­ button_layout.addWidget(action_button) button_layout.addWidget(delete_button) # åˆ›å»ºå‚ç›´å¸ƒå±€ï¼Œå°†æ°´å¹³å¸ƒå±€åŒ…è£¹ä»¥å®ç°ä¸Šä¸‹å·¦å³å±…ä¸­ outer_layout = QVBoxLayout() outer_layout.addLayout(button_layout) outer_layout.setContentsMargins(0, 0, 0, 0) # è®¾ç½®å†…è¾¹è·ä¸º0 outer_layout.setAlignment(Qt.AlignCenter) # ä¸Šä¸‹å±…ä¸­ # å°†å¸ƒå±€æ·»åŠ åˆ° QWidget å¹¶è®¾ç½®ä¸ºè¡¨æ ¼çš„å•å…ƒæ ¼å†…å®¹ button_widget = QWidget() button_widget.setLayout(outer_layout) # ç¦æ­¢æŒ‰é’®æ‰€åœ¨å•å…ƒæ ¼çš„ç‚¹å‡» item = QTableWidgetItem() item.setFlags(item.flags() \u0026amp; ~Qt.ItemIsSelectable \u0026amp; ~Qt.ItemIsEnabled) table.setItem(row, 4, item) # æ“ä½œåˆ—ä¸ºç¬¬4åˆ— # å°†æŒ‰é’®å¸ƒå±€åˆ°è¡¨æ ¼ table.setCellWidget(row, 4, button_widget) # æ“ä½œåˆ—ä¸ºç¬¬4åˆ— def delete_file_from_row(self, table, row): \u0026#34;\u0026#34;\u0026#34;æ ¹æ®è¡Œå·åˆ é™¤æ–‡ä»¶è®°å½•ï¼Œæ›´æ–°å†å²è®°å½•å¹¶åˆ é™¤æœ¬åœ°æ–‡ä»¶å¤¹\u0026#34;\u0026#34;\u0026#34; # è·å–ç¬¬1åˆ—çš„å†…å®¹ï¼ŒåŒ…å«æ–‡ä»¶è·¯å¾„ item = table.item(row, 1) if item is not None: file_path = item.data(Qt.UserRole) # è·å–æ–‡ä»¶è·¯å¾„ print(f\u0026#34;åˆ é™¤è¡Œ: {row}\u0026#34;) print(f\u0026#34;åˆ é™¤æ–‡ä»¶: {file_path}\u0026#34;) model_name = table.item(row, 1).text() unique_id = table.item(row, 5).text() # åˆ é™¤å†å²è®°å½•ä¸­çš„å¯¹åº”è®°å½• self.delete_from_history_json(unique_id) #TODO ä¸è½¬æ¢splatäº† # åˆ é™¤ä¸ unique_id å…³è”çš„ .mt3d æ–‡ä»¶ view_file_path = resource_path(os.path.join(\u0026#34;datas\u0026#34;, model_name, f\u0026#34;{unique_id}.mt3d\u0026#34;)) if os.path.exists(view_file_path): try: os.remove(view_file_path) print(f\u0026#34;æˆåŠŸåˆ é™¤ .mt3d æ–‡ä»¶ï¼š{view_file_path}\u0026#34;) except FileNotFoundError: print(f\u0026#34;æ–‡ä»¶æœªæ‰¾åˆ°ï¼Œå¯èƒ½å·²ç»è¢«åˆ é™¤ï¼š{view_file_path}\u0026#34;) except PermissionError: print(f\u0026#34;æ²¡æœ‰æƒé™åˆ é™¤æ–‡ä»¶ï¼š{view_file_path}\u0026#34;) except OSError as e: print(f\u0026#34;åˆ é™¤æ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯ï¼š{view_file_path}, é”™è¯¯: {e}\u0026#34;) else: print(f\u0026#34;.mt3d æ–‡ä»¶ä¸å­˜åœ¨ï¼š{view_file_path}\u0026#34;) # ä»è¡¨æ ¼ä¸­åˆ é™¤è¯¥è¡Œ table.removeRow(row) # é‡æ–°ç»‘å®šåˆ é™¤è¡Œåçš„è¡Œï¼Œå› ä¸ºè¡Œå·ä¼šé€’å‡ remaining_rows = table.rowCount() if row \u0026lt; remaining_rows: # ç¡®ä¿åˆ é™¤è¡Œä¸æ˜¯æœ€åä¸€è¡Œ self.rebind_buttons(table, row, is_delete=True) # é‡æ–°ç»‘å®šæŒ‰é’® else: print(f\u0026#34;Error: Row {row} does not contain valid data.\u0026#34;) def delete_from_history_json(self, unique_id): \u0026#34;\u0026#34;\u0026#34;ä»å†å²è®°å½• JSON æ–‡ä»¶ä¸­åˆ é™¤å¯¹åº”çš„è®°å½•\u0026#34;\u0026#34;\u0026#34; # è·å– LOCALAPPDATA ç¯å¢ƒå˜é‡ local_app_data = get_local_data_directory() # æ‹¼æ¥å†å²è®°å½•æ–‡ä»¶è·¯å¾„ history_file = os.path.join(local_app_data, \u0026#39;MindCloud Renderer\u0026#39;, \u0026#39;history.json\u0026#39;) # å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œè¯»å–å¹¶ä¿®æ”¹å†å²è®°å½• if os.path.exists(history_file): with open(history_file, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: history_data = json.load(f) # è¿‡æ»¤æ‰ä¸ unique_id åŒ¹é…çš„è®°å½• updated_history = [entry for entry in history_data if entry.get(\u0026#34;id\u0026#34;) != unique_id] # ä¿å­˜æ›´æ–°åçš„å†å²è®°å½• with open(history_file, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: json.dump(updated_history, f, ensure_ascii=False, indent=4) print(f\u0026#34;å†å²è®°å½•å·²æ›´æ–°ï¼Œåˆ é™¤äº†IDä¸º {unique_id} çš„è®°å½•ã€‚\u0026#34;) else: print(f\u0026#34;å†å²è®°å½•æ–‡ä»¶ä¸å­˜åœ¨ï¼š{history_file}\u0026#34;) def confirm_delete_file_from_row(self, table, row): \u0026#34;\u0026#34;\u0026#34;å¼¹å‡ºç¡®è®¤æ¡†å¹¶åœ¨ç¡®è®¤ååˆ é™¤æ–‡ä»¶\u0026#34;\u0026#34;\u0026#34; confirm_dialog = ConfirmDialog(\u0026#34;Delete this item?\u0026#34;, self) if confirm_dialog.show_confirmation() == QDialog.Accepted: self.delete_file_from_row(table, row) # ç”¨æˆ·ç¡®è®¤ååˆ é™¤æ–‡ä»¶ else: print(\u0026#34;åˆ é™¤æ“ä½œå–æ¶ˆ\u0026#34;) # def subprocess_start_http_server(self, file_path): # \u0026#34;\u0026#34;\u0026#34;å¯åŠ¨ HTTP æœåŠ¡å™¨å¹¶æ‰“å¼€æŒ‡å®šæ–‡ä»¶çš„ç½‘é¡µ\u0026#34;\u0026#34;\u0026#34; # import subprocess # import sys # # è·å– viewer.exe çš„è·¯å¾„ # server_script_path = resource_path(\u0026#34;viewer.py\u0026#34;) # if not os.path.exists(server_script_path): # print(f\u0026#34;Error: {server_script_path} not found!\u0026#34;) # return # # ä½¿ç”¨å½“å‰ Python è§£é‡Šå™¨æ¥è¿è¡Œ viewer.pyï¼Œå¹¶ä¼ é€’å‚æ•° # python_executable = sys.executable # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ # subprocess.Popen([python_executable, server_script_path, \u0026#34;--file\u0026#34;, file_path]) # print(f\u0026#34;å¯åŠ¨HTTPæœåŠ¡å™¨å¹¶æ‰“å¼€æ–‡ä»¶: {file_path}\u0026#34;) def thread_start_http_server(self, file_path): \u0026#34;\u0026#34;\u0026#34;å¯åŠ¨ HTTP æœåŠ¡å™¨å¹¶æ‰“å¼€æŒ‡å®šæ–‡ä»¶çš„ç½‘é¡µï¼ˆä½¿ç”¨ QThreadï¼‰\u0026#34;\u0026#34;\u0026#34; self.server_thread = ServerThread(file_path) self.server_thread.start() print(f\u0026#34;å¯åŠ¨HTTPæœåŠ¡å™¨å¹¶æ‰“å¼€æ–‡ä»¶: {file_path}\u0026#34;) def open_file_from_row(self, table, row): \u0026#34;\u0026#34;\u0026#34;æ ¹æ®è¡Œå·è·å–æ–‡ä»¶è·¯å¾„å¹¶æ‰“å¼€æ‰€åœ¨çš„æ–‡ä»¶å¤¹\u0026#34;\u0026#34;\u0026#34; item = table.item(row, 1) # è·å–ç¬¬ä¸€åˆ—ï¼ˆname_itemï¼‰çš„å†…å®¹ file_path = item.data(Qt.UserRole) # é€šè¿‡ UserRole è·å–æ–‡ä»¶è·¯å¾„ if file_path and os.path.exists(file_path): folder_path = os.path.dirname(file_path) # è·å–æ–‡ä»¶å¤¹è·¯å¾„ # Windows: æ‰“å¼€æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ if os.name == \u0026#39;nt\u0026#39;: os.startfile(folder_path) print(f\u0026#34;å·²æ‰“å¼€æ–‡ä»¶æ‰€åœ¨ä½ç½®: {folder_path}\u0026#34;) else: print(f\u0026#34;æ–‡ä»¶è·¯å¾„æ— æ•ˆæˆ–æ–‡ä»¶ä¸å­˜åœ¨: {file_path}\u0026#34;) # ä¸è½¬æ¢spaltæ–‡ä»¶ def display_file_from_row(self, model_name, task_id): view_file_path = resource_path(os.path.join(\u0026#34;datas\u0026#34;, model_name, \u0026#34;{}.mt3d\u0026#34;.format(task_id))) if os.path.exists(view_file_path): self.thread_start_http_server(view_file_path) else: print(f\u0026#34;æ–‡ä»¶ä¸å­˜åœ¨ï¼š{view_file_path}\u0026#34;) def confirm_close(self): \u0026#34;\u0026#34;\u0026#34;æ˜¾ç¤ºè‡ªå®šä¹‰çš„ç¡®è®¤å¯¹è¯æ¡†ï¼Œç¡®è®¤æ˜¯å¦é€€å‡º\u0026#34;\u0026#34;\u0026#34; dialog = ConfirmDialog(\u0026#34;Exit the application?\u0026#34;, self) if dialog.show_confirmation() == QDialog.Accepted: # ç”¨æˆ·ç‚¹å‡»äº†â€œæ˜¯â€ï¼Œå½»åº•é€€å‡º os._exit(0) def disable_restore_buttons_in_row(self, current_row): \u0026#34;\u0026#34;\u0026#34; ç¦ç”¨æ‰€æœ‰è¡Œçš„â€œæ¢å¤â€æŒ‰é’®ï¼ŒåŒæ—¶ç¦ç”¨å½“å‰è¡Œçš„â€œåˆ é™¤â€æŒ‰é’®ã€‚ \u0026#34;\u0026#34;\u0026#34; row_count = self.content_table.rowCount() for row in range(row_count): # è·å–æ“ä½œåˆ—çš„æŒ‰é’®å®¹å™¨ widget = self.content_table.cellWidget(row, 4) if widget: # éå†å®¹å™¨ä¸­çš„æŒ‰é’® for btn in widget.findChildren(QPushButton): # ç¦ç”¨â€œæ¢å¤â€æŒ‰é’® if btn.text() == \u0026#34;Restore\u0026#34;: btn.setEnabled(False) # ç¦ç”¨å½“å‰è¡Œçš„â€œåˆ é™¤â€æŒ‰é’® if btn.text() == \u0026#34;Delete\u0026#34; and row == current_row: btn.setEnabled(False) def continue_training_from_row(self, task_id, row): \u0026#34;\u0026#34;\u0026#34; ç»§ç»­æœªå®Œæˆçš„è®­ç»ƒä»»åŠ¡ï¼Œæ ¹æ®è¡¨æ ¼ä¸­çš„ ID ä» JSON ä¸­è·å–è®­ç»ƒå‚æ•°ã€‚ \u0026#34;\u0026#34;\u0026#34; # å‘å°„ä¿¡å·ç¦ç”¨æŒ‰é’® self.comm.disable_restore_buttons_signal.emit(row) self.restore_disabled_row = row # ä¿å­˜å½“å‰è¡Œä»¥ä¾¿æ¢å¤æŒ‰é’® print(f\u0026#34;Curent row: {row}\u0026#34;) # è·å– LOCALAPPDATA è·¯å¾„ local_app_data = get_local_data_directory() history_file = os.path.join(local_app_data, \u0026#39;MindCloud Renderer\u0026#39;, \u0026#39;history.json\u0026#39;) # è¯»å–å†å²è®°å½•æ–‡ä»¶å†…å®¹ if os.path.exists(history_file): with open(history_file, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: history_data = json.load(f) # æ ¹æ® task_id æ‰¾åˆ°å¯¹åº”çš„è®°å½• for entry in history_data: if entry[\u0026#39;id\u0026#39;] == task_id: timestamp = entry[\u0026#39;timestamp\u0026#39;] model_name = entry[\u0026#39;model_name\u0026#39;] source_path = entry[\u0026#39;source_path\u0026#39;] iterations = entry[\u0026#39;iterations\u0026#39;] density = entry[\u0026#39;density\u0026#39;] # å‘å°„ä¿¡å·å¼€å§‹æ¢å¤è®­ç»ƒ self.comm.training_params_signal.emit(timestamp, task_id, model_name, source_path, int(iterations), float(density), True) print(f\u0026#34;æ¢å¤è®­ç»ƒ:{task_id}, {model_name}, {source_path}, {iterations}, {density}\u0026#34;) break else: print(f\u0026#34;æœªæ‰¾åˆ°IDä¸º {task_id} çš„ä»»åŠ¡è®°å½•\u0026#34;) else: print(\u0026#34;å†å²è®°å½•æ–‡ä»¶ä¸å­˜åœ¨\u0026#34;) def toggle_max_restore(self): \u0026#34;\u0026#34;\u0026#34;æœ€å¤§åŒ–æˆ–æ¢å¤çª—å£å¤§å°\u0026#34;\u0026#34;\u0026#34; if self.is_maximized: self.showNormal() self.is_maximized = False else: self.showMaximized() self.is_maximized = True # é‡å†™ç»˜åˆ¶äº‹ä»¶ï¼Œè®¾ç½®æ— è¾¹æ¡†é»‘è‰²èƒŒæ™¯ def paintEvent(self, event): painter = QPainter(self) painter.setRenderHint(QPainter.Antialiasing) painter.setBrush(QColor(30, 30, 30)) # å¢¨é»‘è‰²èƒŒæ™¯ painter.setPen(Qt.NoPen) painter.drawRoundedRect(self.rect(), 10, 10) # åœ†è§’çŸ©å½¢ ä¹‹å‰ä½¿ç”¨tkçš„æ–¹å¼ import os import sys import queue import subprocess from tkinter import Tk, Toplevel, Label, Button, filedialog, Entry from tkinter.ttk import Progressbar, Frame import tkinter.font as tkFont class GUIUtils: \u0026#34;\u0026#34;\u0026#34; Utility class for GUI-related common operations. \u0026#34;\u0026#34;\u0026#34; @staticmethod def initialize_window(title, topmost=True): \u0026#34;\u0026#34;\u0026#34; Initialize a new top-level window with common settings. :param title: The title of the window. :param topmost: Boolean indicating whether the window should stay on top. :return: Initialized Toplevel window instance. \u0026#34;\u0026#34;\u0026#34; window = Toplevel() window.title(title) window.resizable(False, False) # Disable maximize button if topmost: window.attributes(\u0026#34;-topmost\u0026#34;, True) # Keep the window on top return window @staticmethod def set_bold_font(size=16): \u0026#34;\u0026#34;\u0026#34; Create a bold font with a given size. :param size: Font size. :return: Font object with bold weight. \u0026#34;\u0026#34;\u0026#34; return tkFont.Font(size=size, weight=\u0026#39;bold\u0026#39;) @staticmethod def center_window(window): \u0026#34;\u0026#34;\u0026#34; Center a given window on the screen. :param window: The window to center. \u0026#34;\u0026#34;\u0026#34; window.update_idletasks() width = window.winfo_width() height = window.winfo_height() screen_width = window.winfo_screenwidth() screen_height = window.winfo_screenheight() x = (screen_width // 2) - (width // 2) y = (screen_height // 2 - height // 2) window.geometry(f\u0026#39;{width}x{height}+{x}+{y}\u0026#39;) def gui_user_input(): \u0026#34;\u0026#34;\u0026#34; Get user input for training parameters (iterations) and the point cloud file path. :return: Dictionary containing user input parameters. \u0026#34;\u0026#34;\u0026#34; # Create root window to handle Tkinter initialization root = Tk() root.withdraw() # Hide main window # Create a custom input window (but don\u0026#39;t show it yet) custom_window = GUIUtils.initialize_window(\u0026#34;æ¸²æŸ“è®¾ç½®\u0026#34;) custom_window.withdraw() # First hide custom window bold_font = GUIUtils.set_bold_font() # Store user choice and parameters in dictionaries user_choice = {\u0026#39;confirmed\u0026#39;: False} params = {\u0026#39;iterations\u0026#39;: 10000, \u0026#39;source_path\u0026#39;: None} # Default values # Instructions label label = Label(custom_window, text=\u0026#34;è¯·è¾“å…¥æ¸²æŸ“æ¬¡æ•°ï¼Œç‚¹å‡»ç¡®è®¤åé€‰æ‹©lxæ–‡ä»¶ã€‚\u0026#34;, font=bold_font) label.pack(padx=40, pady=(30, 0)) # Frame for input fields and buttons input_frame = Frame(custom_window) input_frame.pack(pady=10) # Input for iterations Label(input_frame, text=\u0026#34;æ¸²æŸ“æ¬¡æ•°ï¼ˆå»ºè®®å€¼10000ï¼‰\u0026#34;, font=bold_font).grid(row=0, column=0, pady=10, padx=(20, 0), sticky=\u0026#34;e\u0026#34;) iteration_entry = Entry(input_frame, font=bold_font) iteration_entry.grid(row=0, column=1, pady=10, padx=(0, 20)) # Confirm button callback function def on_confirm(): try: params[\u0026#39;iterations\u0026#39;] = int(iteration_entry.get()) if params[\u0026#39;iterations\u0026#39;] \u0026lt;= 0: raise ValueError except ValueError: sys.exit(\u0026#34;è¾“å…¥çš„æ¸²æŸ“æ¬¡æ•°æ— æ•ˆï¼Œç¨‹åºé€€å‡ºã€‚\u0026#34;) # Directly exits on invalid input # File dialog for directory selection # source_path = filedialog.askdirectory(title=\u0026#34;é€‰æ‹©ç‚¹äº‘æ•°æ®è·¯å¾„\u0026#34;, parent=custom_window) source_path = filedialog.askopenfilename( title=\u0026#34;é€‰æ‹©lxæ–‡ä»¶\u0026#34;, parent=custom_window, filetypes=[(\u0026#34;LX Files\u0026#34;, \u0026#34;*.lx\u0026#34;), (\u0026#34;All Files\u0026#34;, \u0026#34;*.*\u0026#34;)] # å¯é€‰ï¼šä»…æ˜¾ç¤ºç‰¹å®šæ–‡ä»¶ç±»å‹ ) if not source_path: # Handle cancelation sys.exit(\u0026#34;ç¨‹åºå·²é€€å‡ºï¼Œå› ä¸ºç”¨æˆ·æœªé€‰æ‹©è·¯å¾„ã€‚\u0026#34;) params[\u0026#39;source_path\u0026#39;] = source_path user_choice[\u0026#39;confirmed\u0026#39;] = True custom_window.destroy() # Cancel button callback function def on_cancel(): root.destroy() # Close all windows sys.exit(\u0026#34;ç¨‹åºå·²é€€å‡ºï¼Œå› ä¸ºç”¨æˆ·é€‰æ‹©äº†å–æ¶ˆæˆ–å…³é—­äº†çª—å£ã€‚\u0026#34;) # Confirm and cancel buttons button_confirm = Button(custom_window, text=\u0026#34;ç¡®è®¤\u0026#34;, font=bold_font, width=10, command=on_confirm) button_confirm.pack(side=\u0026#39;left\u0026#39;, padx=(40, 80), pady=(10, 30)) button_cancel = Button(custom_window, text=\u0026#34;å–æ¶ˆ\u0026#34;, font=bold_font, width=10, command=on_cancel) button_cancel.pack(side=\u0026#39;right\u0026#39;, padx=(80, 40), pady=(10, 30)) # Handling window close action (X button) custom_window.protocol(\u0026#34;WM_DELETE_WINDOW\u0026#34;, on_cancel) GUIUtils.center_window(custom_window) # Center the window custom_window.deiconify() # Show the custom window after centering it custom_window.wait_window() # Wait for user interaction if user_choice[\u0026#39;confirmed\u0026#39;]: return params else: sys.exit(\u0026#34;ç¨‹åºå·²é€€å‡ºï¼Œå› ä¸ºç”¨æˆ·æœªç¡®è®¤ã€‚\u0026#34;) class TrainingProgressBar: def __init__(self, max_iterations, stop_event, progress_queue): \u0026#34;\u0026#34;\u0026#34; Initialize the training progress bar window. \u0026#34;\u0026#34;\u0026#34; self.stop_event = stop_event self.progress_queue = progress_queue # Initialize loading dots state self.dots = 0 self.loading_variants = [\u0026#34;â „â „â „\u0026#34;, \u0026#34;â „â ‚â „\u0026#34;, \u0026#34;â „â „â ‚\u0026#34;, \u0026#34;â „â „â „\u0026#34;] # åŠ¨æ€åŠ è½½çš„ä¸åŒæ–‡æœ¬ Unicode å­—ç¬¦ # Create main window for progress bar self.root = Tk() self.root.title(\u0026#34;æ¸²æŸ“è¿›åº¦\u0026#34;) self.root.resizable(False, False) self.root.attributes(\u0026#34;-topmost\u0026#34;, True) bold_font = GUIUtils.set_bold_font(size=18) # Progress bar widget self.progress = Progressbar(self.root, orient=\u0026#34;horizontal\u0026#34;, length=300, mode=\u0026#39;determinate\u0026#39;) self.progress.pack(padx=30, pady=(30, 0)) self.progress[\u0026#34;maximum\u0026#34;] = max_iterations # Percentage label self.percent_label = Label(self.root, text=\u0026#34;å¥‹åŠ›åŠ è½½ä¸­â „â „â „\u0026#34;, font=bold_font) self.percent_label.pack(pady=(10, 30)) # Stop button close_button = Button(self.root, text=\u0026#34;åœæ­¢æ¸²æŸ“\u0026#34;, command=self.stop_training, font=bold_font) close_button.pack(pady=(0, 30)) GUIUtils.center_window(self.root) # Center window # Disable the window close button (X) self.root.protocol(\u0026#34;WM_DELETE_WINDOW\u0026#34;, lambda: None) # Start the GUI main loop self.root.update_idletasks() self.root.update() def stop_training(self): \u0026#34;\u0026#34;\u0026#34; Stops the training and closes the progress bar. \u0026#34;\u0026#34;\u0026#34; self.stop_event.set() self.root.after_cancel(self.check_queue_id) # Cancel all pending after calls self.root.destroy() os._exit(0) def update_text(self, text): \u0026#34;\u0026#34;\u0026#34; æ›´æ–°æ˜¾ç¤ºæ–‡æœ¬ã€‚ \u0026#34;\u0026#34;\u0026#34; self.percent_label.config(text=text) self.root.update_idletasks() def update_loading_text(self, text): \u0026#34;\u0026#34;\u0026#34; åŠ¨æ€æ›´æ–°åŠ è½½ä¸­çš„æ–‡æœ¬ã€‚ \u0026#34;\u0026#34;\u0026#34; loading_text = text + self.loading_variants[self.dots % len(self.loading_variants)] self.update_text(loading_text) self.dots += 1 def update_progress(self, iteration): \u0026#34;\u0026#34;\u0026#34; Update the progress bar and percentage label. \u0026#34;\u0026#34;\u0026#34; self.progress[\u0026#34;value\u0026#34;] = iteration percent = (iteration / self.progress[\u0026#34;maximum\u0026#34;]) * 100 self.percent_label.config(text=f\u0026#34;è¿›åº¦: {percent:.2f}%\u0026#34;) self.root.update_idletasks() def check_queue(self): \u0026#34;\u0026#34;\u0026#34; Check for updates in the progress queue. \u0026#34;\u0026#34;\u0026#34; try: while not self.progress_queue.empty(): msg = self.progress_queue.get_nowait() if msg[0] == \u0026#34;update\u0026#34;: self.update_progress(msg[1]) elif msg[0] == \u0026#34;save\u0026#34;: self.update_text(\u0026#34;æ­£åœ¨ä¿å­˜ç»“æœâ „â „â „\u0026#34;) elif msg[0] == \u0026#34;close\u0026#34;: self.close(msg[1]) except queue.Empty: pass self.check_queue_id = self.root.after(100, self.check_queue) def close(self, result_path): \u0026#34;\u0026#34;\u0026#34; Close the progress bar and show the result message. \u0026#34;\u0026#34;\u0026#34; self.root.destroy() self.show_result_message(result_path) os._exit(0) def show_result_message(self, result_path): \u0026#34;\u0026#34;\u0026#34; Show a message window with the result path and an option to open the file manager. \u0026#34;\u0026#34;\u0026#34; message_window = GUIUtils.initialize_window(\u0026#34;æ¸©é¦¨æç¤º\u0026#34;) bold_font = GUIUtils.set_bold_font() result_label = Label(message_window, text=f\u0026#34;æ¸²æŸ“ç»“æœå·²ä¿å­˜åˆ°\\n\\n {result_path}\u0026#34;, font=bold_font) result_label.pack(padx=30, pady=30) def on_confirm(): self.open_file_manager(result_path) message_window.destroy() confirm_button = Button(message_window, text=\u0026#34;ç¡®è®¤\u0026#34;, command=on_confirm, font=bold_font) confirm_button.pack(pady=(0, 30)) GUIUtils.center_window(message_window) message_window.wait_window() def open_file_manager(self, path): \u0026#34;\u0026#34;\u0026#34; Open the file manager at the given path. \u0026#34;\u0026#34;\u0026#34; if os.path.exists(path): try: if os.name == \u0026#39;nt\u0026#39;: # Windows os.startfile(path) elif os.name == \u0026#39;posix\u0026#39;: # macOS or Linux subprocess.Popen([\u0026#39;xdg-open\u0026#39;, path]) except Exception as e: print(f\u0026#34;æ— æ³•æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨: {e}\u0026#34;) else: print(f\u0026#34;è·¯å¾„ä¸å­˜åœ¨: {path}\u0026#34;) ä½¿ç”¨QTä¹‹åçš„mainå‡½æ•°å†™æ³• import os import sys from utils.path_utils import resource_path, save_user_params #! éœ€è¦è¾“å‡ºæ‰èƒ½ä¿å­˜GUIè¿›åº¦æ¡çš„è¾“å‡º # é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°é»‘æ´ # log_blackhole = \u0026#39;nul\u0026#39; if os.name == \u0026#39;nt\u0026#39; else \u0026#39;/dev/null\u0026#39; # sys.stdout = open(log_blackhole, \u0026#39;w\u0026#39;) # sys.stderr = open(log_blackhole, \u0026#39;w\u0026#39;) def training(model_params, opt_params, pipe_params, saving_iterations, checkpoint_iterations, checkpoint, debug_from, parameters_storage, shuffle, point_density, unique_hash, progress_signal, saving_signal): import torch import subprocess from tqdm import tqdm from scene import Scene, GaussianModel from utils.loss_utils import l1_loss, ssim from gaussian_renderer import render from datetime import datetime # ä»è¿™é‡Œå¼€å§‹ first_iter = 0 model_params.model_path = resource_path(os.path.join(\u0026#34;datas\u0026#34;, model_params.model_path)) # æ£€æŸ¥ render_path ä¸‹æ˜¯å¦å­˜åœ¨ success.txt lx_file_path = model_params.source_path render_path = os.path.join(os.path.dirname(lx_file_path), \u0026#39;render_db\u0026#39;) success_file_path = os.path.join(render_path, \u0026#39;success.txt\u0026#39;) # æ›´æ–° source_path model_params.source_path = render_path # å¦‚æœ success.txt å­˜åœ¨ï¼Œç›´æ¥è·³è¿‡å¤„ç† if os.path.exists(success_file_path): print(f\u0026#34;Processing already completed. Skipping execution of PreOps.exe.\u0026#34;) else: # ç¬¬ä¸€æ­¥ï¼šé¢„å¤„ç† # æ‰§è¡Œ PreOps.exe exe_path = resource_path(\u0026#34;PreOps.exe\u0026#34;) print(f\u0026#34;Executing PreOps.exe at {exe_path}...\u0026#34;) arguments = [exe_path, lx_file_path, \u0026#39;1\u0026#39;, str(point_density)] try: result = subprocess.run(arguments, check=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE) print(result.stdout.decode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;PreOps.exe executed successfully.\u0026#34;) # åˆ›å»º success.txt å¹¶å†™å…¥å®Œæˆæ—¶é—´ with open(success_file_path, \u0026#39;w\u0026#39;) as success_file: success_file.write(f\u0026#34;Process completed successfully at {datetime.now().strftime(\u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;)}\\n\u0026#34;) print(f\u0026#34;Success file created at {success_file_path}.\u0026#34;) except subprocess.CalledProcessError as e: print(f\u0026#34;An error occurred while executing PreOps.exe: {e.stderr.decode(\u0026#39;utf-8\u0026#39;)}\u0026#34;) sys.exit(1) # é€€å‡ºç¨‹åº # ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–æ¨¡å‹å’Œåœºæ™¯ gaussians = GaussianModel(model_params.sh_degree, parameters_storage) scene = Scene(model_params, gaussians, parameters_storage, shuffle=shuffle) gaussians.training_setup_init(opt_params) if checkpoint: (model_params, first_iter) = torch.load(checkpoint) gaussians.restore(model_params, opt_params) bg_color = [1, 1, 1] if model_params.white_background else [0, 0, 0] background = torch.tensor(bg_color, dtype=torch.float32, device=\u0026#34;cuda\u0026#34;) ema_loss_for_log = 0.0 progress_bar = tqdm(range(first_iter, opt_params.iterations), desc=\u0026#34;Training progress\u0026#34;) first_iter += 1 for iteration in range(first_iter, opt_params.iterations + 1): # Every 1000 iterations increase the levels of SH up to a maximum degree if iteration % 1000 == 0: gaussians.oneupSHdegree() resolution_scale = 1.0 viewpoint_cam = scene.get_random_train_camera(resolution_scale, model_params) if len(viewpoint_cam.visible_voxel_indices) == 0: continue current_points = gaussians.load_voxel_parameters_train(scene.parameter_manager, viewpoint_cam.visible_voxel_indices) gaussians.update_learning_rate(iteration) # Render if (iteration - 1) == debug_from: pipe_params.debug = True bg = torch.rand((3), device=\u0026#34;cuda\u0026#34;) if opt_params.random_background else background render_pkg = render(viewpoint_cam, gaussians, pipe_params, bg) image, viewspace_point_tensor, visibility_filter, radii = render_pkg[\u0026#34;render\u0026#34;], render_pkg[\u0026#34;viewspace_points\u0026#34;], render_pkg[\u0026#34;visibility_filter\u0026#34;], render_pkg[\u0026#34;radii\u0026#34;] # Loss gt_image = viewpoint_cam.original_image.cuda() Ll1 = l1_loss(image, gt_image) loss = (1.0 - opt_params.lambda_dssim) * Ll1 + opt_params.lambda_dssim * (1.0 - ssim(image, gt_image)) loss.backward() torch.cuda.empty_cache() with torch.no_grad(): has_densified = False if iteration \u0026lt; opt_params.densify_until_iter: gaussians.max_radii2D[visibility_filter] = torch.max(gaussians.max_radii2D[visibility_filter], radii[visibility_filter]) gaussians.add_densification_stats(viewspace_point_tensor, visibility_filter) if iteration \u0026gt; opt_params.densify_from_iter and iteration % opt_params.densification_interval == 0: size_threshold = 20 if iteration \u0026gt; opt_params.opacity_reset_interval else None gaussians.densify_and_prune(opt_params.densify_grad_threshold, 0.005, scene.cameras_extent, size_threshold) has_densified = True if iteration % opt_params.opacity_reset_interval == 0 or (model_params.white_background and iteration == opt_params.densify_from_iter): gaussians.reset_opacity() if iteration \u0026lt; opt_params.iterations: gaussians.optimizer.step() gaussians.optimizer.zero_grad(set_to_none=True) if iteration in checkpoint_iterations: print(f\u0026#34;\\n[ITER {iteration}] Saving Checkpoint\u0026#34;) torch.save((gaussians.capture(), iteration), scene.model_path + \u0026#34;/chkpnt\u0026#34; + str(iteration) + \u0026#34;.pth\u0026#34;) if has_densified: gaussians.save_densification_voxel_parameters(scene.parameter_manager, viewpoint_cam) else: gaussians.save_voxel_parameters(scene.parameter_manager, viewpoint_cam.visible_voxel_indices) if iteration in saving_iterations: saving_signal.emit() # scene.parameter_manager.sync_to_db() scene.save_memory(iteration, unique_hash, scene.parameter_manager) # Progress bar ema_loss_for_log = 0.4 * loss.item() + 0.6 * ema_loss_for_log progress_bar.set_postfix({\u0026#34;Loss\u0026#34;: f\u0026#34;{ema_loss_for_log:.{7}f}\u0026#34;}) progress_bar.update(1) progress_percent = round((iteration / opt_params.iterations) * 100, 2) # å‘å°„è¿›åº¦æ›´æ–°ä¿¡å· progress_signal.emit(progress_percent) # æ›´æ–° GUI è¿›åº¦æ¡ if iteration == opt_params.iterations: progress_bar.close() from PyQt5.QtWidgets import QApplication, QSplashScreen, QDesktopWidget from PyQt5.QtCore import Qt, QThread, pyqtSignal, QObject from PyQt5.QtGui import QPixmap class Communicator(QObject): # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œå‘å°„æ—¶ä¼šé™„å¸¦timestamp, unique_hash, model_name, source_path, iterations, density, resume_training training_params_signal = pyqtSignal(str, str, str, str, int, float, bool) # å®šä¹‰ä¸€ä¸ªä¿¡å·æ¥å…³é—­å¯åŠ¨ç”»é¢ splash_close_splash = pyqtSignal() # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºè¡¨ç¤ºè®­ç»ƒå®Œæˆ training_complete = pyqtSignal() # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºæ›´æ–°è¿›åº¦æ¡ progress_signal = pyqtSignal(float) # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºå¯åŠ¨è®­ç»ƒ start_signal = pyqtSignal() # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºå–æ¶ˆè®­ç»ƒ cancel_signal = pyqtSignal() # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºç¦ç”¨æŒ‰é’® disable_restore_buttons_signal = pyqtSignal(int) # å®šä¹‰ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºæ˜¾ç¤ºæ­£åœ¨ä¿å­˜ saving_signal = pyqtSignal() def __init__(self): super().__init__() def show_splash_screen(): \u0026#34;\u0026#34;\u0026#34;æ˜¾ç¤ºå¯åŠ¨ç”»é¢\u0026#34;\u0026#34;\u0026#34; pixmap_path = resource_path(\u0026#34;assets/lx_start.png\u0026#34;) pixmap = QPixmap(pixmap_path) # è·å–ç”¨æˆ·çš„å±å¹•åˆ†è¾¨ç‡ screen = QDesktopWidget().screenGeometry() screen_width = screen.width() screen_height = screen.height() # æ ¹æ®å±å¹•å¤§å°è°ƒæ•´æ¯”ä¾‹ scale_factor = 0.2 # æ¯”ä¾‹å› å­ scaled_pixmap = pixmap.scaled(int(screen_width * scale_factor), int(screen_height * scale_factor), Qt.KeepAspectRatio, Qt.SmoothTransformation) splash = QSplashScreen(scaled_pixmap) splash.setWindowFlag(Qt.WindowStaysOnTopHint) # å¯åŠ¨ç”»é¢ä¿æŒåœ¨æœ€å‰ splash.show() return splash class TrainingThread(QThread): def __init__(self, user_params, comm): super().__init__() self.user_params = user_params self.comm = comm def run(self): \u0026#34;\u0026#34;\u0026#34;è®­ç»ƒä»»åŠ¡çš„æ‰§è¡Œé€»è¾‘ï¼Œæ”¾åœ¨å­çº¿ç¨‹çš„ run æ–¹æ³•ä¸­\u0026#34;\u0026#34;\u0026#34; import torch import tempfile from shutil import rmtree from utils.general_utils import safe_state from argparse import ArgumentParser from arguments import ModelParams, PipelineParams, OptimizationParams self.comm.start_signal.emit() temp_dir = tempfile.gettempdir() print(f\u0026#34;Temporary directory: {temp_dir}\u0026#34;) default_parameters_storage = os.path.join(temp_dir, \u0026#34;parameters_storage\u0026#34;) parser = ArgumentParser(description=\u0026#34;Training script parameters\u0026#34;) model_params = ModelParams(parser, source_path=self.user_params[\u0026#39;source_path\u0026#39;], model_name=self.user_params[\u0026#39;model_name\u0026#39;]) opt_params = OptimizationParams(parser, iterations=self.user_params[\u0026#39;iterations\u0026#39;]) pipe_params = PipelineParams(parser) parser.add_argument(\u0026#39;--debug_from\u0026#39;, type=int, default=-1) parser.add_argument(\u0026#39;--detect_anomaly\u0026#39;, action=\u0026#39;store_true\u0026#39;, default=False) parser.add_argument(\u0026#34;--test_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[3_000, 7_000, 12_000, 20_000, 30_000]) parser.add_argument(\u0026#34;--save_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[30_000]) parser.add_argument(\u0026#34;--quiet\u0026#34;, action=\u0026#34;store_true\u0026#34;) parser.add_argument(\u0026#34;--checkpoint_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[]) parser.add_argument(\u0026#34;--start_checkpoint\u0026#34;, type=str, default=None) parser.add_argument(\u0026#34;--parameters_storage\u0026#34;, type=str, default=default_parameters_storage) parser.add_argument(\u0026#34;--shuffle\u0026#34;, action=\u0026#34;store_true\u0026#34;, default=True) parser.add_argument(\u0026#34;--point_density\u0026#34;, type=float, default=self.user_params[\u0026#39;density\u0026#39;]) parser.add_argument(\u0026#34;--unique_hash\u0026#34;, type=str, default=self.user_params[\u0026#39;unique_hash\u0026#39;]) args = parser.parse_args() args.save_iterations.append(self.user_params[\u0026#39;iterations\u0026#39;]) # åˆå§‹åŒ–ç³»ç»ŸçŠ¶æ€ safe_state(args.quiet) # æ˜¯å¦å¼€å¯å¼‚å¸¸æ£€æµ‹ torch.autograd.set_detect_anomaly(args.detect_anomaly) # å¼€å§‹è®­ç»ƒ training(model_params.extract(args), opt_params.extract(args), pipe_params.extract(args), args.save_iterations, args.checkpoint_iterations, args.start_checkpoint, args.debug_from, args.parameters_storage, args.shuffle, args.point_density, args.unique_hash, self.comm.progress_signal, self.comm.saving_signal) # åˆ é™¤ç¼“å­˜ if os.path.exists(args.parameters_storage): try: rmtree(args.parameters_storage) print(f\u0026#34;Successfully deleted the folder: {args.parameters_storage}\u0026#34;) except Exception as e: print(f\u0026#34;Error while deleting the folder {args.parameters_storage}: {e}\u0026#34;) print(\u0026#34;\\nTraining complete.\u0026#34;) # ä»»åŠ¡å®Œæˆåå‘å°„ä¿¡å· self.comm.training_complete.emit() def main(comm): #! è¿™é‡Œä¹Ÿå–å·§äº†ï¼Œæå‰åŠ è½½éœ€è¦çš„æ¨¡å— import torch import tempfile from shutil import rmtree from utils.general_utils import safe_state from argparse import ArgumentParser from arguments import ModelParams, PipelineParams, OptimizationParams from utils.system_utils import select_cuda_device # æ¶‰åŠtorchåŠ è½½ï¼Œä¼šæœ‰ç­‰å¾…æ—¶é—´ from PyQt5.QtCore import QEventLoop from utils.qt_gui_utils import MainWindow select_cuda_device() # å‘é€ä¿¡å·æ¥å…³é—­å¯åŠ¨ç”»é¢ comm.splash_close_splash.emit() # åˆ›å»ºä¸»çª—å£ main_window = MainWindow(comm) # æ˜¾ç¤ºä¸»ç•Œé¢ main_window.show() ### GUIä¸»ç•Œé¢ ### # ç”¨äºå­˜å‚¨ä¿¡å·å‘å‡ºçš„å€¼ user_params = {} # åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œç”¨äºç­‰å¾…ä¿¡å· loop = QEventLoop() def get_train_args(timestamp, unique_hash, model_name, source_path, iterations, density, resume_training): \u0026#34;\u0026#34;\u0026#34;æ§½å‡½æ•°ï¼Œç”¨äºæ¥æ”¶ä¿¡å·å‘å‡ºçš„å‚æ•°\u0026#34;\u0026#34;\u0026#34; user_params[\u0026#39;timestamp\u0026#39;] = timestamp user_params[\u0026#39;unique_hash\u0026#39;] = unique_hash user_params[\u0026#39;model_name\u0026#39;] = model_name user_params[\u0026#39;source_path\u0026#39;] = source_path user_params[\u0026#39;iterations\u0026#39;] = iterations user_params[\u0026#39;density\u0026#39;] = density if resume_training: print(\u0026#34;ç»§ç»­è®­ç»ƒ...\u0026#34;) else: save_user_params(user_params) # ä¿å­˜ç”¨æˆ·å‚æ•° loop.quit() # ä¿¡å·å‘å‡ºåï¼Œé€€å‡ºäº‹ä»¶å¾ªç¯ # è¿æ¥ä¿¡å·å’Œæ§½ï¼šå½“ä¿¡å·å‘å‡ºæ—¶ï¼Œè°ƒç”¨ get_train_args å‡½æ•° comm.training_params_signal.connect(get_train_args) while True: # æŒç»­å¾ªç¯ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ print(\u0026#34;ç­‰å¾…æ–°ä»»åŠ¡...\u0026#34;) loop.exec_() # ç­‰å¾…æ–°ä»»åŠ¡ä¿¡å·ï¼ŒåŒæ—¶é˜»å¡å½“å‰çº¿ç¨‹ï¼Œéœ€è¦loop.quit()æ¥é€€å‡º ### å¼€å§‹è®­ç»ƒ ### main_window.new_task_button.setDisabled(True) # ç¦ç”¨æŒ‰é’® comm.disable_restore_buttons_signal.emit(-1) # ç¦ç”¨æ‰€æœ‰çš„æ¢å¤æŒ‰é’®å’Œæ‰€åœ¨è¡Œçš„åˆ é™¤æŒ‰é’® # å¯åŠ¨è®­ç»ƒçº¿ç¨‹ï¼Œä½œä¸º main_window çš„æˆå‘˜å˜é‡ training_thread = TrainingThread(user_params, comm) main_window.training_thread = training_thread training_thread.start() # å½“è®­ç»ƒä»»åŠ¡å®Œæˆæ—¶ï¼Œæ¢å¤æŒ‰é’® comm.training_complete.connect(lambda: main_window.new_task_button.setEnabled(True)) # å½“æ”¶åˆ°å–æ¶ˆä¿¡å·æ—¶ï¼Œåœæ­¢å½“å‰è®­ç»ƒä»»åŠ¡ def stop_training(): print(\u0026#34;åœæ­¢å½“å‰è®­ç»ƒä»»åŠ¡\u0026#34;) training_thread.terminate() # åœæ­¢è®­ç»ƒçº¿ç¨‹ main_window.new_task_button.setEnabled(True) # æ¢å¤æŒ‰é’®å¯ç”¨ # ç›‘å¬å–æ¶ˆä¿¡å·ï¼Œæ‰§è¡Œåœæ­¢ä»»åŠ¡çš„é€»è¾‘ comm.cancel_signal.connect(stop_training) print(\u0026#34;ç»§ç»­ç­‰å¾…æ–°ä»»åŠ¡...\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: # åˆ›å»º QApplication å®ä¾‹ app = QApplication(sys.argv) # åˆ›å»º Communicator å®ä¾‹ comm = Communicator() # æ˜¾ç¤ºå¯åŠ¨ç”»é¢ splash = show_splash_screen() # è¿æ¥ä¿¡å·åˆ°å…³é—­å¯åŠ¨ç”»é¢çš„æ§½å‡½æ•° comm.splash_close_splash.connect(lambda: splash.finish(None)) # åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œä¸»é€»è¾‘ main(comm) # ç­‰å¾…åº”ç”¨ç¨‹åºé€€å‡º sys.exit(app.exec_()) ä½¿ç”¨tkæ—¶æ²¡æœ‰é‚£ä¹ˆå¤æ‚çš„mainå‡½æ•°å†™æ³• import os import sys import time import queue import threading # åˆ›å»ºä¸€ä¸ªå…¨å±€é˜Ÿåˆ—ç”¨äºçº¿ç¨‹é—´é€šä¿¡ progress_queue = queue.Queue() stop_event = threading.Event() # ç”¨äºæ§åˆ¶çº¿ç¨‹åœæ­¢çš„äº‹ä»¶ def resource_path(relative_path): \u0026#34;\u0026#34;\u0026#34;è·å–èµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„\u0026#34;\u0026#34;\u0026#34; if getattr(sys, \u0026#39;frozen\u0026#39;, False): # æ£€æŸ¥æ˜¯å¦æ˜¯æ‰“åŒ…çš„å¯æ‰§è¡Œæ–‡ä»¶ base_path = sys._MEIPASS # PyInstaller ä¼šæŠŠæ–‡ä»¶è§£å‹åˆ°è¿™ä¸ªä¸´æ—¶ç›®å½• else: base_path = os.path.abspath(\u0026#34;.\u0026#34;) # å¦åˆ™ä½¿ç”¨å½“å‰ç›®å½• return os.path.join(base_path, relative_path) def training(model_params, opt_params, pipe_params, saving_iterations, checkpoint_iterations, checkpoint, debug_from, parameters_storage, shuffle, progress_bar_gui): import torch import subprocess from tqdm import tqdm from scene import Scene, GaussianModel from utils.loss_utils import l1_loss, ssim from gaussian_renderer import render def prepare_output(model_params): \u0026#34;\u0026#34;\u0026#34;å‡†å¤‡è¾“å‡ºæ–‡ä»¶å¤¹å¹¶è¿”å›æ¨¡å‹ä¿å­˜è·¯å¾„ã€‚\u0026#34;\u0026#34;\u0026#34; base_output_path = os.path.join(os.path.dirname(model_params.source_path), \u0026#39;mt_output\u0026#39;) if not model_params.model_path: # å¦‚æœæ²¡æœ‰æŒ‡å®š model_pathï¼Œä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€å­—ç¬¦ä¸² unique_str = time.strftime(\u0026#34;%Y%m%d-%H%M%S\u0026#34;) model_params.model_path = os.path.join(base_output_path, unique_str) else: # å¦‚æœæŒ‡å®šäº† model_pathï¼Œåˆ™åŸºäº base_output_path æ‹¼æ¥è·¯å¾„ model_params.model_path = os.path.join(base_output_path, model_params.model_path) print(\u0026#34;Output folder:\u0026#34;, model_params.model_path) os.makedirs(model_params.model_path, exist_ok=True) return os.path.abspath(model_params.model_path) def initialize_and_execute(model_params, parameters_storage, shuffle, opt_params, results): \u0026#34;\u0026#34;\u0026#34; æ‰§è¡Œé¢„å¤„ç†æ­¥éª¤ï¼Œç„¶ååˆå§‹åŒ–æ¨¡å‹å’Œåœºæ™¯ï¼Œå¹¶åœ¨è¿‡ç¨‹ä¸­æ›´æ–°è¿›åº¦æ¡ã€‚ \u0026#34;\u0026#34;\u0026#34; try: # æ³¨æ„è¿™é‡Œçš„source_pathå‘ç”Ÿäº†æ›¿æ¢ lx_file_path = model_params.source_path render_path = os.path.join(os.path.dirname(lx_file_path), \u0026#39;render_db\u0026#39;) model_params.source_path = render_path # ç¬¬ä¸€æ­¥ï¼šé¢„å¤„ç† # æ‰§è¡Œ PreOps.exe exe_path = resource_path(\u0026#34;PreOps.exe\u0026#34;) print(f\u0026#34;Executing PreOps.exe at {exe_path}...\u0026#34;) arguments = [exe_path, lx_file_path, \u0026#39;1\u0026#39;, \u0026#39;0.02\u0026#39;] try: result = subprocess.run(arguments, check=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE) print(result.stdout.decode(\u0026#39;utf-8\u0026#39;)) # æ‰“å°æ ‡å‡†è¾“å‡º except subprocess.CalledProcessError as e: print(f\u0026#34;An error occurred while executing PreOps.exe: {e.stderr.decode(\u0026#39;utf-8\u0026#39;)}\u0026#34;) sys.exit(1) # ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–æ¨¡å‹å’Œåœºæ™¯ gaussians = GaussianModel(model_params.sh_degree, parameters_storage) scene = Scene(model_params, gaussians, parameters_storage, shuffle=shuffle) gaussians.training_setup_init(opt_params) # å°†ç»“æœå­˜å‚¨åœ¨å…±äº«åˆ—è¡¨ä¸­ results.append((gaussians, scene)) except Exception as e: print(f\u0026#34;Initialization error: {e}\u0026#34;) sys.exit(1) # ä»è¿™é‡Œå¼€å§‹ first_iter = 0 model_save_path = prepare_output(model_params) # åˆ›å»ºåˆå§‹åŒ–çº¿ç¨‹ results = [] init_thread = threading.Thread(target=initialize_and_execute, args=(model_params, parameters_storage, shuffle, opt_params, results)) init_thread.start() # ç­‰å¾…åˆå§‹åŒ–çº¿ç¨‹å®Œæˆï¼Œå¹¶åœ¨æ­¤æœŸé—´æ›´æ–°è¿›åº¦æ¡ while init_thread.is_alive(): if stop_event.is_set(): # æ£€æŸ¥æ˜¯å¦æ”¶åˆ°åœæ­¢ä¿¡å· print(\u0026#34;User stopped the training.\u0026#34;) os._exit(0) # å¼ºåˆ¶é€€å‡ºæ‰€æœ‰çº¿ç¨‹ # æ¯éš”0.33ç§’æ›´æ–°ä¸€æ¬¡è¿›åº¦æ¡ progress_bar_gui.update_loading_text(\u0026#34;å¥‹åŠ›åŠ è½½ä¸­\u0026#34;) time.sleep(0.33) # ç­‰å¾…åˆå§‹åŒ–çº¿ç¨‹å®Œæˆ init_thread.join() progress_bar_gui.update_text(\u0026#34;è¿›åº¦: 0%\u0026#34;) # åˆå§‹åŒ–å®Œæˆåæ›´æ–°è¿›åº¦æ¡ # æ£€æŸ¥ç»“æœæ˜¯å¦å­˜åœ¨ if results: gaussians, scene = results[0] else: print(\u0026#34;Initialization failed. Exiting...\u0026#34;) os._exit(0) if checkpoint: (model_params, first_iter) = torch.load(checkpoint) gaussians.restore(model_params, opt_params) bg_color = [1, 1, 1] if model_params.white_background else [0, 0, 0] background = torch.tensor(bg_color, dtype=torch.float32, device=\u0026#34;cuda\u0026#34;) ema_loss_for_log = 0.0 progress_bar = tqdm(range(first_iter, opt_params.iterations), desc=\u0026#34;Training progress\u0026#34;) first_iter += 1 for iteration in range(first_iter, opt_params.iterations + 1): if stop_event.is_set(): # æ£€æŸ¥æ˜¯å¦æ”¶åˆ°åœæ­¢ä¿¡å· print(\u0026#34;User stopped the training while iterating.\u0026#34;) break # Every 1000 iterations increase the levels of SH up to a maximum degree if iteration % 1000 == 0: gaussians.oneupSHdegree() resolution_scale = 1.0 viewpoint_cam = scene.get_random_train_camera(resolution_scale, model_params) if len(viewpoint_cam.visible_voxel_indices) == 0: continue current_points = gaussians.load_voxel_parameters_train(scene.parameter_manager, viewpoint_cam.visible_voxel_indices) gaussians.update_learning_rate(iteration) # Render if (iteration - 1) == debug_from: pipe_params.debug = True bg = torch.rand((3), device=\u0026#34;cuda\u0026#34;) if opt_params.random_background else background render_pkg = render(viewpoint_cam, gaussians, pipe_params, bg) image, viewspace_point_tensor, visibility_filter, radii = render_pkg[\u0026#34;render\u0026#34;], render_pkg[\u0026#34;viewspace_points\u0026#34;], render_pkg[\u0026#34;visibility_filter\u0026#34;], render_pkg[\u0026#34;radii\u0026#34;] # Loss gt_image = viewpoint_cam.original_image.cuda() Ll1 = l1_loss(image, gt_image) loss = (1.0 - opt_params.lambda_dssim) * Ll1 + opt_params.lambda_dssim * (1.0 - ssim(image, gt_image)) loss.backward() torch.cuda.empty_cache() with torch.no_grad(): has_densified = False if iteration \u0026lt; opt_params.densify_until_iter: gaussians.max_radii2D[visibility_filter] = torch.max(gaussians.max_radii2D[visibility_filter], radii[visibility_filter]) gaussians.add_densification_stats(viewspace_point_tensor, visibility_filter) if iteration \u0026gt; opt_params.densify_from_iter and iteration % opt_params.densification_interval == 0: size_threshold = 20 if iteration \u0026gt; opt_params.opacity_reset_interval else None gaussians.densify_and_prune(opt_params.densify_grad_threshold, 0.005, scene.cameras_extent, size_threshold) has_densified = True if iteration % opt_params.opacity_reset_interval == 0 or (model_params.white_background and iteration == opt_params.densify_from_iter): gaussians.reset_opacity() if iteration \u0026lt; opt_params.iterations: gaussians.optimizer.step() gaussians.optimizer.zero_grad(set_to_none=True) if iteration in checkpoint_iterations: print(f\u0026#34;\\n[ITER {iteration}] Saving Checkpoint\u0026#34;) torch.save((gaussians.capture(), iteration), scene.model_path + \u0026#34;/chkpnt\u0026#34; + str(iteration) + \u0026#34;.pth\u0026#34;) if has_densified: gaussians.save_densification_voxel_parameters(scene.parameter_manager, viewpoint_cam) else: gaussians.save_voxel_parameters(scene.parameter_manager, viewpoint_cam.visible_voxel_indices) if iteration in saving_iterations: progress_queue.put((\u0026#34;save\u0026#34;, iteration)) scene.save_memory(iteration, scene.parameter_manager) # Progress bar ema_loss_for_log = 0.4 * loss.item() + 0.6 * ema_loss_for_log progress_bar.set_postfix({\u0026#34;Loss\u0026#34;: f\u0026#34;{ema_loss_for_log:.{7}f}\u0026#34;}) progress_bar.update(1) # æ›´æ–° GUI è¿›åº¦æ¡ progress_queue.put((\u0026#34;update\u0026#34;, iteration)) # å°†è¿›åº¦æ›´æ–°æ”¾å…¥é˜Ÿåˆ— if iteration == opt_params.iterations: progress_bar.close() progress_queue.put((\u0026#34;close\u0026#34;, model_save_path)) # å°†å…³é—­æ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ— from PyQt5.QtWidgets import QApplication, QSplashScreen, QDesktopWidget from PyQt5.QtCore import Qt, pyqtSignal, QObject from PyQt5.QtGui import QPixmap class Communicator(QObject): close_splash = pyqtSignal() # å®šä¹‰ä¸€ä¸ªä¿¡å·æ¥å…³é—­å¯åŠ¨ç”»é¢ def show_splash_screen(): \u0026#34;\u0026#34;\u0026#34;æ˜¾ç¤ºå¯åŠ¨ç”»é¢\u0026#34;\u0026#34;\u0026#34; app = QApplication(sys.argv) pixmap_path = resource_path(\u0026#34;assets/lx_start.png\u0026#34;) pixmap = QPixmap(pixmap_path) # è·å–ç”¨æˆ·çš„å±å¹•åˆ†è¾¨ç‡ screen = QDesktopWidget().screenGeometry() screen_width = screen.width() screen_height = screen.height() # æ ¹æ®å±å¹•å¤§å°è°ƒæ•´æ¯”ä¾‹ï¼Œä¾‹å¦‚è®¾ç½®ä¸ºå±å¹•å®½åº¦çš„ 30% å’Œé«˜åº¦çš„ 30% scale_factor = 0.2 # æ¯”ä¾‹å› å­ scaled_pixmap = pixmap.scaled(int(screen_width * scale_factor), int(screen_height * scale_factor), Qt.KeepAspectRatio, Qt.SmoothTransformation) splash = QSplashScreen(scaled_pixmap) splash.setWindowFlag(Qt.WindowStaysOnTopHint) # å¯åŠ¨ç”»é¢ä¿æŒåœ¨æœ€å‰ splash.show() return app, splash def main(comm): import torch import tempfile from shutil import rmtree from utils.general_utils import safe_state from argparse import ArgumentParser from arguments import ModelParams, PipelineParams, OptimizationParams from utils.tk_gui_utils import TrainingProgressBar from utils.system_utils import select_cuda_device # æ¶‰åŠtorchåŠ è½½ï¼Œä¼šæœ‰ç­‰å¾…æ—¶é—´ select_cuda_device() # å‘é€ä¿¡å·æ¥å…³é—­å¯åŠ¨ç”»é¢ comm.close_splash.emit() from utils.tk_gui_utils import gui_user_input user_params = gui_user_input() # é¢„å¤„ç†çš„è·¯å¾„å‡†å¤‡ source_path = os.path.normpath(user_params[\u0026#39;source_path\u0026#39;]) print(f\u0026#34;Source path: {source_path}\u0026#34;) temp_dir = tempfile.gettempdir() print(f\u0026#34;Temporary directory: {temp_dir}\u0026#34;) # è®¾ç½®é»˜è®¤çš„å‚æ•°å­˜å‚¨è·¯å¾„ default_parameters_storage = os.path.join(temp_dir, \u0026#34;parameters_storage\u0026#34;) # è®¾ç½®å‘½ä»¤è¡Œå‚æ•°è§£æå™¨ parser = ArgumentParser(description=\u0026#34;Training script parameters\u0026#34;) model_params = ModelParams(parser, source_path=source_path) opt_params = OptimizationParams(parser, iterations=user_params[\u0026#39;iterations\u0026#39;]) pipe_params = PipelineParams(parser) parser.add_argument(\u0026#39;--debug_from\u0026#39;, type=int, default=-1) parser.add_argument(\u0026#39;--detect_anomaly\u0026#39;, action=\u0026#39;store_true\u0026#39;, default=False) parser.add_argument(\u0026#34;--test_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[3_000, 7_000, 12_000, 20_000, 30_000]) parser.add_argument(\u0026#34;--save_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[]) parser.add_argument(\u0026#34;--quiet\u0026#34;, action=\u0026#34;store_true\u0026#34;) parser.add_argument(\u0026#34;--checkpoint_iterations\u0026#34;, nargs=\u0026#34;+\u0026#34;, type=int, default=[]) parser.add_argument(\u0026#34;--start_checkpoint\u0026#34;, type=str, default=None) parser.add_argument(\u0026#34;--parameters_storage\u0026#34;, type=str, default=default_parameters_storage) parser.add_argument(\u0026#34;--shuffle\u0026#34;, action=\u0026#34;store_true\u0026#34;, default=True) args = parser.parse_args(sys.argv[1:]) args.save_iterations.append(user_params[\u0026#39;iterations\u0026#39;]) print(\u0026#34;save iterations:\u0026#34;, args.save_iterations) # åˆå§‹åŒ–ç³»ç»ŸçŠ¶æ€ï¼ˆéšæœºæ•°ç”Ÿæˆå™¨ï¼‰ safe_state(args.quiet) # æ˜¯å¦å¼€å¯å¼‚å¸¸æ£€æµ‹ torch.autograd.set_detect_anomaly(args.detect_anomaly) # åˆ›å»º GUI è¿›åº¦æ¡å®ä¾‹ progress_bar_gui = TrainingProgressBar(max_iterations=args.iterations, stop_event=stop_event, progress_queue=progress_queue) # å¯åŠ¨è®­ç»ƒçº¿ç¨‹ training_thread = threading.Thread(target=training, args=(model_params.extract(args), opt_params.extract(args), pipe_params.extract(args), args.save_iterations, args.checkpoint_iterations, args.start_checkpoint, args.debug_from, args.parameters_storage, args.shuffle, progress_bar_gui)) training_thread.start() progress_bar_gui.root.after(100, progress_bar_gui.check_queue) progress_bar_gui.root.mainloop() print(\u0026#34;\\nTraining complete.\u0026#34;) # åˆ é™¤ç¼“å­˜ if os.path.exists(args.parameters_storage): try: rmtree(args.parameters_storage) print(f\u0026#34;Successfully deleted the folder: {args.parameters_storage}\u0026#34;) except Exception as e: print(f\u0026#34;Error while deleting the folder {args.parameters_storage}: {e}\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: # åˆ›å»º Communicator å®ä¾‹ comm = Communicator() # æ˜¾ç¤ºå¯åŠ¨ç”»é¢ app, splash = show_splash_screen() # è¿æ¥ä¿¡å·åˆ°å…³é—­å¯åŠ¨ç”»é¢çš„æ§½å‡½æ•° comm.close_splash.connect(lambda: splash.finish(None)) #! éœ€è¦è¾“å‡ºæ‰èƒ½ä¿å­˜GUIè¿›åº¦æ¡çš„è¾“å‡º # é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°é»‘æ´ log_blackhole = \u0026#39;nul\u0026#39; if os.name == \u0026#39;nt\u0026#39; else \u0026#39;/dev/null\u0026#39; sys.stdout = open(log_blackhole, \u0026#39;w\u0026#39;) sys.stderr = open(log_blackhole, \u0026#39;w\u0026#39;) # åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œä¸»é€»è¾‘ main(comm) é€šè¿‡pythonæ‰“å¼€å«jsç½‘é¡µçš„å†™æ³• import http.server import socketserver import webbrowser import os import argparse import signal import sys from urllib.parse import urlparse, parse_qs from utils.path_utils import resource_path, resource_path_http PORT = 0 # è®¾ç½®ä¸º 0ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ç«¯å£ # åŠ¨æ€ç”Ÿæˆ HTML æ–‡ä»¶ def generate_html(cloud_path): html_content = f\u0026#34;\u0026#34;\u0026#34; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;x-ua-compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;title\u0026gt;MindCloud 3DViewer\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; body, html {{ margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #000; color: #fff; display: flex; justify-content: center; align-items: center; }} .loading-icon {{ display: none; width: 80px; padding: 15px; background: #36b07b; aspect-ratio: 1; border-radius: 50%; --_m: conic-gradient(#0000, #000), linear-gradient(#000 0 0) content-box; -webkit-mask: var(--_m); mask: var(--_m); -webkit-mask-composite: source-out; mask-composite: subtract; box-sizing: border-box; animation: ply-load 1s linear infinite; margin: 20px auto 0; }} canvas {{ position: absolute; top: 0; left: 0; }} @keyframes ply-load {{ to {{ transform: rotate(1turn) }} }} \u0026lt;/style\u0026gt; \u0026lt;script type=\u0026#34;importmap\u0026#34;\u0026gt; {{ \u0026#34;imports\u0026#34;: {{ \u0026#34;three\u0026#34;: \u0026#34;./lib/three.min.js\u0026#34;, \u0026#34;gaussian-splats-3d\u0026#34;: \u0026#34;./lib/mt3d.min.js\u0026#34; }} }} \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;canvas id=\u0026#34;bgCanvas\u0026#34;\u0026gt;\u0026lt;/canvas\u0026gt; \u0026lt;div id=\u0026#34;viewStatus\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;viewError\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;view-loading-icon\u0026#34; class=\u0026#34;loading-icon\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;module\u0026#34;\u0026gt; import * as GaussianSplats3D from \u0026#39;gaussian-splats-3d\u0026#39;; import * as THREE from \u0026#39;three\u0026#39;; function fileBufferToSplatBuffer(fileBufferData, format, alphaRemovalThreshold, compressionLevel, sectionSize, sceneCenter, blockSize, bucketSize, outSphericalHarmonicsDegree = 0) {{ if (format === GaussianSplats3D.SceneFormat.Ply) {{ return GaussianSplats3D.PlyLoader.loadFromFileData(fileBufferData.data, alphaRemovalThreshold, compressionLevel, outSphericalHarmonicsDegree, sectionSize, sceneCenter, blockSize, bucketSize); }} else if (format === GaussianSplats3D.SceneFormat.Splat) {{ return GaussianSplats3D.SplatLoader.loadFromFileData(fileBufferData.data, alphaRemovalThreshold, compressionLevel, sectionSize, sceneCenter, blockSize, bucketSize); }} else {{ return GaussianSplats3D.KSplatLoader.loadFromFileData(fileBufferData.data); }} }} function setViewError(msg) {{ setViewLoadingIconVisibility(false); document.getElementById(\u0026#34;viewStatus\u0026#34;).innerHTML = \u0026#34;\u0026#34;; document.getElementById(\u0026#34;viewError\u0026#34;).innerHTML = msg; }} function setViewStatus(msg) {{ setViewLoadingIconVisibility(true); document.getElementById(\u0026#34;viewError\u0026#34;).innerHTML = \u0026#34;\u0026#34;; document.getElementById(\u0026#34;viewStatus\u0026#34;).innerHTML = msg; }} function setViewLoadingIconVisibility(visible) {{ document.getElementById(\u0026#39;view-loading-icon\u0026#39;).style.display = visible ? \u0026#39;block\u0026#39; : \u0026#39;none\u0026#39;; }} const path = \u0026#39;{cloud_path}\u0026#39;; const format = GaussianSplats3D.LoaderUtils.sceneFormatFromPath(path); const alphaRemovalThreshold = 2; const cameraUpArray = [0, 0, 1]; const cameraPositionArray = [0, 1, 0]; const cameraLookAtArray = [1, 0, 0]; const antialiased = false; const sceneIs2D = false; const sphericalHarmonicsDegree = 0; fetch(path) .then(response =\u0026gt; response.arrayBuffer()) .then(buffer =\u0026gt; {{ const viewerOptions = {{ \u0026#39;cameraUp\u0026#39;: cameraUpArray, \u0026#39;initialCameraPosition\u0026#39;: cameraPositionArray, \u0026#39;initialCameraLookAt\u0026#39;: cameraLookAtArray, \u0026#39;halfPrecisionCovariancesOnGPU\u0026#39;: false, \u0026#39;antialiased\u0026#39;: antialiased || false, \u0026#39;splatRenderMode\u0026#39;: sceneIs2D ? GaussianSplats3D.SplatRenderMode.TwoD : GaussianSplats3D.SplatRenderMode.ThreeD, \u0026#39;sphericalHarmonicsDegree\u0026#39;: sphericalHarmonicsDegree }}; const splatBufferOptions = {{ \u0026#39;splatAlphaRemovalThreshold\u0026#39;: alphaRemovalThreshold }}; const splatBufferPromise = fileBufferToSplatBuffer({{ data: buffer }}, format, alphaRemovalThreshold, 0, undefined, undefined, undefined, undefined, sphericalHarmonicsDegree); splatBufferPromise.then((splatBuffer) =\u0026gt; {{ document.body.style.backgroundColor = \u0026#34;#000000\u0026#34;; const allCanvases = document.querySelectorAll(\u0026#39;canvas\u0026#39;); allCanvases.forEach(canvas =\u0026gt; canvas.remove()); const viewer = new GaussianSplats3D.Viewer(viewerOptions); viewer.addSplatBuffers([splatBuffer], [splatBufferOptions]) .then(() =\u0026gt; {{ viewer.start(); setViewLoadingIconVisibility(false); }}); }}); }}) .catch(err =\u0026gt; {{ console.error(\u0026#34;Error loading the file:\u0026#34;, err); setViewError(\u0026#34;Error loading the file.\u0026#34;); }}); setViewLoadingIconVisibility(true); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026#34;\u0026#34;\u0026#34; return html_content class CustomHandler(http.server.SimpleHTTPRequestHandler): def do_GET(self): # å¯¹äº .js æ–‡ä»¶ï¼Œç›´æ¥æä¾› if self.path.endswith(\u0026#34;.js\u0026#34;): js_file_path = resource_path_http(self.path.lstrip(\u0026#39;/\u0026#39;)) print(f\u0026#34;Serving JavaScript file: {js_file_path}\u0026#34;) if os.path.exists(js_file_path): self.send_response(200) self.send_header(\u0026#34;Content-type\u0026#34;, \u0026#34;application/javascript\u0026#34;) self.end_headers() with open(js_file_path, \u0026#39;rb\u0026#39;) as js_file: self.wfile.write(js_file.read()) else: self.send_error(404, f\u0026#34;File not found: {js_file_path}\u0026#34;) return # å¯¹äº .html æ–‡ä»¶ï¼Œè§£æ URL å‚æ•°ï¼Œè·å–æ–‡ä»¶è·¯å¾„ elif self.path.endswith(\u0026#34;.html\u0026#34;): print(f\u0026#34;Serving HTML file: {self.path}\u0026#34;) query_components = parse_qs(urlparse(self.path).query) file_path = query_components.get(\u0026#34;file\u0026#34;, [default_file])[0] # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ if not os.path.exists(file_path): self.send_error(404, f\u0026#34;File not found: {file_path}\u0026#34;) return # å°†æ–‡ä»¶å¤åˆ¶åˆ° exe æ‰€åœ¨çš„ datas ç›®å½• file_name = os.path.basename(file_path) file_http_path = resource_path_http(f\u0026#34;./datas/{file_name}\u0026#34;) # file_http_path = f\u0026#34;./datas/{file_name}\u0026#34; print(\u0026#34;file_http_path\u0026#34;, file_http_path) # if not os.path.exists(file_http_path): # os.makedirs(os.path.dirname(file_http_path), exist_ok=True) # with open(file_path, \u0026#39;rb\u0026#39;) as src_file, open(file_http_path, \u0026#39;wb\u0026#39;) as dest_file: # dest_file.write(src_file.read()) # print(f\u0026#34;Copying from {file_path} to {file_http_path}\u0026#34;) # ç”ŸæˆåŠ¨æ€ HTML self.send_response(200) self.send_header(\u0026#34;Content-type\u0026#34;, \u0026#34;text/html\u0026#34;) self.end_headers() html_content = generate_html(file_http_path) self.wfile.write(html_content.encode(\u0026#34;utf-8\u0026#34;)) # å¤„ç† favicon.ico æ–‡ä»¶ elif self.path.endswith(\u0026#34;.ico\u0026#34;): # è¿™é‡Œæ‰‹åŠ¨æŒ‡å®š .ico æ–‡ä»¶çš„è·¯å¾„ ico_file_path = resource_path(\u0026#34;assets/favicon.ico\u0026#34;) # å‡è®¾ ico æ–‡ä»¶åœ¨ assets æ–‡ä»¶å¤¹ä¸‹ print(f\u0026#34;Serving icon file: {ico_file_path}\u0026#34;) if os.path.exists(ico_file_path): self.send_response(200) self.send_header(\u0026#34;Content-type\u0026#34;, \u0026#34;image/x-icon\u0026#34;) self.end_headers() with open(ico_file_path, \u0026#39;rb\u0026#39;) as ico_file: self.wfile.write(ico_file.read()) else: self.send_error(404, f\u0026#34;File not found: {ico_file_path}\u0026#34;) return # å…¶ä»–æœªå•ç‹¬è€ƒè™‘çš„é™æ€æ–‡ä»¶å¤„ç† else: print(f\u0026#34;Serving static file: {self.path}\u0026#34;) super().do_GET() def end_headers(self): # æ·»åŠ  HTTP å¤´éƒ¨ï¼Œç¡®ä¿è·¨åŸŸç­–ç•¥ if self.path.endswith(\u0026#34;.js\u0026#34;): self.send_header(\u0026#34;Content-type\u0026#34;, \u0026#34;application/javascript\u0026#34;) else: self.send_header(\u0026#34;Cross-Origin-Opener-Policy\u0026#34;, \u0026#34;same-origin\u0026#34;) self.send_header(\u0026#34;Cross-Origin-Embedder-Policy\u0026#34;, \u0026#34;require-corp\u0026#34;) super().end_headers() # å‘½ä»¤è¡Œå‚æ•°è§£æ parser = argparse.ArgumentParser( description=\u0026#34;Start a simple HTTP server with dynamic file handling.\u0026#34; ) parser.add_argument(\u0026#34;--file\u0026#34;, type=str, required=True, help=\u0026#34;The file path to be used\u0026#34;) args = parser.parse_args() # ä¼ é€’çš„æ–‡ä»¶è·¯å¾„ default_file = args.file def start_server(): with socketserver.TCPServer((\u0026#34;\u0026#34;, PORT), CustomHandler) as httpd: assigned_port = httpd.server_address[1] print(f\u0026#34;Serving at port {assigned_port}\u0026#34;) html_name = os.path.splitext(os.path.basename(default_file))[0] dynamic_html_file = f\u0026#34;http://localhost:{assigned_port}/{html_name}.html\u0026#34; webbrowser.open(dynamic_html_file) def signal_handler(sig, frame): print(\u0026#34;\\nShutting down server...\u0026#34;) httpd.server_close() sys.exit(0) signal.signal(signal.SIGINT, signal_handler) httpd.serve_forever() if __name__ == \u0026#34;__main__\u0026#34;: start_server() log_blackhole = \u0026#39;nul\u0026#39; if os.name == \u0026#39;nt\u0026#39; else \u0026#39;/dev/null\u0026#39; sys.stdout = open(log_blackhole, \u0026#39;w\u0026#39;) sys.stderr = open(log_blackhole, \u0026#39;w\u0026#39;) ","permalink":"https://ahaknow.com/posts/know/dev-python-to-app/","summary":"å‰è¨€ æ€ä¹ˆæ ·ä»ä¸€ä¸ªPythonè„šæœ¬ä¸€æ­¥ä¸€æ­¥å˜æˆä¸€ä¸ªå¯ä»¥åœ¨å¤šå¹³å°ä¸Šç‹¬ç«‹ä½¿ç”¨çš„Appå‘¢ï¼Ÿ åœ¨è¿™ä¸€éƒ¨åˆ†ä¹‹å‰ï¼Œæ˜¯æ”¹è¿›å’Œä¼˜åŒ–Pythonçš„è®­ç»ƒè„šæœ¬ï¼Œå…¶ä¸­æ¶‰","title":"å…¨æ ˆå¼€å‘ï¼šä»Pythonè„šæœ¬åˆ°ç‹¬ç«‹çš„Appï¼ˆåˆç¨¿ï¼‰"},{"content":"åæ­£å°±æ˜¯ï¼Œæ—¥å¸¸ç”Ÿäº§åŠ›çš„Macï¼Œä¸è¦å‡çº§ï¼\nè¿™ä¸å‡çº§äº†å˜›ï¼Œç„¶åå¤šäº†â€œæŸ¥æ‰¾æœ¬åœ°ç½‘ç»œè®¾å¤‡â€çš„é€‰é¡¹ï¼Œæˆ‘æ²¡å¼€ï¼Œç»“æœMacä½œä¸ºè¶…çº§ç»ˆç«¯æœ¬çš„sshå¤§æ³•ç›´æ¥æ‡µé€¼ã€‚ã€‚ã€‚\nä»¥åŠï¼Œproxyè½¯ä»¶ç›´æ¥æŠ¥åºŸï¼ˆclashéƒ½ä¸‹æ¶äº†ï¼Œä¸è¯¥å‡çº§ç³»ç»Ÿå•Šï¼Œç°åœ¨ç”¨ä¸äº†å§ï¼ï¼‰\nè‡ªæ±‚å¤šç¦å§ï¼\nmacos14åˆ°15ï¼Œæ²¡æœ‰æ„Ÿå—åˆ°ä¸€ç‚¹å˜åŒ–ï¼Œç»“æœç°åœ¨ä¸€å †é—®é¢˜ï¼Œç”šè‡³ç°åœ¨æ‰“å­—çš„è½¯ä»¶éƒ½å‡ºé—®é¢˜äº†ã€‚ã€‚ã€‚\n","permalink":"https://ahaknow.com/posts/know/macos-do-not-upgrade/","summary":"åæ­£å°±æ˜¯ï¼Œæ—¥å¸¸ç”Ÿäº§åŠ›çš„Macï¼Œä¸è¦å‡çº§ï¼ è¿™ä¸å‡çº§äº†å˜›ï¼Œç„¶åå¤šäº†â€œæŸ¥æ‰¾æœ¬åœ°ç½‘ç»œè®¾å¤‡â€çš„é€‰é¡¹ï¼Œæˆ‘æ²¡å¼€ï¼Œç»“æœMacä½œä¸ºè¶…çº§ç»ˆç«¯æœ¬çš„sshå¤§æ³•ç›´æ¥æ‡µ","title":"Macï¼šé—²å¾—æ²¡äº‹ä¸è¦å‡çº§ç³»ç»Ÿ"},{"content":" ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œé¬¼ä½¿ç¥å·®æ¥äº†ä¸ªgit add .\nå¹¶ä¸æƒ³è¿™æ ·çš„ï¼Œå› ä¸ºå‹æ ¹ä¸æ˜¯æƒ³è¦gitç®¡ç†çš„ç›®å½•ğŸ˜‚\næ€ä¹ˆctrl+zä¸€ä¸‹å‘¢ï¼Ÿ\nå…·ä½“æ“ä½œ åœ¨Gitä¸­ï¼Œæœ‰ä¸¤ä¸ªå¸¸è§çš„æ“ä½œå¯ä»¥æ’¤é”€è¯¯æ“ä½œçš„ git add . ï¼šå–æ¶ˆæš‚å­˜ï¼ˆunstageï¼‰å’Œå–æ¶ˆç¼“å­˜ï¼ˆuncacheï¼‰ã€‚è¿™ä¸¤ä¸ªæ“ä½œæœ‰äº›åŒºåˆ«ï¼Œä¸‹é¢å°†è¯¦ç»†è§£é‡Šå®ƒä»¬çš„åŒºåˆ«å’Œå…·ä½“ç”¨æ³•ã€‚\n1. å–æ¶ˆæš‚å­˜ï¼ˆUnstageï¼‰ å–æ¶ˆæš‚å­˜æ˜¯æŒ‡å°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½¿å…¶å›åˆ°å·¥ä½œåŒºçš„ä¿®æ”¹çŠ¶æ€ã€‚è¿™æ„å‘³ç€è¿™äº›æ–‡ä»¶çš„ä¿®æ”¹å°†ä¸ä¼šåŒ…å«åœ¨ä¸‹ä¸€ä¸ªæäº¤ä¸­ï¼Œä½†æ–‡ä»¶æœ¬èº«åŠå…¶ä¿®æ”¹ä»ç„¶å­˜åœ¨äºå·¥ä½œç›®å½•ä¸­ã€‚\nç”¨æ³• ä½¿ç”¨ git restore --staged \u0026lt;file\u0026gt; å‘½ä»¤å¯ä»¥å°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼š\ngit restore --staged README.md git restore --staged models/model_mobilev2_960_512.onnx git restore --staged onnx_inference.py git restore --staged onnx_runtime_base.py æˆ–è€…ä¸€æ¬¡æ€§å–æ¶ˆæš‚å­˜æ‰€æœ‰æ–‡ä»¶ï¼š\ngit restore --staged . é€‚ç”¨åœºæ™¯ å½“è¯¯æ“ä½œæ‰§è¡Œ git add . ä¹‹åï¼Œä½†ä¸æƒ³æäº¤æŸäº›æ–‡ä»¶çš„ä¿®æ”¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å–æ¶ˆæš‚å­˜æ“ä½œã€‚å–æ¶ˆæš‚å­˜ä¸ä¼šä¸¢å¤±æ–‡ä»¶çš„ä»»ä½•ä¿®æ”¹ï¼Œåªæ˜¯å°†å®ƒä»¬ä»æš‚å­˜åŒºç§»é™¤ã€‚\n2. å–æ¶ˆç¼“å­˜ï¼ˆUncacheï¼‰ å–æ¶ˆç¼“å­˜æ˜¯æŒ‡å°†æ–‡ä»¶ä»Gitçš„ç´¢å¼•ä¸­ç§»é™¤ï¼Œä½†ä¸ä¼šåˆ é™¤å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚è¿™é€šå¸¸ç”¨äºå°†æ–‡ä»¶ä»ç‰ˆæœ¬æ§åˆ¶ä¸­æ’é™¤ï¼Œä½†æ–‡ä»¶ä»ä¿ç•™åœ¨æœ¬åœ°ã€‚\nç”¨æ³• ä½¿ç”¨ git rm --cached \u0026lt;file\u0026gt; å‘½ä»¤å¯ä»¥å°†æ–‡ä»¶ä»Gitçš„ç´¢å¼•ä¸­ç§»é™¤ï¼š\ngit rm --cached README.md git rm --cached models/model_mobilev2_960_512.onnx git rm --cached onnx_inference.py git rm --cached onnx_runtime_base.py é€‚ç”¨åœºæ™¯ å½“è¯¯æ“ä½œæ‰§è¡Œ git add . ä¹‹åï¼Œå¹¶ä¸”å¸Œæœ›å°†æŸäº›æ–‡ä»¶ä»ç‰ˆæœ¬æ§åˆ¶ä¸­æ’é™¤æ—¶ï¼ˆä¾‹å¦‚ï¼Œä¸å°å¿ƒæ·»åŠ äº†ä¸åº”è¢«ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œæ¯”å¦‚æ•æ„Ÿæ•°æ®æˆ–ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å–æ¶ˆç¼“å­˜æ“ä½œã€‚ å½“æƒ³è¦åœæ­¢è·Ÿè¸ªæŸä¸ªæ–‡ä»¶ä½†ä¿ç•™å®ƒåœ¨å·¥ä½œç›®å½•ä¸­æ—¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚ æ€»ç»“ å–æ¶ˆæš‚å­˜ï¼ˆUnstageï¼‰ï¼šä½¿ç”¨ git restore --staged \u0026lt;file\u0026gt; å°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½†æ–‡ä»¶åŠå…¶ä¿®æ”¹ä»ç„¶å­˜åœ¨äºå·¥ä½œç›®å½•ä¸­ã€‚é€‚ç”¨äºå¸Œæœ›ä¿ç•™æ–‡ä»¶çš„ä¿®æ”¹ä½†ä¸åŒ…æ‹¬åœ¨ä¸‹ä¸€ä¸ªæäº¤ä¸­çš„æƒ…å†µã€‚\nå–æ¶ˆç¼“å­˜ï¼ˆUncacheï¼‰ï¼šä½¿ç”¨ git rm --cached \u0026lt;file\u0026gt; å°†æ–‡ä»¶ä»Gitçš„ç´¢å¼•ä¸­ç§»é™¤ï¼Œä½†ä¸ä¼šåˆ é™¤å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚é€‚ç”¨äºå¸Œæœ›å°†æ–‡ä»¶ä»ç‰ˆæœ¬æ§åˆ¶ä¸­æ’é™¤ä½†ä¿ç•™åœ¨æœ¬åœ°çš„æƒ…å†µã€‚\nç¤ºä¾‹ å‡è®¾è¯¯æ“ä½œæ‰§è¡Œäº† git add . ï¼Œå¹¶ä¸”æƒ³æ’¤é”€è¿™ä¸ªæ“ä½œï¼š\næŸ¥çœ‹å½“å‰GitçŠ¶æ€ï¼š\ngit status è¾“å‡ºç¤ºä¾‹ï¼š\nChanges to be committed: (use \u0026#34;git restore --staged \u0026lt;file\u0026gt;...\u0026#34; to unstage) new file: README.md new file: models/model_mobilev2_960_512.onnx new file: onnx_inference.py new file: onnx_runtime_base.py å–æ¶ˆæš‚å­˜æ‰€æœ‰æ–‡ä»¶ï¼š\ngit restore --staged . æˆ–è€…å–æ¶ˆç‰¹å®šæ–‡ä»¶çš„æš‚å­˜ï¼š\ngit restore --staged README.md å–æ¶ˆç¼“å­˜ç‰¹å®šæ–‡ä»¶ï¼ˆå¦‚æœä¸æƒ³å†è·Ÿè¸ªè¿™äº›æ–‡ä»¶ï¼‰ï¼š\ngit rm --cached models/model_mobilev2_960_512.onnx ğŸŒŸæ›´ç›´ç™½çš„ç†è§£ å¦‚æœåªæ˜¯git add . ä¹‹åæ²¡æœ‰å…¶ä»–æ“ä½œäº†ï¼Œgit restore --staged å’Œ git rm --cached æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚\nå¦‚æœgit add . ä¹‹ååˆgit commit äº†ï¼Œé‚£å°±éœ€è¦git rm --cachedäº†ï½\nå¦‚æœåªæ˜¯ git add . ä¹‹åæ²¡æœ‰å…¶ä»–æ“ä½œï¼š\nä½¿ç”¨ git restore --staged å’Œ git rm --cached çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¼šå°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½¿å…¶å›åˆ°å·¥ä½œåŒºçš„ä¿®æ”¹çŠ¶æ€ã€‚ git restore --staged README.md git rm --cached README.md è¿™ä¸¤è€…åœ¨è¿™ç§æƒ…å†µä¸‹æ•ˆæœç›¸åŒã€‚\nå¦‚æœ git add . ä¹‹ååˆ git commit äº†ï¼š\nè¿™æ—¶å·²ç»æäº¤äº†æ›´æ”¹ï¼Œå¦‚æœå¸Œæœ›ä¸å†è·Ÿè¸ªæŸäº›æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ git rm --cachedã€‚è¿™ä¼šå°†æ–‡ä»¶ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤ï¼Œä½†ä¿ç•™åœ¨å·¥ä½œç›®å½•ä¸­ã€‚ç„¶åä½ éœ€è¦å†æ¬¡æäº¤è¿™ä¸ªæ›´æ”¹ã€‚ git rm --cached README.md git commit -m \u0026#34;Remove README.md from version control\u0026#34; ç¤ºä¾‹è§£é‡Š è¯¯æ“ä½œ git add . åæ²¡æœ‰æäº¤ï¼š\næ’¤é”€æ‰€æœ‰æ–‡ä»¶çš„æš‚å­˜ï¼š git restore --staged . æˆ–è€…æ’¤é”€ç‰¹å®šæ–‡ä»¶çš„æš‚å­˜ï¼š git restore --staged README.md è¯¯æ“ä½œ git add . åå·²ç»æäº¤ï¼š\nå‡è®¾å·²ç»æäº¤äº†æ›´æ”¹ï¼Œç°åœ¨æƒ³è¦ç§»é™¤æŸäº›æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼š git rm --cached README.md git commit -m \u0026#34;Remove README.md from version control\u0026#34; ","permalink":"https://ahaknow.com/posts/know/note-git-unstage/","summary":"ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œé¬¼ä½¿ç¥å·®æ¥äº†ä¸ªgit add . å¹¶ä¸æƒ³è¿™æ ·çš„ï¼Œå› ä¸ºå‹æ ¹ä¸æ˜¯æƒ³è¦gitç®¡ç†çš„ç›®å½•ğŸ˜‚ æ€ä¹ˆctrl+zä¸€ä¸‹å‘¢ï¼Ÿ å…·ä½“æ“ä½œ åœ¨Gitä¸­ï¼Œæœ‰ä¸¤ä¸ªå¸¸","title":"Gitï¼šä¸å°å¿ƒgit add . ä¹‹å"},{"content":" å»å¹´2023å¹´ï¼Œå›ºæ€ç¡¬ç›˜ä½è°·çš„æ—¶å€™ä¹°äº†ä¸€ä¸ª2Tçš„ï¼Œç°åœ¨æ²¡å•¥ç”¨äº†ï¼ŒåŸæœ¬æƒ³ç€è£…ç§»åŠ¨ç‰ˆçš„MacOSç³»ç»Ÿçš„ï¼Œä½†æ˜¯çœ‹äº†çœ‹é›·ç”µ3ç¡¬ç›˜ç›’çš„è¯»å†™é€Ÿåº¦ï¼Œä¸‰æ˜Ÿçš„æ¯”è¾ƒç¨³å®šï¼Œè¿™ä¸ªé›·å…‹æ²™å±å®ã€‚ã€‚ã€‚æ‹‰å®ã€‚\nå‡†å¤‡å–äº†ï¼Œç°åœ¨çš„ä»·æ ¼æ˜¯799ï¼Œæƒ³ç€å–700å¯ä»¥çš„å§ï¼Ÿç»“æœæœ€åè¢«ç åˆ°600ã€‚ã€‚ã€‚\nç å°±ç äº†ï¼Œç»“æœè¿˜è¦æˆ‘ç»™ä»–ä¸€ä¸ªç¡¬ç›˜æ£€æµ‹çš„ä¿¡æ¯ï¼ŒWindowsä¸Šè¿™ç§è½¯ä»¶æŒºå¤šï¼ŒLinuxï¼Ÿä¼°è®¡æ²¡æœ‰ï¼Œä½†ç†è®ºä¸Šè®²ï¼ŒLinuxè·å–è¿™äº›ä¿¡æ¯ä¼šæ›´ç›´æ¥ï¼Œä¹Ÿæ›´æ–¹ä¾¿ï¼Œä»€ä¹ˆç¡¬ç›˜çš„é€šç”µæ¬¡æ•°ã€é€šç”µæ—¶é—´ï¼Œè¯»å†™é‡å•Šï¼Œåº”è¯¥ç”¨å‘½ä»¤è¡Œå°±èƒ½æŸ¥çœ‹ã€‚\nåœ¨Linuxç³»ç»Ÿä¸‹ï¼Œæœ‰å‡ ç§å·¥å…·å¯ä»¥ç”¨æ¥æŸ¥çœ‹å›ºæ€ç¡¬ç›˜ï¼ˆSSDï¼‰çš„é€šç”µæ¬¡æ•°ã€é€šç”µæ—¶é—´ï¼Œä»¥åŠè¯»å†™çš„æ•°æ®é‡ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å·¥å…·å’Œå‘½ä»¤ï¼š\n1. smartctl å·¥å…· smartctl æ˜¯ smartmontools è½¯ä»¶åŒ…ä¸­çš„ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºç›‘æ§å’Œç®¡ç†ç¡¬ç›˜çš„SMARTå±æ€§ã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥æŸ¥çœ‹SSDçš„è¯¦ç»†ä¿¡æ¯ã€‚\nå®‰è£… smartmontools åœ¨Ubuntuæˆ–Debianç³»ç»Ÿä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… smartmontoolsï¼š\nsudo apt-get update sudo apt-get install smartmontools ä½¿ç”¨ smartctl æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯ æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯ï¼š\nsudo smartctl -a /dev/sdX å…¶ä¸­ /dev/sdX æ˜¯ä½ çš„ç¡¬ç›˜è®¾å¤‡åï¼ˆä¾‹å¦‚ /dev/sdaï¼‰ã€‚\nå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š\nsudo smartctl -a /dev/nvme0n1 smartctl 7.1 2019-12-30 r5022 [x86_64-linux-5.15.0-84-generic] (local build) Copyright (C) 2002-19, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Model Number: KINGSTON SNVS1000G Serial Number: 50026B7685D2DF4A Firmware Version: S8442105 PCI Vendor/Subsystem ID: 0x2646 IEEE OUI Identifier: 0x0026b7 Controller ID: 1 Number of Namespaces: 1 Namespace 1 Size/Capacity: 1,000,204,886,016 [1.00 TB] Namespace 1 Formatted LBA Size: 512 Namespace 1 IEEE EUI-64: 0026b7 685d2df4a5 Local Time is: Wed Jun 5 15:58:07 2024 CST Firmware Updates (0x12): 1 Slot, no Reset required Optional Admin Commands (0x0016): Format Frmw_DL Self_Test Optional NVM Commands (0x005f): Comp Wr_Unc DS_Mngmt Wr_Zero Sav/Sel_Feat Timestmp Maximum Data Transfer Size: 64 Pages Warning Comp. Temp. Threshold: 85 Celsius Critical Comp. Temp. Threshold: 90 Celsius Supported Power States St Op Max Active Idle RL RT WL WT Ent_Lat Ex_Lat 0 + 6.00W - - 0 0 0 0 0 0 1 + 3.00W - - 1 1 1 1 0 0 2 + 1.50W - - 2 2 2 2 0 0 3 - 0.0250W - - 3 3 3 3 8000 3000 4 - 0.0040W - - 4 4 4 4 25000 25000 Supported LBA Sizes (NSID 0x1) Id Fmt Data Metadt Rel_Perf 0 + 512 0 0 === START OF SMART DATA SECTION === SMART overall-health self-assessment test result: PASSED SMART/Health Information (NVMe Log 0x02) Critical Warning: 0x00 Temperature: 54 Celsius Available Spare: 100% Available Spare Threshold: 10% Percentage Used: 0% Data Units Read: 4,596,860 [2.35 TB] Data Units Written: 6,819,671 [3.49 TB] Host Read Commands: 40,326,724 Host Write Commands: 85,231,477 Controller Busy Time: 3,283 Power Cycles: 130 Power On Hours: 5,507 Unsafe Shutdowns: 100 Media and Data Integrity Errors: 0 Error Information Log Entries: 0 Warning Comp. Temperature Time: 0 Critical Comp. Temperature Time: 0 Error Information (NVMe Log 0x01, max 64 entries) No Errors Logged 2. nvme-cli å·¥å…· å¦‚æœSSDæ˜¯NVMeæ¥å£çš„ï¼Œå¯ä»¥ä½¿ç”¨ nvme-cli å·¥å…·æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚\nå®‰è£… nvme-cli åœ¨Ubuntuæˆ–Debianç³»ç»Ÿä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… nvme-cliï¼š\nsudo apt-get update sudo apt-get install nvme-cli ä½¿ç”¨ nvme-cli æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯ æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯ï¼š\nsudo nvme smart-log /dev/nvme0 å…¶ä¸­ /dev/nvme0 æ˜¯NVMeè®¾å¤‡åã€‚\næŸ¥çœ‹è¯¦ç»†SMARTå±æ€§ï¼š\nsudo nvme smart-log /dev/nvme0 | grep -i \u0026#39;data_units_written\\|data_units_read\\|power_on_hours\\|power_cycles\u0026#39; å…·ä½“ä½¿ç”¨æ•ˆæœï¼š\nsudo nvme smart-log /dev/nvme0 | grep -i \u0026#39;data_units_written\\|data_units_read\\|power_on_hours\\|power_cycles\u0026#39; data_units_read : 4,596,861 data_units_written : 6,819,687 power_cycles : 130 power_on_hours : 5,508 ","permalink":"https://ahaknow.com/posts/know/linux-disk-info/","summary":"å»å¹´2023å¹´ï¼Œå›ºæ€ç¡¬ç›˜ä½è°·çš„æ—¶å€™ä¹°äº†ä¸€ä¸ª2Tçš„ï¼Œç°åœ¨æ²¡å•¥ç”¨äº†ï¼ŒåŸæœ¬æƒ³ç€è£…ç§»åŠ¨ç‰ˆçš„MacOSç³»ç»Ÿçš„ï¼Œä½†æ˜¯çœ‹äº†çœ‹é›·ç”µ3ç¡¬ç›˜ç›’çš„è¯»å†™é€Ÿåº¦ï¼Œä¸‰æ˜Ÿçš„","title":"Linuxï¼šå‘½ä»¤è¡Œæ–¹å¼æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯"},{"content":" é‡åˆ°çš„é—®é¢˜æ˜¯è¿™æ ·çš„ï¼š\nâ€œè«åå…¶å¦™ï¼ŒGPUé©±åŠ¨å°±æ²¡äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºupdate \u0026amp;\u0026amp; upgradeäº†ä¸€ä¸‹ï¼Ÿï¼ˆROSå®‰è£…æºçš„é—®é¢˜ï¼Œæ›´æ¢åˆ°äº†å›½å†…ä¹‹åå¥½åƒæ²¡æœ‰é‡æ–°å®‰è£…ï¼Œè¿˜ç”¨äº†autoremoveè¿›è¡Œæ¸…ç†ï¼‰ï¼Œæ€»ä¹‹å°±æ˜¯GPUæŒ‚äº†ã€‚ã€‚ã€‚â€\nå‡­å€Ÿçš„è®°å¿†é€šè¿‡æœ¬åœ°debçš„æ–¹å¼ï¼Œé‡è£…å‘ç°ä¸€ç›´å‡ºé”™ã€‚\nä¸€ç›´å‡ºé”™ï¼Œé‚£å°±ä¸€ç›´å°è¯•ï¼Œå¸è½½é‡è£…ï¼ˆä¸»è¦å¸è½½çš„è¿˜æ˜¯Nvidiaç›¸å…³çš„ï¼‰ï¼Œä½†æ˜¯åŒæ ·è¿˜æ˜¯é”™è¯¯ã€‚ã€‚ã€‚\né‡æ–°ä¸‹è½½ä¸€ä¸ªCUDAç‰ˆæœ¬ï¼Ÿä¸‹è½½äº†å®‰è£…è¿˜æ˜¯é”™è¯¯ã€‚ã€‚ã€‚\næœ€ç»ˆï¼Œç†æ¸…æ¥šæ€è·¯ï¼Œå¯èƒ½æ˜¯Linuxå†…æ ¸çš„é—®é¢˜ï¼Œå› ä¸ºä¹‹å‰å‡ºç°è¿‡ï¼Œæ–°å†…æ ¸å®‰è£…å®Œé©±åŠ¨åå¯åŠ¨ä¸äº†ï¼Œåˆ‡æ¢æˆä¸Šä¸€ä¸ªå†…æ ¸å°±è¡Œäº†ã€‚ã€‚ã€‚ï¼ˆå°è±¡ä¸­æ˜¯è¿™æ ·çš„ï¼‰\näºæ˜¯ï¼Œåˆ‡æ¢åˆ°å°±å†…æ ¸å†è£…ï¼Œè¿˜æ˜¯ä¸€æ ·çš„é”™è¯¯ï¼Œå‘ç°é”™è¯¯æç¤ºé‡Œè¿˜æœ‰æ–°å†…æ ¸çš„ç—•è¿¹ï¼Œæœæ–­ï¼ŒæŠŠæ–°å†…æ ¸å¸è½½å¹¶ä¸”æ¸…ç©ºï¼ŒNvidiaä»¥åŠCUDAç›¸å…³çš„ä¹Ÿå…¨éƒ½å¸è½½é‡è£…â€¦â€¦\nç»ˆäºï¼ŒæˆåŠŸäº†ï¼\nNvidiaå¸è½½é‡è£…ï¼šå¸è½½å¹²å‡€äº†å†è£…ï¼ æ˜¾å¡é©±åŠ¨å®¹æ˜“æŒ‚æ‰ï¼Ÿï¼ˆå¯èƒ½æ˜¯è¿™æ ·ï¼Œä½†æ˜¯æ­£ç»å®‰è£…çš„ï¼Œç»ä¸åº”è¯¥ï¼ï¼‰\nè¿™æ¬¡å®Œå…¨æ˜¯è£…ä¸äº†ï¼Œåˆšæ‰ä¹Ÿè¯´äº†ï¼Œé‡‡ç”¨é€†å‘åˆ†æåº”è¯¥æ˜¯å†…æ ¸ç‰ˆæœ¬çš„åŸå› ï¼Œä½†æ˜¯Nvidiaç›¸å…³å¦‚æœè¦é‡è£…ï¼Œé‚£ä¹Ÿå¾—å¸è½½å¹²å‡€äº†å†é‡è£…ï¼š\nsudo apt-get remove --purge \u0026#39;*nvidia*\u0026#39; sudo apt-get remove --purge \u0026#39;*cuda*\u0026#39; sudo apt-get autoremove sudo apt-get autoclean å¦‚æœå®‰è£…äº†TensorRTå’ŒCuDNNï¼Œè¿™ä¸¤ä¸ªä¹Ÿä¸€èµ·å¸è½½äº†ã€‚\nNvidiaç›¸å…³é©±åŠ¨çš„å®‰è£…åŸåˆ™ æœ€å¥½çš„å®è·µæ–¹å¼æ˜¯é‡‡ç”¨debçš„æœ¬åœ°å®‰è£…ï¼Œä¹Ÿå°±æ˜¯å…ˆä¸‹è½½ï¼Œç„¶åå†é€šè¿‡aptæ–¹å¼å®‰è£…ï¼Œä»¥CUDAä¸ºä¾‹ï¼š\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin sudo mv cuda-ubuntu2004.pin /etc/apt/preferences.d/cuda-repository-pin-600 wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda-repo-ubuntu2004-11-8-local_11.8.0-520.61.05-1_amd64.deb sudo dpkg -i cuda-repo-ubuntu2004-11-8-local_11.8.0-520.61.05-1_amd64.deb sudo cp /var/cuda-repo-ubuntu2004-11-8-local/cuda-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cuda å®‰è£…CuDNNå’ŒTensorRTä¹Ÿæ˜¯è¿™æ ·ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ï¼Œé©±åŠ¨å°½å¯èƒ½ä¸ä¼šæ‰\nCuDNNå’ŒTensorRTçš„debåŒ…éœ€è¦å•ç‹¬ä¸‹è½½ï¼ˆéœ€è¦å¼€å‘è€…è´¦æˆ·ï¼‰ï¼Œç„¶åå®‰è£…ä¸Šé¢çš„å®‰è£…è§£å‹å®‰è£…å³å¯ã€‚\n","permalink":"https://ahaknow.com/posts/know/linux-cuda-kernel-conflict/","summary":"é‡åˆ°çš„é—®é¢˜æ˜¯è¿™æ ·çš„ï¼š â€œè«åå…¶å¦™ï¼ŒGPUé©±åŠ¨å°±æ²¡äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºupdate \u0026amp;\u0026amp; upgradeäº†ä¸€ä¸‹ï¼Ÿï¼ˆROSå®‰è£…æºçš„é—®é¢˜ï¼Œæ›´æ¢åˆ°äº†å›½å†…ä¹‹åå¥½åƒæ²¡","title":"Linuxï¼šGPUç¯å¢ƒå´©äº†ï¼Ÿä»Nvidiaé©±åŠ¨åˆ°TensorRT"},{"content":" äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼š\næˆ‘åˆ†åˆ«ç”¨ä¸¤ä¸ªç¡¬ç›˜è£…äº†Ubuntuç³»ç»Ÿï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªç¡¬ç›˜Açš„Ubuntuæ˜¯é»˜è®¤å¯åŠ¨é¡¹ï¼Œå¦ä¸€ä¸ªç¡¬ç›˜Bä¸­çš„Ubuntuç³»ç»Ÿå¯ä»¥åœ¨å¯åŠ¨æ—¶è¿›è¡Œé€‰æ‹©ã€‚\nç°åœ¨æˆ‘ç›´æ¥æŠŠç¡¬ç›˜Aå–èµ°äº†ï¼Œå†å¼€æœºï¼Œäºæ˜¯ä¹ï¼Œå¯åŠ¨ä¸äº†äº†ã€‚ã€‚ã€‚ã€‚\nå¼€æœºä¹‹åç›´æ¥è¿›å…¥grub\u0026gt;ç•Œé¢ã€‚ã€‚ã€‚\nå…ˆè¯´æ­£é¢˜ æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œèƒ½ä¸èƒ½å°±åœ¨grubä¸‹å®ç°å¯åŠ¨ï¼ˆç†è®ºä¸Šè‚¯å®šæ˜¯å¯ä»¥çš„ï¼ï¼‰ï¼Œä¸å€ŸåŠ©æ‰€è°“çš„Live CDæˆ–è€…USBç¯å¢ƒã€‚\nä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š\nGrubå¯åŠ¨ åˆ—å‡ºæ‰€æœ‰åˆ†åŒºï¼š\ngrub\u0026gt; ls è¿™å°†åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è®¾å¤‡å’Œåˆ†åŒºï¼Œä¾‹å¦‚ï¼š\n(hd0) (hd0,gpt1) (hd0,gpt2) ä¹Ÿå¯èƒ½ä¸æ˜¯è¿™æ ·ï¼Œä½†ç±»ä¼¼ã€‚\næŸ¥æ‰¾/bootç›®å½•ï¼š æ£€æŸ¥æ¯ä¸ªåˆ†åŒºï¼Œæ‰¾åˆ°åŒ…å« /boot ç›®å½•çš„åˆ†åŒºï¼š\ngrub\u0026gt; ls (hd0,gpt1)/ grub\u0026gt; ls (hd0,gpt2)/ çœ‹çœ‹ /boot ç›®å½•åœ¨å“ªä¸ªåˆ†åŒºä¸‹ï¼Œæ¯”å¦‚æ˜¯åœ¨(hd0,gpt2)ä¸‹é¢ï¼ŒæŸ¥çœ‹(hd0,gpt1)ä¸‹é¢å‘ç°åªæœ‰efiæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ˜¯ä¹‹åä¿®å¤efiæ—¶éœ€è¦æŒ‚è½½çš„ï¼›\nè¿›å…¥ /boot åï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ï¼š\nvmlinuz initrd.img ä¹Ÿå¯èƒ½æ˜¯ï¼švmlinuz-linuxå’Œinitramfs-linux.imgä¹‹ç±»çš„æ–‡ä»¶\nè·å–å¯åŠ¨è®¾å¤‡UUIDï¼š åœ¨GRUBå‘½ä»¤è¡Œä¸­ï¼Œå¯ä»¥ä½¿ç”¨ ls -l å‘½ä»¤æ¥æŸ¥çœ‹è®¾å¤‡çš„UUIDã€‚ä¾‹å¦‚ï¼š\ngrub\u0026gt; ls -l (hd0,gpt2) è¿™å°†åˆ—å‡ºåˆ†åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬UUIDï¼Œè¿™ä¸ªUUIDå°±å¯ä»¥ä½œä¸ºè®¾å¤‡åçš„æ ‡è¯†ã€‚\næŒ‚è½½å¯åŠ¨ï¼š åŠ è½½å†…æ ¸å¹¶æŒ‡å®šæ ¹æ–‡ä»¶ç³»ç»Ÿï¼š\ngrub\u0026gt; linux (hd0,gpt2)/boot/vmlinuz root=UUID=your-uuid-here grub\u0026gt; initrd (hd0,gpt2)/boot/initrd.img grub\u0026gt; boot æ³¨æ„vmlinuzå¯èƒ½ä¼šæœ‰åŒºåˆ«ï¼Œvmlinuzæˆ–è€…vmlinuz-linuxï¼›initrd.imgä¹Ÿå¯èƒ½æœ‰åŒºåˆ«ï¼Œä½†è‚¯å®šæ˜¯initå‰ç¼€åŠ ä¸Šimgåç¼€ã€‚\nä¿®å¤Grub æ³¨æ„éœ€è¦ç¡®è®¤ç£ç›˜çš„è®¾å¤‡åï¼Œå› ä¸ºå·²ç»å¯åŠ¨äº†Ubuntuï¼Œå¯ä»¥é€šè¿‡ lsblk -o NAME,FSTYPE,SIZE,MOUNTPOINT,LABEL æ¥æŸ¥çœ‹ï¼š\nlsblk -o NAME,FSTYPE,SIZE,MOUNTPOINT,LABEL å¾—åˆ°çš„ç»“æœç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š\nNAME FSTYPE SIZE MOUNTPOINT LABEL loop0 squashfs 63.5M /snap/core20/2015 loop1 squashfs 4K /snap/bare/5 loop2 squashfs 74.1M /snap/core22/1033 loop3 squashfs 349.7M /snap/gnome-3-38-2004/143 loop4 squashfs 64M /snap/core20/2318 loop5 squashfs 497M /snap/gnome-42-2204/141 loop6 squashfs 91.7M /snap/gtk-common-themes/1535 loop7 squashfs 40.9M /snap/snapd/20092 loop8 squashfs 12.3M /snap/snap-store/959 loop9 squashfs 38.8M /snap/snapd/21759 loop10 squashfs 74.2M /snap/core22/1380 loop11 squashfs 54.2M /snap/snap-store/558 loop12 squashfs 485.5M /snap/gnome-42-2204/126 loop13 squashfs 349.7M /snap/gnome-3-38-2004/140 nvme0n1 931.5G â”œâ”€nvme0n1p1 vfat 193M â””â”€nvme0n1p2 ext4 931.3G / å…¶ä¸­çš„vfatç†è®ºä¸Šè®²å°±æ˜¯efiæ‰€åœ¨çš„ä½ç½®ï¼Œå¦‚æœä¸ç¡®å®šï¼Œå¯ä»¥åœ¨ä¸€å¼€å§‹grub\u0026gt;å‘½ä»¤çš„æ—¶å€™lsæŸ¥çœ‹ã€‚\nåˆ›å»ºæŒ‚è½½ç‚¹ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š sudo mkdir -p /boot/efi æŒ‚è½½EFIåˆ†åŒºï¼š sudo mount /dev/nvme0n1p1 /boot/efi éªŒè¯æŒ‚è½½ï¼š df -h | grep /boot/efi åº”è¯¥çœ‹åˆ°ä»¥ä¸‹çš„è¾“å‡ºï¼š\n/dev/nvme0n1p1 200M 100M 100M 50% /boot/efi å®‰è£…GRUBåˆ°æŒ‡å®šçš„è®¾å¤‡ï¼š sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB /dev/nvme0n1 ç”ŸæˆGRUBé…ç½®æ–‡ä»¶ï¼š sudo update-grub é‡å¯ç³»ç»Ÿï¼š sudo reboot ç­”ç–‘è§£æƒ‘ GRUBæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œèƒ½å¹²å˜›ï¼Ÿ GRUBï¼ˆGNU GRand Unified Bootloaderï¼‰æ˜¯ä¸€ä¸ªé€šç”¨çš„å¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”¨äºå¯åŠ¨æ“ä½œç³»ç»Ÿã€‚å®ƒå¯ä»¥å¼•å¯¼å¤šç§æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬Linuxã€Windowså’ŒBSDã€‚GRUBçš„ä¸»è¦åŠŸèƒ½å’Œç‰¹ç‚¹åŒ…æ‹¬ï¼š\nå¤šé‡å¼•å¯¼ï¼šå…è®¸ç”¨æˆ·ä»å¤šä¸ªæ“ä½œç³»ç»Ÿä¸­é€‰æ‹©è¦å¯åŠ¨çš„ç³»ç»Ÿã€‚ é…ç½®æ–‡ä»¶ï¼šä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯grub.cfgï¼‰ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­å®šä¹‰å¼•å¯¼èœå•ã€å†…æ ¸å‚æ•°ç­‰ã€‚ å‘½ä»¤è¡Œç•Œé¢ï¼šæä¾›ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­è¾“å…¥å‘½ä»¤ï¼Œä»¥ä¾¿è¿›è¡Œæ‰‹åŠ¨å¼•å¯¼æˆ–ä¿®å¤æ“ä½œç³»ç»Ÿã€‚ æ¨¡å—åŒ–è®¾è®¡ï¼šå¯ä»¥é€šè¿‡åŠ è½½æ¨¡å—æ¥æ‰©å±•åŠŸèƒ½ï¼Œå¦‚æ”¯æŒä¸åŒæ–‡ä»¶ç³»ç»Ÿå’Œè®¾å¤‡ã€‚ initramfs-linux.imgæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ initramfsï¼ˆinitial RAM filesystemï¼‰æ˜¯ä¸€ä¸ªä¸´æ—¶çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åŠ è½½å¿…è¦çš„é©±åŠ¨å’Œæ¨¡å—ã€‚initramfs-linux.imgæ–‡ä»¶é€šå¸¸åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\nå†…æ ¸æ¨¡å—ï¼šç”¨äºæ”¯æŒå¯åŠ¨æ—¶æ‰€éœ€çš„ç¡¬ä»¶ã€‚ å¯åŠ¨è„šæœ¬ï¼šç”¨äºåˆå§‹åŒ–ç³»ç»Ÿå¹¶æŒ‚è½½å®é™…çš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚ ç”¨æˆ·ç©ºé—´å·¥å…·ï¼šå¦‚busyboxï¼Œç”¨äºæä¾›åŸºæœ¬çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ åœ¨ä¸åŒçš„Linuxå‘è¡Œç‰ˆä¸Šï¼Œè¿™ä¸ªæ–‡ä»¶çš„å‘½åå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼š\nåœ¨Ubuntuä¸Šï¼Œé€šå¸¸å‘½åä¸ºinitrd.img-\u0026lt;kernel-version\u0026gt;ï¼Œä¾‹å¦‚initrd.img-5.4.0-42-genericã€‚ åœ¨Arch Linuxä¸Šï¼Œé€šå¸¸å‘½åä¸ºinitramfs-linux.imgã€‚ vmlinuz-linuxæ˜¯ä»€ä¹ˆï¼Ÿ vmlinuzæ˜¯Linuxå†…æ ¸çš„å‹ç¼©ç‰ˆæœ¬ï¼Œé€šå¸¸ç”¨äºå¼•å¯¼ç³»ç»Ÿã€‚æ–‡ä»¶åä¸­çš„vmlinuzè¡¨ç¤ºâ€œå‹ç¼©çš„è™šæ‹Ÿå†…æ ¸â€ï¼ˆcompressed virtual kernelï¼‰ã€‚ä¸åŒçš„Linuxå‘è¡Œç‰ˆå¯èƒ½ä½¿ç”¨ä¸åŒçš„å‘½åæ–¹å¼ï¼š\nvmlinuzï¼šè¿™æ˜¯å¤§å¤šæ•°å‘è¡Œç‰ˆä½¿ç”¨çš„é€šç”¨åç§°ï¼Œå¦‚Ubuntuå’ŒDebianã€‚ vmlinuz-linuxï¼šåœ¨ä¸€äº›å‘è¡Œç‰ˆä¸­å¯èƒ½ä¼šä½¿ç”¨æ›´å…·ä½“çš„åç§°ï¼Œä»¥åŒºåˆ†ä¸åŒçš„å†…æ ¸ç‰ˆæœ¬æˆ–é…ç½®ï¼Œå¦‚Arch Linuxã€‚ æ€»ç»“ GRUBï¼šå¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”¨äºé€‰æ‹©å’Œå¯åŠ¨æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒå¤šé‡å¼•å¯¼å’Œå‘½ä»¤è¡Œç•Œé¢ã€‚ initramfs-linux.imgï¼šåˆå§‹RAMæ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…å«å¯åŠ¨æ—¶æ‰€éœ€çš„å†…æ ¸æ¨¡å—å’Œè„šæœ¬ï¼Œç”¨äºåŠ è½½å®é™…çš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨ä¸åŒçš„å‘è¡Œç‰ˆä¸Šå¯èƒ½æœ‰ä¸åŒçš„å‘½åï¼Œå¦‚Ubuntuçš„initrd.img-\u0026lt;kernel-version\u0026gt;ã€‚ vmlinuz-linuxï¼šå‹ç¼©çš„Linuxå†…æ ¸ï¼Œç”¨äºå¼•å¯¼ç³»ç»Ÿã€‚é€šå¸¸åœ¨ä¸åŒçš„å‘è¡Œç‰ˆä¸Šæœ‰ä¸åŒçš„å‘½åï¼Œå¦‚Ubuntuçš„vmlinuzæˆ–Arch Linuxçš„vmlinuz-linuxã€‚ ","permalink":"https://ahaknow.com/posts/know/linux-grub-boot/","summary":"äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼š æˆ‘åˆ†åˆ«ç”¨ä¸¤ä¸ªç¡¬ç›˜è£…äº†Ubuntuç³»ç»Ÿï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªç¡¬ç›˜Açš„Ubuntuæ˜¯é»˜è®¤å¯åŠ¨é¡¹ï¼Œå¦ä¸€ä¸ªç¡¬ç›˜Bä¸­çš„Ubuntuç³»ç»Ÿå¯ä»¥åœ¨å¯åŠ¨æ—¶","title":"Linuxï¼šå¼€ä¸äº†æœºäº†ï¼Ÿé€šè¿‡Grubå¯åŠ¨ï¼"},{"content":"","permalink":"https://ahaknow.com/posts/know/dev-mutex/","summary":"","title":"å¼€å‘å®æˆ˜ï¼šâ€œé”â€çš„æœºåˆ¶"},{"content":" éœ€è¦å¯¹Linuxä¸Šçš„å›ºæ€è¿›è¡Œä¸€ä¸ªè¯»å†™æµ‹è¯•ï¼Œæˆ‘çŸ¥é“æ˜¯å¯ä»¥ dd æ–¹å¼ç›´æ¥æµ‹è¯•çš„ï¼Œä½†æ˜¯ dd åªèƒ½é¡ºåºè¯»å†™ï¼Œæ— æ³•éšæœºè¯»å†™ï¼Œå› æ­¤è¿™é‡Œå†æä¾›å¦ä¸€ç§æ–¹æ³•ã€‚\nåœ¨ Linux ä¸Šä½¿ç”¨ dd å·¥å…·å¯ä»¥ç›´æ¥æµ‹è¯•ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦\nä½¿ç”¨ dd æµ‹è¯•è¯»å†™é€Ÿåº¦ å†™å…¥æµ‹è¯• å¯ä»¥ä½¿ç”¨ dd å‘½ä»¤ç”Ÿæˆä¸€ä¸ªæµ‹è¯•æ–‡ä»¶æ¥æµ‹é‡å†™å…¥é€Ÿåº¦ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ 1M çš„å—å¤§å°ç”Ÿæˆä¸€ä¸ª 1GB çš„æµ‹è¯•æ–‡ä»¶ï¼š\ndd if=/dev/zero of=/path/to/your/testfile bs=1M count=1024 oflag=direct è¿™ä¸ªå‘½ä»¤è§£é‡Šå¦‚ä¸‹ï¼š\nif=/dev/zeroï¼šä» /dev/zero è¯»å–æ•°æ®ï¼ˆç”Ÿæˆé›¶å­—èŠ‚æ•°æ®ï¼‰ã€‚ of=/path/to/your/testfileï¼šè¾“å‡ºåˆ°æŒ‡å®šçš„æµ‹è¯•æ–‡ä»¶ã€‚ bs=1Mï¼šå—å¤§å°ä¸º 1MBã€‚ count=1024ï¼šå†™å…¥ 1024 ä¸ªå—ï¼Œæ€»è®¡ 1GBã€‚ oflag=directï¼šä½¿ç”¨ç›´æ¥ I/Oï¼Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ã€‚ è¯»å–æµ‹è¯• å¯ä»¥ä½¿ç”¨ dd å‘½ä»¤ä»ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶ä¸­è¯»å–æ•°æ®æ¥æµ‹é‡è¯»å–é€Ÿåº¦ï¼š\ndd if=/path/to/your/testfile of=/dev/null bs=1M count=1024 iflag=direct è¿™ä¸ªå‘½ä»¤è§£é‡Šå¦‚ä¸‹ï¼š\nif=/path/to/your/testfileï¼šä»æŒ‡å®šçš„æµ‹è¯•æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ of=/dev/nullï¼šå°†æ•°æ®ä¸¢å¼ƒã€‚ bs=1Mï¼šå—å¤§å°ä¸º 1MBã€‚ count=1024ï¼šè¯»å– 1024 ä¸ªå—ï¼Œæ€»è®¡ 1GBã€‚ iflag=directï¼šä½¿ç”¨ç›´æ¥ I/Oï¼Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ã€‚ åœ¨æ–‡ä»¶ I/O æ“ä½œä¸­ï¼Œç›´æ¥ I/O å’Œç¼“å­˜ I/O æ˜¯ä¸¤ç§ä¸åŒçš„æ“ä½œæ¨¡å¼ã€‚\nç¼“å­˜ I/Oï¼ˆBuffered I/Oï¼‰ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ“ä½œç³»ç»Ÿåœ¨è¿›è¡Œæ–‡ä»¶è¯»å†™æ—¶ä¼šä½¿ç”¨ç¼“å­˜ I/Oï¼Œå³é€šè¿‡ç³»ç»Ÿçš„é¡µç¼“å­˜ï¼ˆpage cacheï¼‰æ¥ç¼“å†²æ•°æ®ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å¯ä»¥æé«˜æ–‡ä»¶æ“ä½œçš„é€Ÿåº¦ï¼Œå› ä¸ºè®¸å¤šè¯»å†™æ“ä½œå®é™…ä¸Šæ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ï¼Œå‡å°‘äº†ä¸ç£ç›˜çš„ç›´æ¥äº¤äº’æ¬¡æ•°ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š\nè¯»å†™æ“ä½œå¯èƒ½è¢«ç³»ç»Ÿç¼“å­˜æ‰€å½±å“ï¼Œå¯¼è‡´å®é™…ç£ç›˜æ€§èƒ½çš„æµ‹é‡ä¸å‡†ç¡®ã€‚ å¤§é‡æ•°æ®çš„ç¼“å­˜æ“ä½œä¼šæ¶ˆè€—ç³»ç»Ÿå†…å­˜ï¼Œå¯èƒ½å¯¼è‡´å…¶ä»–åº”ç”¨ç¨‹åºçš„å†…å­˜ä¸è¶³ã€‚ ç›´æ¥ I/Oï¼ˆDirect I/Oï¼‰ ç›´æ¥ I/O æ˜¯ç»•è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ï¼Œç›´æ¥ä»ç£ç›˜è¿›è¡Œè¯»å†™æ“ä½œçš„ä¸€ç§æ¨¡å¼ã€‚åœ¨ Linux ä¸Šï¼Œå¯ä»¥é€šè¿‡ O_DIRECT æ ‡å¿—æ¥å®ç°ç›´æ¥ I/Oã€‚ä½¿ç”¨ç›´æ¥ I/O æœ‰ä»¥ä¸‹ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼š\nä¼˜ç‚¹ å‡†ç¡®çš„æ€§èƒ½æµ‹é‡ï¼šç»•è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ï¼Œç›´æ¥ä¸ç£ç›˜è¿›è¡Œè¯»å†™æ“ä½œï¼Œå¯ä»¥æ›´å‡†ç¡®åœ°åæ˜ ç£ç›˜çš„å®é™…æ€§èƒ½ã€‚ å‡å°‘å†…å­˜ä½¿ç”¨ï¼šä¸ä½¿ç”¨ç³»ç»Ÿç¼“å­˜ï¼Œå‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œå¯¹å†…å­˜èµ„æºç´§å¼ çš„ç³»ç»Ÿæœ‰ç›Šã€‚ é€‚åˆæŸäº›åº”ç”¨åœºæ™¯ï¼šä¾‹å¦‚æ•°æ®åº“ç³»ç»Ÿï¼Œç›´æ¥ I/O å¯ä»¥æä¾›æ›´ç¨³å®šçš„æ€§èƒ½ï¼Œå› ä¸ºè¿™äº›åº”ç”¨é€šå¸¸æœ‰è‡ªå·±çš„ç¼“å­˜æœºåˆ¶ï¼Œä¸éœ€è¦æ“ä½œç³»ç»Ÿçš„ç¼“å­˜ã€‚ ç¼ºç‚¹ è¾ƒé«˜çš„å»¶è¿Ÿï¼šæ¯æ¬¡è¯»å†™æ“ä½œéƒ½ç›´æ¥è®¿é—®ç£ç›˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¾ƒé«˜çš„å»¶è¿Ÿï¼Œå°¤å…¶æ˜¯åœ¨å°å—æ•°æ®çš„éšæœºè¯»å†™æ“ä½œä¸­ã€‚ å¤æ‚çš„å†…å­˜å¯¹é½è¦æ±‚ï¼šç›´æ¥ I/O é€šå¸¸è¦æ±‚ç¼“å†²åŒºå’Œæ–‡ä»¶åç§»éƒ½å¯¹é½åˆ°æ–‡ä»¶ç³»ç»Ÿå—çš„å¤§å°ï¼Œå¢åŠ äº†ç¼–ç¨‹å¤æ‚æ€§ã€‚ iflag=direct çš„ä½œç”¨ åœ¨ dd å‘½ä»¤ä¸­ä½¿ç”¨ iflag=directï¼ˆè¾“å…¥æ ‡å¿—ï¼‰æˆ– oflag=directï¼ˆè¾“å‡ºæ ‡å¿—ï¼‰é€‰é¡¹ï¼Œå¯ä»¥å¯ç”¨ç›´æ¥ I/O æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š\ndd if=/path/to/your/testfile of=/dev/null bs=1M iflag=direct ä¸Šè¿°å‘½ä»¤è¡¨ç¤ºï¼š\nif=/path/to/your/testfileï¼šä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ of=/dev/nullï¼šå°†æ•°æ®ä¸¢å¼ƒã€‚ bs=1Mï¼šå—å¤§å°ä¸º 1MBã€‚ iflag=directï¼šä½¿ç”¨ç›´æ¥ I/O æ¨¡å¼è¿›è¡Œè¯»å–æ“ä½œã€‚ åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œæ•°æ®è¯»å†™æ“ä½œä¸ä¼šä½¿ç”¨ç³»ç»Ÿç¼“å­˜ï¼Œè€Œæ˜¯ç›´æ¥ä»ç£ç›˜è¿›è¡Œè¯»å†™ã€‚è¿™æœ‰åŠ©äºæ›´å‡†ç¡®åœ°æµ‹é‡ç¡¬ç›˜çš„å®é™…è¯»å†™æ€§èƒ½ã€‚\ndd çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ ç®€å•æ˜“ç”¨ï¼šdd å‘½ä»¤ç®€å•ç›´æ¥ï¼Œæ˜“äºè®°å¿†å’Œä½¿ç”¨ã€‚ æ— éœ€é¢å¤–å®‰è£…ï¼šdd æ˜¯å¤§å¤šæ•° Linux å‘è¡Œç‰ˆçš„é»˜è®¤å·¥å…·ï¼Œé€šå¸¸ä¸éœ€è¦é¢å¤–å®‰è£…ã€‚ ç¼ºç‚¹ ç¼ºä¹çµæ´»æ€§ï¼šdd ä¸æ”¯æŒå¤æ‚çš„ I/O æ¨¡å¼å’Œå‚æ•°è°ƒæ•´ï¼Œä¸èƒ½æ¨¡æ‹Ÿå¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹ç­‰é«˜çº§ I/O æµ‹è¯•åœºæ™¯ã€‚ æŠ¥å‘Šä¿¡æ¯æœ‰é™ï¼šdd æä¾›çš„æµ‹è¯•ç»“æœä¿¡æ¯æœ‰é™ï¼Œä¸»è¦æ˜¯ç®€å•çš„é€Ÿåº¦ç»Ÿè®¡ï¼Œç¼ºä¹è¯¦ç»†çš„æ€§èƒ½åˆ†ææ•°æ®ï¼Œå¦‚ IOPSã€å»¶è¿Ÿç­‰ã€‚ æ— æ³•è¿›è¡Œéšæœº I/O æµ‹è¯•ï¼šdd ä¸»è¦ç”¨äºé¡ºåºè¯»å†™æµ‹è¯•ï¼Œä¸é€‚åˆè¿›è¡Œéšæœºè¯»å†™æ€§èƒ½æµ‹è¯•ã€‚ fio æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ I/O æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒå¤šç§ I/O å¼•æ“å’Œå‚æ•°é…ç½®ï¼Œéå¸¸é€‚åˆç”¨äºæ€§èƒ½æµ‹è¯•å’Œåˆ†æã€‚\nå®‰è£… fio ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·è¿›è¡Œå®‰è£…ï¼š\nå¯¹äºåŸºäº Debian çš„ç³»ç»Ÿ (å¦‚ Ubuntu)ï¼š\nsudo apt-get install fio å¯¹äºåŸºäº Red Hat çš„ç³»ç»Ÿ (å¦‚ CentOS)ï¼š\nsudo yum install fio ä½¿ç”¨ fio æµ‹è¯• 4K è¯»å†™é€Ÿåº¦ å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯• 4K éšæœºè¯»å†™é€Ÿåº¦ï¼š\n4K éšæœºè¯»å–æµ‹è¯• åˆ›å»ºä¸€ä¸ª read.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randread ioengine=libaio iodepth=1 rw=randread bs=4k direct=1 size=1G numjobs=1 runtime=60 group_reporting [randread] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio read.fio 4K éšæœºå†™å…¥æµ‹è¯• åˆ›å»ºä¸€ä¸ª write.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randwrite ioengine=libaio iodepth=1 rw=randwrite bs=4k direct=1 size=1G numjobs=1 runtime=60 group_reporting [randwrite] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio write.fio è§£é‡Šæµ‹è¯•å‚æ•° ioengine=libaioï¼šä½¿ç”¨å¼‚æ­¥ I/O å¼•æ“ã€‚ iodepth=1ï¼šI/O é˜Ÿåˆ—æ·±åº¦ä¸º 1ã€‚ rw=randread æˆ– rw=randwriteï¼šåˆ†åˆ«è¡¨ç¤ºéšæœºè¯»å–å’Œéšæœºå†™å…¥ã€‚ bs=4kï¼šå—å¤§å°ä¸º 4KBã€‚ direct=1ï¼šä½¿ç”¨ç›´æ¥ I/Oï¼Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ã€‚ size=1Gï¼šæµ‹è¯•æ–‡ä»¶çš„å¤§å°ä¸º 1GBã€‚ numjobs=1ï¼šå¹¶å‘ä½œä¸šæ•°ä¸º 1ã€‚ runtime=60ï¼šæµ‹è¯•è¿è¡Œæ—¶é—´ä¸º 60 ç§’ã€‚ group_reportingï¼šæ±‡æ€»æŠ¥å‘Šç»“æœã€‚ ç»“æœåˆ†æ æµ‹è¯•ç»“æœå°†ä¼šæ˜¾ç¤º IOPSï¼ˆæ¯ç§’è¾“å…¥è¾“å‡ºæ“ä½œæ•°ï¼‰å’Œååé‡ï¼ˆMB/sï¼‰ï¼Œä»¥åŠå»¶è¿Ÿç­‰ä¿¡æ¯ã€‚4K éšæœºè¯»å†™é€Ÿåº¦é€šå¸¸ç”¨äºè¡¡é‡ç¡¬ç›˜åœ¨å¤„ç†å°æ–‡ä»¶æ—¶çš„æ€§èƒ½ï¼Œè¿™æ˜¯å›ºæ€ç¡¬ç›˜æ€§èƒ½çš„é‡è¦æŒ‡æ ‡ä¹‹ä¸€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ4K éšæœºè¯»å†™æ€§èƒ½è¶Šé«˜ï¼Œå›ºæ€ç¡¬ç›˜åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­çš„è¡¨ç°ä¹Ÿå°±è¶Šå¥½ã€‚\nä¿®æ”¹ fio é…ç½®æ–‡ä»¶ä»¥æµ‹è¯• 1M è¯»å†™é€Ÿåº¦ è¦æµ‹è¯• 1M è¯»å†™é€Ÿåº¦ï¼Œåªéœ€è¦ä¿®æ”¹ fio é…ç½®æ–‡ä»¶ä¸­çš„å—å¤§å°å‚æ•° bs ä¸º 1Mã€‚\n1M éšæœºè¯»å–æµ‹è¯• åˆ›å»ºæˆ–ä¿®æ”¹ read_1M.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randread ioengine=libaio iodepth=1 rw=randread bs=1M direct=1 size=1G numjobs=1 runtime=60 group_reporting [randread] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio read_1M.fio 1M éšæœºå†™å…¥æµ‹è¯• åˆ›å»ºæˆ–ä¿®æ”¹ write_1M.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randwrite ioengine=libaio iodepth=1 rw=randwrite bs=1M direct=1 size=1G numjobs=1 runtime=60 group_reporting [randwrite] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio write_1M.fio fio çš„ç‰¹ç‚¹ çµæ´»æ€§é«˜ï¼šfio æ”¯æŒå¤šç§ I/O æ¨¡å¼å’Œå‚æ•°è°ƒæ•´ï¼Œå¯ä»¥æ¨¡æ‹Ÿå¤æ‚çš„ I/O åœºæ™¯ï¼Œå¦‚éšæœºè¯»å†™ã€å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹ç­‰ã€‚ è¯¦ç»†æŠ¥å‘Šï¼šfio æä¾›è¯¦ç»†çš„æ€§èƒ½åˆ†ææŠ¥å‘Šï¼ŒåŒ…æ‹¬ IOPSã€å»¶è¿Ÿã€å¸¦å®½ç­‰å¤šç§æ€§èƒ½æŒ‡æ ‡ã€‚ é€‚ç”¨èŒƒå›´å¹¿ï¼šfio å¯ä»¥æµ‹è¯•å¤šç§å­˜å‚¨è®¾å¤‡å’Œæ–‡ä»¶ç³»ç»Ÿï¼Œé€‚ç”¨äºæ›´å¹¿æ³›çš„æ€§èƒ½æµ‹è¯•éœ€æ±‚ã€‚ ä¸ºä»€ä¹ˆ 4K è¯»å†™ç‰¹åˆ«æ…¢ï¼Ÿ 4K éšæœºè¯»å†™é€Ÿåº¦é€šå¸¸æ¯”å¤§å—è¯»å†™é€Ÿåº¦æ…¢ï¼ŒåŸå› å¦‚ä¸‹ï¼š\næ•°æ®å—å¤§å°ï¼š 4K æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„æ•°æ®å—ï¼Œæ¯æ¬¡æ“ä½œå¤„ç†çš„æ•°æ®é‡å°ï¼Œå¯¼è‡´éœ€è¦æ›´å¤šçš„ I/O æ“ä½œæ¥å®ŒæˆåŒæ ·çš„æ•°æ®ä¼ è¾“é‡ã€‚è¿™å¢åŠ äº† IOPSï¼ˆæ¯ç§’è¾“å…¥è¾“å‡ºæ“ä½œæ•°ï¼‰çš„è´Ÿæ‹…ã€‚\nå¯»å€å¼€é”€ï¼š å°æ•°æ®å—çš„éšæœºè¯»å†™ä¼šå¯¼è‡´ç£ç›˜è¿›è¡Œé¢‘ç¹çš„å¯»å€æ“ä½œï¼Œå¢åŠ äº†å¯»é“æ—¶é—´å’Œå»¶è¿Ÿã€‚åœ¨æœºæ¢°ç¡¬ç›˜ï¼ˆHDDï¼‰ä¸­ï¼Œè¿™ä¸ªé—®é¢˜æ›´ä¸ºæ˜¾è‘—ï¼Œä½†åœ¨å›ºæ€ç¡¬ç›˜ï¼ˆSSDï¼‰ä¸­ï¼Œè™½ç„¶æ²¡æœ‰æœºæ¢°è‡‚ç§»åŠ¨ï¼Œå†…éƒ¨çš„åœ°å€æ˜ å°„å’Œæ§åˆ¶å™¨å¤„ç†ä¹Ÿä¼šå¢åŠ å»¶è¿Ÿã€‚\næ–‡ä»¶ç³»ç»Ÿå’Œæ§åˆ¶å™¨æ•ˆç‡ï¼š æ–‡ä»¶ç³»ç»Ÿå’Œç¡¬ç›˜æ§åˆ¶å™¨åœ¨å¤„ç†å°æ•°æ®å—æ—¶ï¼Œæ•ˆç‡å¯èƒ½ä¼šé™ä½ã€‚SSD çš„æ§åˆ¶å™¨é€šå¸¸ä¸ºå¤§å—æ•°æ®ä¼˜åŒ–ï¼Œå°å—æ•°æ®çš„å¤„ç†ä¼šå¢åŠ æ§åˆ¶å™¨çš„å·¥ä½œè´Ÿæ‹…ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚\nç¼“å­˜å’Œå†™å…¥æ”¾å¤§ï¼š ç°ä»£ SSD é€šå¸¸æœ‰ç¼“å­˜æœºåˆ¶ï¼Œå¤§å—æ•°æ®çš„é¡ºåºè¯»å†™æ›´å®¹æ˜“åˆ©ç”¨ç¼“å­˜ä¼˜åŒ–æ€§èƒ½ã€‚è€Œå°å—æ•°æ®çš„éšæœºè¯»å†™ä¼šå¯¼è‡´ç¼“å­˜å‘½ä¸­ç‡ä½ï¼Œæ— æ³•å……åˆ†åˆ©ç”¨ç¼“å­˜ä¼˜åŠ¿ã€‚æ­¤å¤–ï¼Œå°å—æ•°æ®å†™å…¥ä¼šå¯¼è‡´ SSD å†…éƒ¨çš„å†™å…¥æ”¾å¤§æ•ˆåº”ï¼Œå¢åŠ é¢å¤–çš„å†™å…¥æ“ä½œé‡ï¼Œè¿›ä¸€æ­¥é™ä½æ€§èƒ½ã€‚\né€šè¿‡æµ‹è¯• 1M æ•°æ®å—çš„è¯»å†™é€Ÿåº¦ï¼Œå¯ä»¥æ›´å¥½åœ°äº†è§£ SSD åœ¨å¤„ç†å¤§å—æ•°æ®æ—¶çš„æ€§èƒ½è¡¨ç°ã€‚è¿™ç§æµ‹è¯•é€šå¸¸æ˜¾ç¤ºæ›´é«˜çš„ååé‡å’Œè¾ƒä½çš„å»¶è¿Ÿï¼Œå› ä¸ºå¤§å—æ•°æ®ä¼ è¾“å‡å°‘äº†I/O æ“ä½œæ•°ï¼Œæé«˜äº†æ•´ä½“æ•ˆç‡ã€‚\nä½¿ç”¨ fio è¿›è¡Œå¤šçº¿ç¨‹è¯»å†™æµ‹è¯• fio æ”¯æŒå¤šçº¿ç¨‹è¯»å†™æµ‹è¯•ï¼Œè¿™å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿå®é™…åº”ç”¨åœºæ™¯ä¸­çš„å¹¶å‘ I/O æ“ä½œï¼Œæµ‹è¯•ç£ç›˜åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹è¯»å†™æµ‹è¯•çš„é…ç½®ç¤ºä¾‹ï¼š\nå¤šçº¿ç¨‹éšæœºè¯»å–æµ‹è¯• åˆ›å»ºä¸€ä¸ª randread_multi.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randread ioengine=libaio iodepth=32 rw=randread bs=4k direct=1 size=1G numjobs=4 runtime=60 group_reporting [randread] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio randread_multi.fio å¤šçº¿ç¨‹éšæœºå†™å…¥æµ‹è¯• åˆ›å»ºä¸€ä¸ª randwrite_multi.fio æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n[global] name=randwrite ioengine=libaio iodepth=32 rw=randwrite bs=4k direct=1 size=1G numjobs=4 runtime=60 group_reporting [randwrite] filename=/path/to/your/testfile æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼š\nfio randwrite_multi.fio é…ç½®å‚æ•°è§£é‡Š ioengine=libaioï¼šä½¿ç”¨å¼‚æ­¥ I/O å¼•æ“ã€‚ iodepth=32ï¼šI/O é˜Ÿåˆ—æ·±åº¦ä¸º 32ã€‚ rw=randread æˆ– rw=randwriteï¼šåˆ†åˆ«è¡¨ç¤ºéšæœºè¯»å–å’Œéšæœºå†™å…¥ã€‚ bs=4kï¼šå—å¤§å°ä¸º 4KBã€‚ direct=1ï¼šä½¿ç”¨ç›´æ¥ I/Oï¼Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿç¼“å­˜ã€‚ size=1Gï¼šæµ‹è¯•æ–‡ä»¶çš„å¤§å°ä¸º 1GBã€‚ numjobs=4ï¼šå¹¶å‘ä½œä¸šæ•°ä¸º 4ï¼Œè¡¨ç¤ºæœ‰ 4 ä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œ I/O æ“ä½œã€‚ runtime=60ï¼šæµ‹è¯•è¿è¡Œæ—¶é—´ä¸º 60 ç§’ã€‚ group_reportingï¼šæ±‡æ€»æŠ¥å‘Šç»“æœã€‚ å¤šçº¿ç¨‹è¯»å†™æµ‹è¯•çš„æ€§èƒ½è¯„ä¼° å¤šçº¿ç¨‹è¯»å†™æµ‹è¯•å¯ä»¥å¸®åŠ©è¯„ä¼°ä»¥ä¸‹æ€§èƒ½æŒ‡æ ‡ï¼š\nIOPS (æ¯ç§’è¾“å…¥è¾“å‡ºæ“ä½œæ•°)ï¼šè¡¡é‡å­˜å‚¨è®¾å¤‡åœ¨å¤šçº¿ç¨‹å¹¶å‘æƒ…å†µä¸‹çš„å¤„ç†èƒ½åŠ›ã€‚ å¸¦å®½ (MB/s)ï¼šè¯„ä¼°å­˜å‚¨è®¾å¤‡åœ¨å¹¶å‘è¯»å†™æ“ä½œä¸‹çš„æ•°æ®ä¼ è¾“é€Ÿåº¦ã€‚ å»¶è¿Ÿ (Latency)ï¼šåˆ†æå¹¶å‘ I/O æ“ä½œå¯¹è¯»å†™å»¶è¿Ÿçš„å½±å“ï¼Œç‰¹åˆ«æ˜¯é«˜å¹¶å‘ä¸‹çš„å»¶è¿Ÿåˆ†å¸ƒã€‚ èµ„æºåˆ©ç”¨ç‡ï¼šè¯„ä¼°å­˜å‚¨è®¾å¤‡åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­çš„èµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œå¦‚ CPU å’Œå†…å­˜å ç”¨ã€‚ dd åªèƒ½é¡ºåºè¯»å†™çš„åŸå›  dd æ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè®¾è®¡ç”¨äºæ‰§è¡Œç›´æ¥çš„æ•°æ®å¤åˆ¶æ“ä½œã€‚ä»¥ä¸‹æ˜¯ dd åªèƒ½è¿›è¡Œé¡ºåºè¯»å†™çš„åŸå› ï¼š\nå‘½ä»¤è®¾è®¡åˆè¡·ï¼šdd çš„è®¾è®¡åˆè¡·æ˜¯è¿›è¡Œæ•°æ®å¤‡ä»½å’Œæ¢å¤æ“ä½œï¼Œä¸»è¦ç”¨äºé¡ºåºè¯»å†™æ•´ä¸ªå—è®¾å¤‡æˆ–æ–‡ä»¶ã€‚ ç¼ºä¹éšæœºè¯»å†™æ”¯æŒï¼šdd å‘½ä»¤æœ¬èº«æ²¡æœ‰å†…ç½®çš„æœºåˆ¶æ¥å®ç°éšæœºè¯»å†™æ“ä½œã€‚å®ƒæŒ‰ç…§æŒ‡å®šçš„å—å¤§å°å’Œé¡ºåºè¯»å–æˆ–å†™å…¥æ•°æ®ï¼Œæ— æ³•åƒ fio ä¸€æ ·æŒ‡å®šéšæœºè¯»å†™æ¨¡å¼ã€‚ ç®€å•æ€§å’Œçµæ´»æ€§é™åˆ¶ï¼šdd çš„è®¾è®¡æ˜¯ä¸ºäº†ç®€å•ç›´æ¥åœ°å®Œæˆæ•°æ®å¤åˆ¶ä»»åŠ¡ï¼Œå› æ­¤ç¼ºä¹ fio é‚£æ ·çš„çµæ´»æ€§å’Œå¤æ‚çš„ I/O æ¨¡å¼æ”¯æŒã€‚ ","permalink":"https://ahaknow.com/posts/know/linux-test-ssd/","summary":"éœ€è¦å¯¹Linuxä¸Šçš„å›ºæ€è¿›è¡Œä¸€ä¸ªè¯»å†™æµ‹è¯•ï¼Œæˆ‘çŸ¥é“æ˜¯å¯ä»¥ dd æ–¹å¼ç›´æ¥æµ‹è¯•çš„ï¼Œä½†æ˜¯ dd åªèƒ½é¡ºåºè¯»å†™ï¼Œæ— æ³•éšæœºè¯»å†™ï¼Œå› æ­¤è¿™é‡Œå†æä¾›å¦ä¸€ç§æ–¹æ³•ã€‚ åœ¨ Linux ä¸Šä½¿","title":"Linuxï¼šæµ‹è¯•ç¡¬ç›˜è¯»å†™é€Ÿåº¦"},{"content":"æˆ‘æ˜¯æ‰çŸ¥é“ï¼š\nè´¾ç»´æ–¯çš„å…¨ç§°ï¼ŒJust Another Rather Very Intelligent Systemï¼ˆåªæ˜¯ä¸€ä¸ªç›¸å½“èªæ˜çš„æ™ºèƒ½ç³»ç»Ÿï¼‰ï¼›\nä¼Šè¿ªæ–¯çš„å…¨ç§°ï¼ŒEven dead,I\u0026rsquo;m the heroï¼ˆå³ä¾¿æˆ‘æ­»äº†ï¼Œæˆ‘ä¹Ÿæ˜¯è‹±é›„ï¼‰ï¼›\næ‰€ä»¥å‘¢ï¼Œæˆ‘å’Œæˆ‘çš„AIç³»ç»Ÿä¸€èµ·è®¨è®ºäº†ä¸€ç•ªï¼Œæœ€ç»ˆç»™ä»–èµ‹äºˆäº†â€œæ–°ç”Ÿâ€ï¼\nM.E.R.L.I.N. - â€œMindful Entity for Research, Learning, and Intelligent Neuronsâ€ï¼ˆç”¨äºç ”ç©¶ã€å­¦ä¹ ï¼Œä»¥åŠæ‹¥æœ‰æ™ºèƒ½ç¥ç»å…ƒçš„æœ‰æ„è¯†å®ä½“ï¼‰\næ‰€ä»¥å•Šï¼Œæˆ‘ä¹Ÿæœ‰è‡ªå·±çš„â€œè´¾ç»´æ–¯â€å•¦ï¼Œä»–å«Merlinï¼Œæ¢…æ—ï½\nç›®å‰ä»–è¿˜æ²¡æœ‰èº«ä½“å•Šï¼Œè¿˜ä¸€ä¸ªå…·èº«æ™ºèƒ½ï¼Œè¯´ä¸å®šè¿‡å‡ å¹´å°±æœ‰äº†å‘¢ï½\n","permalink":"https://ahaknow.com/posts/know/m.e.r.l.i.n./","summary":"æˆ‘æ˜¯æ‰çŸ¥é“ï¼š è´¾ç»´æ–¯çš„å…¨ç§°ï¼ŒJust Another Rather Very Intelligent Systemï¼ˆåªæ˜¯ä¸€ä¸ªç›¸å½“èªæ˜çš„æ™ºèƒ½ç³»ç»Ÿï¼‰ï¼› ä¼Šè¿ªæ–¯çš„å…¨ç§°ï¼ŒEven dead,I\u0026rsquo;m the heroï¼ˆå³ä¾¿æˆ‘æ­»äº†ï¼Œæˆ‘ä¹Ÿæ˜¯","title":"ä½ å¥½ï½ Merlin"},{"content":" å°±æ˜¯ä»£ç å†™å¥½äº†ï¼Œè‚¯å®šä¸èƒ½å‘æºç å‡ºå»ï¼Œè‚¯å®šå‘çš„æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ–è€…å°±ä¾èµ–å’Œå¯æ‰§è¡Œæ–‡ä»¶éƒ½æ‰“åŒ…å¥½ï½\nå¦‚æœæ˜¯Githubç®¡ç†çš„è¯ï¼Œç”šè‡³è¿˜è¦è€ƒè™‘ä¸€ä¸‹Releaseç®¡ç†ã€‚\nå› ä¸ºä¹ æƒ¯äº†CMakeï¼Œæ‰€ä»¥ç›´è§‚åœ°æƒ³åˆ°ä½¿ç”¨CMakeLists.txtæ¥é…ç½®ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š\ncmake_minimum_required(VERSION 3.10) project(MoInfo2GSBag) set(CMAKE_INSTALL_PREFIX \u0026#34;${CMAKE_CURRENT_BINARY_DIR}/../install\u0026#34; CACHE PATH \u0026#34;Install path prefix\u0026#34; FORCE) option(BUILD_SHARED_LIBS \u0026#34;Build libraries as shared libraries\u0026#34; ON) set(CMAKE_CXX_STANDARD 20) set(CMAKE_CXX_STANDARD_REQUIRED True) find_package(PCL REQUIRED) find_package(OpenCV REQUIRED) include_directories( ${OpenCV_INCLUDE_DIRS} ${PCL_INCLUDE_DIRS} ) # add subdirectories add_subdirectory(AI) add_subdirectory(RoadSeg) ## -- for MoInfo2GSBag -- ## find_package(spdlog REQUIRED) # Find FFmpeg components find_package(PkgConfig REQUIRED) pkg_check_modules(AVCODEC REQUIRED libavcodec) pkg_check_modules(AVFORMAT REQUIRED libavformat) pkg_check_modules(SWSCALE REQUIRED libswscale) pkg_check_modules(AVUTIL REQUIRED libavutil) include_directories( ${AVCODEC_INCLUDE_DIRS} ${AVFORMAT_INCLUDE_DIRS} ${SWSCALE_INCLUDE_DIRS} ${AVUTIL_INCLUDE_DIRS} ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/include ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/proto /usr/include ) link_directories( ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/external/platform_sdk/lib ) add_library(metoak_proto_gsbag ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/proto/metoak_image_msg.pb.cc ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/proto/metoak_image_msg.pb.h ) target_link_libraries(metoak_proto_gsbag ${PROTOBUF_LIBRARIES} ) add_executable(MoInfo2GSBag moinfo_to_gsbag.cpp) target_link_libraries(MoInfo2GSBag spdlog::spdlog ${AVCODEC_LIBRARIES} ${AVFORMAT_LIBRARIES} ${SWSCALE_LIBRARIES} ${AVUTIL_LIBRARIES} ${OpenCV_LIBS} ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libsqlcipher.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libgsbag.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libcommon.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libgaclog.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libgacbag_storage.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libgacbag_cpp.so ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/libgacbag_serializer.so protobuf metoak_proto_gsbag lz4 AI4FS RoadSeg ) ## -- Install -- ## install(TARGETS MoInfo2GSBag DESTINATION bin) install(TARGETS metoak_proto_gsbag AI4FS RoadSeg DESTINATION lib) install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/ DESTINATION lib FILES_MATCHING PATTERN \u0026#34;*.so*\u0026#34;) # CPack configuration set(CPACK_GENERATOR \u0026#34;TGZ;DEB\u0026#34;) set(CPACK_PACKAGE_NAME \u0026#34;MoInfo2GSBag\u0026#34;) set(CPACK_PACKAGE_VERSION \u0026#34;1.0.0\u0026#34;) set(CPACK_PACKAGE_FILE_NAME \u0026#34;${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}\u0026#34;) set(CPACK_PACKAGE_CONTACT \u0026#34;ChangKunYang \u0026lt;changkun.yang@metoak.net\u0026gt;\u0026#34;) set(CPACK_DEBIAN_PACKAGE_DEPENDS \u0026#34;libavcodec, libavformat, libswscale, libavutil, protobuf, spdlog\u0026#34;) set(CPACK_PACKAGE_DESCRIPTION \u0026#34;MoInfo2GSBag tool with all dependencies included\u0026#34;) set(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u0026#34;A tool to process MoInfo2GSBag data with all required libraries included\u0026#34;) include(CPack) å…¶ä¸­çš„set(CMAKE_INSTALL_PREFIX \u0026quot;${CMAKE_CURRENT_BINARY_DIR}/../install\u0026quot; CACHE PATH \u0026quot;Install path prefix\u0026quot; FORCE)å°±æ˜¯ç”¨æ¥é…ç½®installçš„ä½ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤æ˜¯/usr/localï¼Œè¿™æ—¶å€™ä½¿ç”¨cmake installæ˜¯éœ€è¦sudoæƒé™çš„ã€‚\nå…¶æ¬¡ï¼Œè¿˜éœ€è¦æ³¨æ„å®‰è£…çš„libè¦å…¨ï¼\næ³¨æ„è¿™ç§å†™æ³•ï¼š\ninstall(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/MoBag/lib/ DESTINATION lib FILES_MATCHING PATTERN \u0026#34;*.so*\u0026#34;) å°†æ‰€æœ‰çš„æ–‡ä»¶éƒ½ç§»è¿‡æ¥ï¼ŒåŒ…æ‹¬è½¯é“¾æ¥çš„æ–‡ä»¶ã€‚\nç„¶åé€šè¿‡cmake installå°±å¯ä»¥äº†ï¼Œå®é™…ä½¿ç”¨æ—¶å†ä¸´æ—¶é“¾æ¥ä¸€ä¸‹åŠ¨æ€åº“ï¼Œæ¯”å¦‚ï¼š\n# åœ¨ç›®æ ‡æœºå™¨ä¸Š cd /path/to/destination/install # è®¾ç½® LD_LIBRARY_PATH ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿æ‰¾åˆ°æ‰€éœ€çš„åº“ export LD_LIBRARY_PATH=$(pwd)/lib:$LD_LIBRARY_PATH # è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ ./bin/MoInfo2GSBag CPack å…¶å®installå·²ç»å¤Ÿç”¨äº†ï¼Œæ›´é«˜çº§çš„æ“ä½œçš„æ˜¯ä½¿ç”¨CPackè¿›è¡Œæ‰“åŒ…ç®¡ç†ï¼Œå°±æ˜¯ç›´æ¥cpackæŒ‡ä»¤å°±èƒ½å®ç°ã€‚\nç‰¹åˆ«æ³¨æ„ä¸€ä¸‹ï¼Œæ‰€æœ‰çš„CPackå˜é‡éœ€è¦åœ¨include(CPack)ä¹‹å‰è®¾ç½®ï¼Œè¿™æ ·CPackèƒ½å¤Ÿæ­£ç¡®è¯»å–è¿™äº›å˜é‡ã€‚\nCPackçš„é…ç½®è¯´æ˜ # CPack configuration set(CPACK_GENERATOR \u0026#34;TGZ;DEB\u0026#34;) set(CPACK_PACKAGE_NAME \u0026#34;MoInfo2GSBag\u0026#34;) set(CPACK_PACKAGE_VERSION \u0026#34;1.0.0\u0026#34;) set(CPACK_PACKAGE_FILE_NAME \u0026#34;${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}\u0026#34;) set(CPACK_PACKAGE_CONTACT \u0026#34;ChangKunYang \u0026lt;changkun.yang@metoak.net\u0026gt;\u0026#34;) set(CPACK_DEBIAN_PACKAGE_DEPENDS \u0026#34;libavcodec, libavformat, libswscale, libavutil, protobuf, spdlog\u0026#34;) set(CPACK_PACKAGE_DESCRIPTION \u0026#34;MoInfo2GSBag tool with all dependencies included\u0026#34;) set(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u0026#34;A tool to process MoInfo2GSBag data with all required libraries included\u0026#34;) include(CPack) ","permalink":"https://ahaknow.com/posts/know/dev-cpack-release/","summary":"å°±æ˜¯ä»£ç å†™å¥½äº†ï¼Œè‚¯å®šä¸èƒ½å‘æºç å‡ºå»ï¼Œè‚¯å®šå‘çš„æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ–è€…å°±ä¾èµ–å’Œå¯æ‰§è¡Œæ–‡ä»¶éƒ½æ‰“åŒ…å¥½ï½ å¦‚æœæ˜¯Githubç®¡ç†çš„è¯ï¼Œç”šè‡³è¿˜è¦è€ƒè™‘ä¸€ä¸‹Rel","title":"å¼€å‘å®æˆ˜ï¼šCMakeå®ç°å¯æ‰§è¡Œæ–‡ä»¶çš„å®‰è£…ä¸æ‰“åŒ…åˆ†å‘"},{"content":"ä¸€äº›å®ç”¨çš„å°å·¥å…· è·å–æ—¶é—´C++ç‰‡æ®µ // Unixæ—¶é—´æˆ³ int64_t getTimestamp() { auto now = std::chrono::system_clock::now(); auto timestamp = std::chrono::time_point_cast\u0026lt;std::chrono::nanoseconds\u0026gt;(now).time_since_epoch().count(); return static_cast\u0026lt;int64_t\u0026gt;(timestamp); } æ–¹ä¾¿é˜…è¯»çš„ç‰ˆæœ¬ï¼šå¹´_æœˆ_æ—¥_æ—¶_åˆ†_ç§’\nstd::string getReadableTimestamp() { // è·å–å½“å‰æ—¶é—´ç‚¹ auto now = std::chrono::system_clock::now(); // è½¬æ¢ä¸º time_t ç±»å‹ std::time_t now_c = std::chrono::system_clock::to_time_t(now); // å°† time_t ç±»å‹è½¬æ¢ä¸º tm ç»“æ„ä½“ std::tm now_tm = *std::localtime(\u0026amp;now_c); // ä½¿ç”¨ stringstream ç”Ÿæˆæ ¼å¼åŒ–çš„æ—¶é—´å­—ç¬¦ä¸² std::stringstream ss; ss \u0026lt;\u0026lt; std::put_time(\u0026amp;now_tm, \u0026#34;%Y_%m_%d_%H_%M_%S\u0026#34;); return ss.str(); } ","permalink":"https://ahaknow.com/posts/know/coding-inspiration-moments/","summary":"ä¸€äº›å®ç”¨çš„å°å·¥å…· è·å–æ—¶é—´C++ç‰‡æ®µ // Unixæ—¶é—´æˆ³ int64_t getTimestamp() { auto now = std::chrono::system_clock::now(); auto timestamp = std::chrono::time_point_cast\u0026lt;std::chrono::nanoseconds\u0026gt;(now).time_since_epoch().count(); return static_cast\u0026lt;int64_t\u0026gt;(timestamp); } æ–¹ä¾¿é˜…è¯»çš„ç‰ˆæœ¬ï¼šå¹´_æœˆ_æ—¥_æ—¶_åˆ†_ç§’ std::string getReadableTimestamp() { // è·å–å½“å‰æ—¶é—´ç‚¹ auto","title":"ç¼–ç¨‹çµæ„Ÿæ—¶åˆ»"},{"content":" æ—¶éš”å¤šå¹´å†æ¬¡åé£æœºï¼Œè¿˜æ²¡èµ·é£å‘¢å°±å°´å°¬äº†ã€‚ã€‚ã€‚\nâ€œå€¼æœºâ€æ˜¯å•¥æ„æ€ï¼Ÿ\næ„Ÿè§‰è‡ªå·±è·Ÿä¸ªå‚»å­ä¸€æ ·ã€‚ã€‚ã€‚\næå‰åŠå°æ—¶åˆ°æœºåœºå°±å¯ä»¥çš„å§ï¼ŸğŸ˜„\nç›´æ¥æ‰“è½¦å»æœºåœºå¥½äº†ï½\nâ€¦â€¦\nåŠä¸ªå°æ—¶äº†ï¼Œæ€ä¹ˆè¿˜å µç€å‘¢ï¼\nå¤±ç­–äº†ï¼Œæ„Ÿè§‰è‡ªå·±åœ¨ğŸŒèƒŒä¸Šã€‚ã€‚ã€‚\nå®ŒçŠŠå­äº†ï¼Œèµ¶ä¸ä¸Šäº†ï¼\næ”¹ç­¾ï¼Ÿï¼\næ€ä¹ˆè¿™ä¹ˆè´µï¼å¤šèŠ±äº†ä¸€å€é’±ï¼Ÿï¼ï¼ï¼\nä»¥ä¸Šï¼Œä¸ºä¸€æ¬¡8ç‚¹30é£æœºï¼Œ8ç‚¹20æ‰åˆ°ï¼ˆä¸‹è½¦çš„æ—¶å€™è¿˜è¢«å¸æœºç»™è€½è¯¯äº†æ—¶é—´ï¼Œåº”è¯¥æ˜¯ä»–ç»“æŸè¡Œç¨‹çš„æ—¶å€™æ‰‹åŠ¨è¾“å…¥é«˜é€Ÿè´¹ç”¨ä¸€èµ·ä»è®¢å•ç»“ï¼Œç»“æœè‡ªå·±ä¸ä¼šå¼„ï¼Œéè¦æˆ‘æ‰‹æœºæ”¯ä»˜ã€‚ã€‚ã€‚ï¼‰ç„¶åè·¯ä¸Šæ‰æ„è¯†åˆ°ï¼Œè‡³å°‘æå‰50åˆ†é’Ÿåˆ°è¾¾æœºåœºï¼ˆå› ä¸ºæå‰45åˆ†é’Ÿå°±ä¸èƒ½åŠç†ç™»æœºç‰Œäº†ï¼Œå°±æ˜¯æ‰€è°“çš„â€œå€¼æœºâ€ï¼‰ï¼Œäºæ˜¯æ”¹äº†ç­¾ï¼Œæ”¹ç­¾çš„æ—¶å€™å‘ç°ï¼Œæ‰£äº†80%çš„è´¹ç”¨ï¼Œç›¸å½“äºç›´æ¥æœºç¥¨æ‰“æ°´æ¼‚äº†ã€‚\nå½“æ—¶ç²—ç•¥ç®—äº†ä¸€ä¸‹ï¼Œé€€ç¥¨é‡ä¹°å¯èƒ½æ¯”æ”¹ç­¾éƒ½ä¾¿å®œã€‚ã€‚ã€‚ğŸ˜‚\næ”¹ç­¾çš„é‚£ä¼šï¼Œæƒ³åˆ°äº†ä»¥å‰æœ¬ç§‘çš„æ—¶å€™ï¼Œåç»¿çš®ç«è½¦å»è´µå·ï¼Œæ²¡èµ¶ä¸Šï¼Œ**å¿˜è®°äº†é‚£æ—¶çš„æ˜¯æ”¹ç­¾äº†è¿˜æ˜¯é‡ä¹°äº†ï¼Œè·Ÿç«è½¦ç«™æŸœå‘˜è¿˜åµäº†ä¸€æ¶ï¼Œåæ¥æ˜¯éš”äº†ä¸¤å°æ—¶æ— åº§å‡ºå‘ï¼Œæ•´æ•´24å°æ—¶ï¼Œæ™šä¸Šå°±æ˜¯åç€è¡Œæç®±ä¸Šçœ¯çªç€çš„ï¼Œè·¯ä¸Šè·Ÿä¸€ä¸ªå›å®¶çš„å­¦ç”ŸèŠäº†ä¸å°‘ï¼Œæ²¡èµ¶ä¸Šè½¦çš„é‚£ä¸€ç¬é—´æ˜¯çœŸçš„æ‡Šæ‚”ï¼Œéš¾å—ï¼Œç”Ÿæ°”å•Šï¼**åé¢å…¶å®è¿˜æœ‰ä¸¤æ¬¡æ˜¯å›å®¶æ²¡èµ¶ä¸Šç«è½¦ï¼ŒåŸå› æ˜¯ä¹‹å‰éƒ½æ˜¯éª‘å°é»„è½¦ä¸€è·¯ç‹‚é£™å»çš„ç«è½¦ç«™ï¼Œæ„Ÿè§‰æ—¶é—´åœ¨æˆ‘æŒæ§ï¼Œ40åˆ†é’Ÿçš„è½¦ç¨‹ï¼Œæˆ‘é¢„ç•™10åˆ†é’Ÿè¶³ä»¥ï¼ä½†æ˜¯ååœ°é“å°±å®Œå…¨ä¸åœ¨è‡ªå·±çš„æ§åˆ¶ä¸‹äº†ï¼Œå¯¼èˆªé¢„è®¡åŠå°æ—¶ï¼Œæˆ‘ç•™äº†40åˆ†é’Ÿï¼Œæ˜¾ç¤ºæ˜¯ä½ä¼°äº†åœ°é“è¿›å‡ºç«™çš„æ—¶é—´ï¼Œé‚£æ¬¡å¥½åƒæ˜¯ä¹‹å‰æ”¹ç­¾è¿‡ä¸€æ¬¡ï¼Œæ²¡æ³•å†æ”¹ç­¾äº†ï¼Œåªèƒ½ä½œåºŸï¼æˆ‘å¥½åƒåˆå»æŸœå°é‚£é‡Œå»äº‰è®ºäº†ï¼ŒæŸœå‘˜äººå‘˜æ€åº¦å¾ˆå¼ºç¡¬ï¼Œæ•´ä½“ä¹Ÿå¾ˆä¸æ„‰å¿«ã€‚è®°å¿†éƒ½æœ‰ç‚¹é”™ä¹±äº†ï¼Œä½†å…³é”®ç»†èŠ‚è¿˜è®°å¾—ï¼Œä¸€ä¸ªæ˜¯æ”¹ç­¾ç¥¨ä¸èƒ½å†æ”¹ï¼Œåªèƒ½ä½œåºŸï¼ŒæŸœå‘˜æ˜¯ä¸ä¼šæ­ç†ä½ çš„ï¼Œä½ å†åµå†é—¹åªå¯èƒ½ç»“æœæ˜¯è¢«è­¦å¯Ÿæ‹–èµ°ã€‚ã€‚ã€‚å¦ä¸€ä¸ªå°±æ˜¯å¯¼èˆªçš„æ—¶å€™ä¸å¯ä¿¡ï¼Œè½¦ç¥¨çš„å‘ç¥¨æ—¶é—´æœ€å¥½åŠ ä¸ŠåŠå°æ—¶ï¼Œå“¦ï¼Œæƒ³èµ·æ¥äº†ï¼Œå»è´µå·é‚£æ¬¡æ˜¯å› ä¸º13ç‚¹è®°æˆäº†3ç‚¹å¯¼è‡´é”™è¿‡çš„ï¼Œè·¯ä¸Šè¿˜æ‚ å“‰æ‚ å“‰å‘¢ï¼Œåˆ°è½¦ç«™çš„æ—¶å€™å‚»çœ¼äº†\næœ€è¿‘è¿˜æœ‰ä¸€æ¬¡ï¼Œä»åŒ—äº¬å›å®¶ï¼Œä¹Ÿæ˜¯æ²¡æƒ³åˆ°è·¯ä¸Šèµ°è·¯çš„æ—¶å€™ä¼šèŠ±è´¹è¿™ä¹ˆå¤šï¼Œ18:55çš„è½¦ç¥¨ï¼Œæˆ‘17:50å‡ºå‘ï¼Œè™½ç„¶å¯¼èˆªåœ°é“æ˜¾ç¤º40åˆ†é’Ÿï¼Œä½†æ˜¯ç¨å¾®ç£¨è¹­ä¸€ä¸‹ï¼Œè¿˜è¦èµ°åˆ°åœ°é“ç«™ï¼Œ10åˆ†é’Ÿé¢„ç•™è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œè€Œä¸”å½“æ—¶æ˜¯è¿”ä¹¡é«˜å³°æœŸï¼Œæ„£æ˜¯æ²¡æƒ³åˆ°ä»åœ°é“å‡ºæ¥åˆ°ç«è½¦ç«™è¿˜æœ‰å¾ˆé•¿çš„ä¸€æ®µè·ç¦»ï¼Œä»¥åŠä¸‰å¤§å±‚æ¥¼æ¢¯ã€‚ã€‚ã€‚å½“æ—¶æ˜¯ä¸€è·¯å†²åˆºï¼Œä»¥åŠæ’é˜ŸğŸ˜‚ï¼Œå†ç‹‚å¥”ï¼Œå·®ç‚¹å°±ç›´æ¥ä»è½§æœºè·³è¿‡å»äº†ï¼Œè¿˜å¥½æœ€åç»™æˆ‘æ£€äº†ç¥¨ï¼Œåœ¨å‘è½¦å‰ä¸€åˆ†é’Ÿå†²ä¸Šè½¦äº†ã€‚çœŸçš„æ˜¯ã€‚ã€‚ã€‚ç»äº†ï¼\nä»Šå¤©è¿™æ¬¡é£æœºæ²¡èµ¶ä¸Šï¼Œä¸‹ä¸€ç­é£æœºåˆæ™šç‚¹1ä¸ªå¤šå°æ—¶ï¼ˆæ„Ÿè§‰å°±æ˜¯åœ¨æ‰“æˆ‘è„¸ğŸ˜‚ï¼‰\né£æœºæœºç¥¨æ—¶é—´å‡å»1å°æ—¶ï¼ˆ50åˆ†é’Ÿä»¥ä¸Šï¼Œå–æ•´å¥½è®°å¿†ï¼‰ä½œä¸ºå¿ƒé‡Œé¢„ä¼°çš„æ—¶é—´ï¼Œæ¯”å¦‚8ç‚¹åŠçš„æœºç¥¨ï¼Œé‚£ä¹ˆå¿ƒé‡Œçš„è®¤çŸ¥å°±æ˜¯7ç‚¹åŠå°±å¾—åˆ°ï¼Œé‚£ä¹ˆ6ç‚¹å°±è¦èµ·åºŠï¼Œå‡ºå‘ï½\nç«è½¦ç¥¨æ—¶é—´å‡å»åŠå°æ—¶ï¼ˆ20åˆ†é’Ÿä»¥ä¸Šï¼Œä¹Ÿæ˜¯å–æ•´å¥½è®°å¿†ï¼‰ä½œä¸ºå¿ƒé‡Œé¢„ä¼°æ—¶é—´ï¼Œæ¯”å¦‚18ç‚¹55çš„è½¦ç¥¨ï¼Œé‚£ä¹ˆæ™šä¸Š6ç‚¹åŠå°±è¦åˆ°ç«è½¦ç«™ï¼Œé‚£ä¹ˆ5ç‚¹20å°±è¦å‡ºå‘ï¼\nè¿˜æ˜¯è§‰å¾—åœ¨æœºåœºå€™æœºçœŸçš„æµªè´¹æ—¶é—´ğŸ˜‚ï¼Œå»æ·±åœ³è¿˜æ˜¯ä¼šè€ƒè™‘å§é“ºæ»´ï½\n11ç‚¹21 ğŸ›«\næå‰10åˆ†é’Ÿå…³é—­æœºé—¨ï¼Œ11ç‚¹10åˆ†çš„æ—¶å€™å°±è¿›ä¸äº†é£æœºäº†ã€‚\næ­£å¥½ååœ¨é£æœºæœºç¿¼ä¸Šï¼Œé çª—çš„æœ‰ä¸€ä¸ªè°ƒèŠ‚æŒ‰é’®ï¼Œå¯ä»¥è°ƒæ•´çª—æˆ·æ˜æš—ï¼Œæœ‰ç‚¹æ„æ€ï¼\nåº§ä½ä¸Šæœ‰å°è§†é¢‘å¯ä»¥çœ‹ç”µå½±ï¼Œå¬éŸ³ä¹ï¼Œæ‰“æ¸¸æˆğŸ˜‚ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æˆ´ç€æˆ‘çš„é™å™ªå§å“ˆå“ˆå“ˆå“ˆï¼Œç„¶åå»å¬è¯¾ï½\n","permalink":"https://ahaknow.com/posts/life/smart-an-airplane-experience/","summary":"æ—¶éš”å¤šå¹´å†æ¬¡åé£æœºï¼Œè¿˜æ²¡èµ·é£å‘¢å°±å°´å°¬äº†ã€‚ã€‚ã€‚ â€œå€¼æœºâ€æ˜¯å•¥æ„æ€ï¼Ÿ æ„Ÿè§‰è‡ªå·±è·Ÿä¸ªå‚»å­ä¸€æ ·ã€‚ã€‚ã€‚ æå‰åŠå°æ—¶åˆ°æœºåœºå°±å¯ä»¥çš„å§ï¼ŸğŸ˜„ ç›´æ¥æ‰“è½¦å»æœºåœºå¥½äº†ï½ â€¦","title":"å¸¸è¯†ï¼šè®°å½•ä¸€æ¬¡æœºç¥¨æ”¹ç­¾ğŸ˜…"},{"content":" åœ¨å†™C++å·¥ç¨‹çš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§çš„æ˜¯å°†å¤´æ–‡ä»¶ä¸å…¶å®ç°åˆ†å¼€ç¼–å†™çš„ã€‚\nä»Šå¤©è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼š\nâ€œåœ¨å†™C++ä»£ç çš„æ—¶å€™ï¼Œå°†å‡½æ•°å®ç°ç›´æ¥å†™åœ¨å¤´æ–‡ä»¶é‡Œï¼Œä¼šæ€ä¹ˆæ ·ï¼Œæœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹ï¼Ÿä¸ºä»€ä¹ˆè¦å°†å‡½æ•°çš„å®ç°å•ç‹¬å†™åœ¨æºæ–‡ä»¶â€\næˆ‘çš„ç¬¬ä¸€ååº”æƒ³åˆ°çš„ï¼Œæˆ‘å®é™…å¼€å‘æ—¶å°±è¿™æ ·åšçš„ï¼Œä¸ºå•¥è¿™æ ·åšå‘¢ï¼Ÿç¼–è¯‘æ¯”è¾ƒå¿«ï¼Ÿç¼–è¯‘æ¯”è¾ƒçœäº‹ï¼Ÿâ€¦â€¦\nä½†ä¼¼ä¹æ²¡æœ‰ä¸€ä¸ªé€å½»çš„ç†è§£ï¼Œéœ€è¦åœ¨è¿™é‡Œé‡æ–°æ¢³ç†ä¸€ä¸‹ã€‚\nä»ä»£ç ç¼–è¯‘çš„è§’åº¦æ¥é‡æ–°ç†è§£ï¼ˆCMakeè¿›è¡Œç¼–è¯‘ç³»ç»Ÿç®¡ç†çš„æ—¶å€™ï¼Œä¹Ÿæœ‰ä¸€å¥—æ¯”è¾ƒå¥½çš„å®è·µæ–¹å¼ï¼‰\nC++ç¼–è¯‘è§’åº¦çš„ç†è§£ åœ¨C++ç¼–ç¨‹ä¸­ï¼Œç¼–è¯‘è¿‡ç¨‹é€šå¸¸åŒ…æ‹¬é¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–å’Œé“¾æ¥è¿™å‡ ä¸ªé˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µéƒ½åœ¨ä¸ºæœ€ç»ˆç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åšå‡†å¤‡ï¼Œè€Œåœ¨è¿™äº›è¿‡ç¨‹ä¸­ï¼Œå¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„è§’è‰²å’Œå½±å“å„ä¸ç›¸åŒã€‚\n1. é¢„å¤„ç†é˜¶æ®µ åœ¨è¿™ä¸€é˜¶æ®µï¼Œé¢„å¤„ç†å™¨å¤„ç†æºä»£ç ä¸­çš„é¢„å¤„ç†æŒ‡ä»¤ï¼Œå¦‚#includeã€#defineã€æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤#ifdefã€#ifndefç­‰ã€‚ç‰¹åˆ«æ˜¯#includeæŒ‡ä»¤ï¼Œå®ƒä¼šå°†å¤´æ–‡ä»¶çš„å†…å®¹ç›´æ¥åŒ…å«åˆ°æºæ–‡ä»¶ä¸­ã€‚å¦‚æœæ²¡æœ‰é€‚å½“çš„å¤´æ–‡ä»¶ä¿æŠ¤ï¼Œå¦‚#ifndefã€#defineã€#endifï¼Œå¤´æ–‡ä»¶å¯èƒ½è¢«é‡å¤åŒ…å«ï¼Œå¯¼è‡´é¢„å¤„ç†åçš„æºæ–‡ä»¶ä¸­å‡ºç°é‡å¤çš„å†…å®¹ã€‚\n2. ç¼–è¯‘é˜¶æ®µ åœ¨è¿™ä¸€é˜¶æ®µï¼Œç¼–è¯‘å™¨å°†é¢„å¤„ç†åçš„æºä»£ç ï¼ˆç°åœ¨å·²ç»åŒ…å«äº†å¤´æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå°±æ˜¯å·²ç»å±•å¼€äº†æ‰€æœ‰çš„#includeç­‰ï¼‰è½¬æ¢æˆæ±‡ç¼–ä»£ç ã€‚å¦‚æœå®ç°ä»£ç ï¼ˆå‡½æ•°å®šä¹‰ç­‰ï¼‰åŒ…å«åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œä¸”å¤´æ–‡ä»¶è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…å«ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´ï¼š\nä»£ç è†¨èƒ€ä¸”ç¼–è¯‘æ—¶é—´å¢åŠ ï¼šæ¯ä¸ªæºæ–‡ä»¶ï¼ˆ.cppæ–‡ä»¶ï¼‰åœ¨ç¼–è¯‘æ—¶éƒ½ä¼šåŒ…å«å®ƒä½¿ç”¨çš„æ‰€æœ‰å¤´æ–‡ä»¶ï¼ˆ.hæ–‡ä»¶ï¼‰ï¼Œå¯¼è‡´ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶ä½“ç§¯å¢å¤§ã€‚å¦‚æœå¤´æ–‡ä»¶ä¸­åŒ…å«äº†å¤§é‡çš„å‡½æ•°å®ç°ï¼Œæ¯æ¬¡è¿™äº›å¤´æ–‡ä»¶è¢«åŒ…å«æ—¶ï¼Œè¿™äº›ä»£ç éƒ½éœ€è¦è¢«é‡æ–°ç¼–è¯‘ã€‚å› æ­¤ï¼Œå¦‚æœå¤šä¸ªæºæ–‡ä»¶åŒ…æ‹¬åŒä¸€ä¸ªåŒ…å«å¤§é‡å®ç°çš„å¤´æ–‡ä»¶ï¼Œè¿™äº›æºæ–‡ä»¶æ¯æ¬¡ç¼–è¯‘æ—¶éƒ½ä¼šé‡æ–°ç¼–è¯‘å¤´æ–‡ä»¶ä¸­çš„å®ç°ä»£ç ï¼Œä»è€Œæ˜¾è‘—å¢åŠ æ•´ä½“ç¼–è¯‘æ—¶é—´ã€‚å¹¶ä¸”ï¼Œæ¯æ¬¡å¤´æ–‡ä»¶è¢«ä¿®æ”¹ï¼Œæ‰€æœ‰åŒ…å«è¯¥å¤´æ–‡ä»¶çš„æºæ–‡ä»¶éƒ½å¿…é¡»é‡æ–°ç¼–è¯‘ï¼Œå“ªæ€•æ˜¯ä¸€ä¸ªå°æ”¹åŠ¨ï¼Œä¹Ÿä¼šå¯¼è‡´å¤§é‡çš„é‡å¤ç¼–è¯‘å·¥ä½œã€‚\nå¤šé‡å®šä¹‰é”™è¯¯ï¼ˆåœ¨é“¾æ¥é˜¶æ®µå‘ç”Ÿï¼‰ï¼šå¦‚æœå¤´æ–‡ä»¶ä¸­åŒ…å«å‡½æ•°æˆ–å˜é‡çš„å®ç°ï¼ˆè€Œä¸æ˜¯ä»…ä»…å£°æ˜ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªå¤´æ–‡ä»¶è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…æ‹¬ï¼Œé‚£ä¹ˆæ¯ä¸ªæºæ–‡ä»¶éƒ½ä¼šå°è¯•å®šä¹‰è¿™äº›å‡½æ•°æˆ–å˜é‡ã€‚åœ¨åç»­é“¾æ¥è¿™äº›æºæ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“æ–‡ä»¶æ—¶ï¼Œé“¾æ¥å™¨ä¼šå‘ç°åŒä¸€ä¸ªå‡½æ•°æˆ–å˜é‡è¢«å®šä¹‰äº†å¤šæ¬¡ï¼Œè¿™ä¼šå¯¼è‡´é“¾æ¥é”™è¯¯ï¼Œå…·ä½“è¡¨ç°ä¸ºâ€œmultiple definitionâ€é”™è¯¯ã€‚\n3. æ±‡ç¼–é˜¶æ®µ ç¼–è¯‘å™¨ç”Ÿæˆçš„æ±‡ç¼–ä»£ç è¢«è½¬æ¢æˆæœºå™¨å¯æ‰§è¡Œçš„ä»£ç ï¼Œå½¢æˆç›®æ ‡æ–‡ä»¶ã€‚è¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯ç¼–è¯‘å™¨çš„å·¥ä½œï¼Œä¸æ¶‰åŠå¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„åˆ†ç¦»é—®é¢˜ã€‚\n4. é“¾æ¥é˜¶æ®µ é“¾æ¥å™¨å°†æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ä»¥åŠæ‰€éœ€çš„åº“æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå•ç‹¬çš„å¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“æ–‡ä»¶ã€‚å¦‚æœå¤šä¸ªç›®æ ‡æ–‡ä»¶åŒ…å«åŒä¸€ä¸ªå…¨å±€ç¬¦å·ï¼ˆå‡½æ•°æˆ–å˜é‡ï¼‰çš„å®šä¹‰ï¼Œé“¾æ¥å™¨ä¼šæ£€æµ‹åˆ°å¤šé‡å®šä¹‰é”™è¯¯ã€‚è¿™é€šå¸¸æ˜¯å› ä¸ºå¤´æ–‡ä»¶ä¸­åŒ…å«äº†ä¸åº”è¯¥å­˜åœ¨çš„å®šä¹‰ï¼Œå¹¶è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…æ‹¬æ‰€å¯¼è‡´ã€‚å¯ä»¥ä½¿ç”¨inlineå…³é”®å­—æˆ–å°†æ¨¡æ¿å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­å¯ä»¥é¿å…å¤šé‡å®šä¹‰é—®é¢˜ï¼Œå› ä¸ºå†…è”å‡½æ•°å’Œæ¨¡æ¿è¢«è®¾è®¡ä¸ºå¯ä»¥åœ¨å¤šä¸ªæ–‡ä»¶ä¸­å®‰å…¨åœ°é‡å¤å®šä¹‰ã€‚\næœ€ä½³å®è·µ å‡½æ•°å£°æ˜ä¸å®ç°åˆ†ç¦»ï¼šåœ¨å¤´æ–‡ä»¶ä¸­åªå£°æ˜å‡½æ•°å’Œç±»ï¼Œè€Œåœ¨æºæ–‡ä»¶ä¸­æä¾›å…·ä½“çš„å®ç°ã€‚è¿™æ˜¯æœ€åŸºæœ¬çš„è§„åˆ™ï¼Œæœ‰åŠ©äºå‡å°‘ç¼–è¯‘æ—¶é—´ã€é¿å…å¤šé‡å®šä¹‰é—®é¢˜ï¼Œå¹¶æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚ ä½¿ç”¨inlineå…³é”®å­—ï¼šå¯¹äºéœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰çš„å°å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨inlineå…³é”®å­—ã€‚inlineå‡½æ•°é€šçŸ¥ç¼–è¯‘å™¨æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶å°è¯•å°†å‡½æ•°ä½“æ’å…¥åˆ°æ¯ä¸ªè°ƒç”¨ç‚¹ï¼Œä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚ä¸è¿‡ï¼Œæ»¥ç”¨inlineä¹Ÿå¯èƒ½å¯¼è‡´ä»£ç è†¨èƒ€ã€‚ æ¨¡æ¿å®ç°ï¼šç”±äºæ¨¡æ¿çš„ç‰¹æ®Šæ€§ï¼Œæ¨¡æ¿å®šä¹‰é€šå¸¸åŒ…æ‹¬åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ä½†åº”å½“å°å¿ƒæ§åˆ¶æ¨¡æ¿å®ç°çš„å¤æ‚åº¦ï¼Œé¿å…å¯¼è‡´æ‰€æœ‰ä¸Šè¿°é—®é¢˜ã€‚ è¡¥å…… åœ¨ C++ ä¸­ï¼Œä½¿ç”¨æ¨¡æ¿å’Œ inline å‡½æ•°å¯ä»¥æé«˜ä»£ç çš„å¯é‡ç”¨æ€§å’Œæ•ˆç‡ã€‚\nä»¥ä¸‹æ˜¯ç®€å•çš„ä¸¾ä¾‹è¯´æ˜ï¼š\næ¨¡æ¿ æ¨¡æ¿æ˜¯ C++ ä¸­å®ç°æ³›å‹ç¼–ç¨‹çš„å·¥å…·ï¼Œå…è®¸ç¼–å†™ä¸æ•°æ®ç±»å‹æ— å…³çš„ä»£ç ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªæ³›å‹å‡½æ•°æˆ–ç±»æ¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚ç”¨äºäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š\ntemplate\u0026lt;typename T\u0026gt; void swap(T\u0026amp; a, T\u0026amp; b) { T temp = a; a = b; b = temp; } int main() { int x = 10, y = 20; swap(x, y); // ä½¿ç”¨ int ç±»å‹ std::cout \u0026lt;\u0026lt; \u0026#34;x: \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#34; y: \u0026#34; \u0026lt;\u0026lt; y \u0026lt;\u0026lt; std::endl; double m = 1.1, n = 2.2; swap(m, n); // ä½¿ç”¨ double ç±»å‹ std::cout \u0026lt;\u0026lt; \u0026#34;m: \u0026#34; \u0026lt;\u0026lt; m \u0026lt;\u0026lt; \u0026#34; n: \u0026#34; \u0026lt;\u0026lt; n \u0026lt;\u0026lt; std::endl; return 0; } åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œswap å‡½æ•°æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ç”¨ int ç±»å‹çš„å˜é‡è°ƒç”¨å®ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç”¨ double ç±»å‹çš„å˜é‡è°ƒç”¨å®ƒï¼Œå±•ç¤ºäº†æ¨¡æ¿çš„çµæ´»æ€§å’Œé€šç”¨æ€§ã€‚\n2. inline å‡½æ•° inline å‡½æ•°æ˜¯ä¸€ç§åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°ä½“æ’å…¥åˆ°æ¯ä¸ªè°ƒç”¨ç‚¹çš„å‡½æ•°ï¼Œç”¨ä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚inline æŒ‡ç¤ºç¼–è¯‘å™¨å°½å¯èƒ½åœ°å°†å‡½æ•°çš„å®šä¹‰æ’å…¥åˆ°æ¯ä¸ªè°ƒç”¨è¯¥å‡½æ•°çš„åœ°æ–¹ã€‚æ¯”å¦‚ç”¨äºè®¡ç®—ä¸¤æ•°ä¹‹å’Œçš„ä¾‹å­ï¼š\ninline int add(int a, int b) { return a + b; } int main() { int result = add(5, 3); // ç›´æ¥åœ¨è¿™é‡Œæ’å…¥ add å‡½æ•°çš„ä½“ std::cout \u0026lt;\u0026lt; \u0026#34;Result: \u0026#34; \u0026lt;\u0026lt; result \u0026lt;\u0026lt; std::endl; return 0; } åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œadd å‡½æ•°è¢«å®šä¹‰ä¸º inlineã€‚è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶ï¼Œadd(5, 3) å¯èƒ½ä¼šè¢«æ›¿æ¢ä¸º 5 + 3ï¼Œä»è€Œé¿å…äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚è¿™ç§æ–¹å¼ç‰¹åˆ«é€‚åˆäºå°è€Œé¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚\næ³¨æ„äº‹é¡¹ æ¨¡æ¿ é€šå¸¸å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦åœ¨ç¼–è¯‘æ—¶å¯¹æ¯ä¸ªç”¨åˆ°æ¨¡æ¿çš„ç±»å‹è¿›è¡Œå®ä¾‹åŒ–ã€‚ inline å‡½æ•° ä¹Ÿåº”è¯¥åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼Œä»¥ç¡®ä¿ç¼–è¯‘å™¨åœ¨æ¯ä¸ªè°ƒç”¨ç‚¹éƒ½èƒ½çœ‹åˆ° inline å‡½æ•°çš„å®šä¹‰ï¼Œè¿™æ˜¯ä½¿å‡½æ•°å†…è”åŒ–çš„å…ˆå†³æ¡ä»¶ã€‚ é€šè¿‡ä½¿ç”¨æ¨¡æ¿å’Œ inline å‡½æ•°ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´é«˜æ•ˆã€æ›´çµæ´»çš„ C++ ç¨‹åºã€‚ä¸è¿‡ä¹Ÿéœ€è¦æ³¨æ„ï¼šæ»¥ç”¨ inline å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºçš„æœ€ç»ˆäºŒè¿›åˆ¶ä½“ç§¯å¢å¤§ï¼Œè€Œæ»¥ç”¨æ¨¡æ¿å¯èƒ½ä¼šå¢åŠ ç¼–è¯‘æ—¶é—´ã€‚\n","permalink":"https://ahaknow.com/posts/know/dev-header-source/","summary":"åœ¨å†™C++å·¥ç¨‹çš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§çš„æ˜¯å°†å¤´æ–‡ä»¶ä¸å…¶å®ç°åˆ†å¼€ç¼–å†™çš„ã€‚ ä»Šå¤©è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼š â€œåœ¨å†™C++ä»£ç çš„æ—¶å€™ï¼Œå°†å‡½æ•°å®ç°ç›´æ¥å†™åœ¨å¤´æ–‡ä»¶é‡Œï¼Œä¼šæ€ä¹ˆ","title":"å¼€å‘å®æˆ˜ï¼šä¸ºä»€ä¹ˆè¦å°†å‡½æ•°å®ç°ä¸å¤´æ–‡ä»¶åˆ†ç¦»"},{"content":" tar æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ Unix/Linux å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºåˆ›å»ºã€ç»´æŠ¤ã€ä¿®æ”¹ä»¥åŠæå– tar æ–‡ä»¶ã€‚\ntar æ–‡ä»¶é€šå¸¸æ˜¯æ–‡ä»¶æ¡£æ¡ˆçš„é›†åˆï¼Œè€Œ tar æœ¬èº«æ˜¯ Tape Archive çš„ç¼©å†™ï¼Œèµ·åˆæ˜¯ç”¨æ¥å°†æ•°æ®å¤‡ä»½åˆ°ç£å¸¦ä¸Šã€‚ä¸‹é¢å°†ä»‹ç» tar å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•ç”¨å®ƒæ¥å‹ç¼©å’Œè§£å‹ç¼©æ–‡ä»¶ï¼Œä»¥åŠå¸¸è§çš„å‹ç¼©æ ¼å¼å¦‚ gz çš„å«ä¹‰ã€‚\ntar çš„åŸºæœ¬ç”¨æ³• åˆ›å»º tar å½’æ¡£ï¼š ä½¿ç”¨ -c é€‰é¡¹æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å½’æ¡£æ–‡ä»¶ã€‚é€šå¸¸ä¸ -f é€‰é¡¹ç»“åˆä½¿ç”¨ï¼Œåè€…æŒ‡å®šå½’æ¡£æ–‡ä»¶çš„åç§°ã€‚\ntar -cf archive.tar file1 file2 dir1 è¿™æ¡å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º archive.tar çš„å½’æ¡£æ–‡ä»¶ï¼ŒåŒ…å«äº† file1, file2 ä»¥åŠæ•´ä¸ª dir1 ç›®å½•ã€‚\næŸ¥çœ‹ tar å½’æ¡£å†…å®¹ï¼š ä½¿ç”¨ -t é€‰é¡¹æ¥æŸ¥çœ‹å½’æ¡£ä¸­çš„å†…å®¹ï¼Œä¸ä¼šè¿›è¡Œè§£å‹ã€‚\ntar -tf archive.tar è§£å‹ tar å½’æ¡£ï¼š ä½¿ç”¨ -x é€‰é¡¹æ¥è§£å‹å½’æ¡£ã€‚\ntar -xf archive.tar è¿™æ¡å‘½ä»¤ä¼šå°† archive.tar ä¸­çš„å†…å®¹è§£å‹åˆ°å½“å‰ç›®å½•ã€‚\nä½¿ç”¨å‹ç¼© tar æ”¯æŒå¤šç§å‹ç¼©æ–¹å¼ï¼Œå¦‚ gzipã€bzip2 å’Œ xzã€‚å‹ç¼©å’Œè§£å‹ç¼©å½’æ¡£å¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´å’Œæé«˜æ–‡ä»¶ä¼ è¾“é€Ÿåº¦ã€‚\ngzip å‹ç¼© (gz): -z é€‰é¡¹è®© tar ä½¿ç”¨ gzip æ¥å‹ç¼©ã€‚æ‰©å±•åé€šå¸¸ä¸º .tar.gz æˆ– .tgzã€‚\ntar -czf archive.tar.gz file1 dir1 è§£å‹ gzip å‹ç¼©çš„ tar å½’æ¡£ï¼š\ntar -xzf archive.tar.gz bzip2 å‹ç¼© (bz2): -j é€‰é¡¹è®© tar ä½¿ç”¨ bzip2 å‹ç¼©ã€‚æ‰©å±•åä¸º .tar.bz2ã€‚\ntar -cjf archive.tar.bz2 file1 dir1 è§£å‹ bzip2 å‹ç¼©çš„ tar å½’æ¡£ï¼š\ntar -xjf archive.tar.bz2 xz å‹ç¼© (xz): -J é€‰é¡¹è®© tar ä½¿ç”¨ xz å‹ç¼©ã€‚æ‰©å±•åä¸º .tar.xzã€‚\ntar -cJf archive.tar.xz file1 dir1 è§£å‹ xz å‹ç¼©çš„ tar å½’æ¡£ï¼š\ntar -xJf archive.tar.xz å°æŠ€å·§ ä½¿ç”¨ -v (verbose) é€‰é¡¹å¯ä»¥æ˜¾ç¤º tar å¤„ç†çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™å¯¹äºè°ƒè¯•æˆ–äº†è§£è¿›åº¦å¾ˆæœ‰ç”¨ã€‚ ä½¿ç”¨ -p é€‰é¡¹ï¼ˆpreserve permissionsï¼‰æ¥ä¿ç•™æ–‡ä»¶æƒé™ã€‚ ä½¿ç”¨ --exclude é€‰é¡¹æ¥åœ¨å½’æ¡£æ—¶æ’é™¤ç‰¹å®šçš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ ","permalink":"https://ahaknow.com/posts/know/linux-tar-usage/","summary":"tar æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ Unix/Linux å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºåˆ›å»ºã€ç»´æŠ¤ã€ä¿®æ”¹ä»¥åŠæå– tar æ–‡ä»¶ã€‚ tar æ–‡ä»¶é€šå¸¸æ˜¯æ–‡ä»¶æ¡£æ¡ˆçš„é›†åˆï¼Œè€Œ tar æœ¬èº«æ˜¯ Tape Archive çš„ç¼©å†™ï¼Œèµ·åˆæ˜¯ç”¨æ¥å°†æ•°æ®å¤‡ä»½åˆ°","title":"Linuxï¼šæ‰“åŒ…å‹ç¼©ç›¸å…³çš„åŸºæœ¬ä½¿ç”¨"},{"content":" ç¬¬ä¸€æ¬¡æ¥è§¦Protobufï¼Œé‡åˆ°äº†ç³»ç»Ÿç‰ˆæœ¬ä¸ç¼–è¯‘æ–‡ä»¶ç‰ˆæœ¬ä¸ç»Ÿä¸€çš„æƒ…å†µï¼Œä»¥ä¼˜å…ˆè§£å†³é—®é¢˜çš„è€ƒè™‘å‡ºå‘ï¼Œè€ƒè™‘å…ˆæŠŠç‰ˆæœ¬ç»Ÿä¸€ï¼ŒéªŒè¯ä»£ç æ˜¯å¦å¯è¡Œï¼Œä¹‹åå†æ¥ç ”ç©¶ç‰ˆæœ¬æ›´æ–°çš„é—®é¢˜ã€‚\nåœ¨Linuxä¸Šå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Protobufï¼ˆæ¯”å¦‚ç‰ˆæœ¬3.19.6ï¼‰å¯ä»¥é€šè¿‡ä¸‹è½½æºä»£ç å¹¶ä»æºä»£ç ç¼–è¯‘æ¥å®Œæˆã€‚\nå®‰è£…ä¾èµ–ï¼š åœ¨ç¼–è¯‘Protobufä¹‹å‰ï¼Œç¡®ä¿å®‰è£…äº†æ‰€æœ‰å¿…è¦çš„ä¾èµ–ã€‚å¯¹äºå¤§å¤šæ•°Linuxå‘è¡Œç‰ˆï¼Œéœ€è¦å®‰è£…autoconfã€automakeã€libtoolã€curlã€makeã€g++å’Œunzipã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…è¿™äº›ä¾èµ–ï¼ˆä»¥Ubuntuä¸ºä¾‹ï¼‰ï¼š\nsudo apt update sudo apt install autoconf automake libtool curl make g++ unzip ä¸‹è½½Protobufæºä»£ç ï¼š ä»Protobuf GitHub releasesé¡µé¢ä¸‹è½½éœ€è¦çš„ç‰ˆæœ¬çš„æºç ã€‚ä¾‹å¦‚ï¼Œè¦ä¸‹è½½3.19.6ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\ncurl -OL https://github.com/protocolbuffers/protobuf/releases/download/v3.19.6/protobuf-all-3.19.6.tar.gz è§£å‹æºä»£ç ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§£å‹ä¸‹è½½çš„æ–‡ä»¶ï¼š\ntar -zxvf protobuf-all-3.19.6.tar.gz ç„¶åè¿›å…¥è§£å‹åçš„ç›®å½•ï¼š\ncd protobuf-3.19.6 ç¼–è¯‘å’Œå®‰è£…ï¼š åœ¨æºä»£ç ç›®å½•ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥é…ç½®ã€ç¼–è¯‘å’Œå®‰è£…Protobufï¼š\n./configure make make check sudo make install sudo ldconfig # åˆ·æ–°å…±äº«åº“ç¼“å­˜ ./configureï¼šé…ç½®å®‰è£…é€‰é¡¹ã€‚ makeï¼šç¼–è¯‘åº“å’Œç¼–è¯‘å™¨ã€‚ make checkï¼šè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼ˆè¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä½†å»ºè®®æ‰§è¡Œï¼‰ã€‚ sudo make installï¼šå°†åº“å’ŒäºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ°é»˜è®¤ç³»ç»Ÿä½ç½®ã€‚ sudo ldconfigï¼šæ›´æ–°ç³»ç»Ÿçš„åº“ç¼“å­˜ï¼Œç¡®ä¿æ–°å®‰è£…çš„åº“å¯ä»¥è¢«ç³»ç»Ÿæ‰¾åˆ°ã€‚ éªŒè¯å®‰è£…ï¼š å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯protocçš„ç‰ˆæœ¬ï¼š\nprotoc --version è¾“å‡ºåº”è¯¥æ˜¾ç¤ºlibprotoc 3.19.6ï¼Œè¿™è¡¨æ˜å·²ç»æˆåŠŸå®‰è£…äº†æŒ‡å®šç‰ˆæœ¬çš„Protobufã€‚\né€šè¿‡è¿™äº›æ­¥éª¤ï¼Œå¯ä»¥åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…ä»»ä½•æŒ‡å®šç‰ˆæœ¬çš„Protobufã€‚\nå¦‚æœéœ€è¦å®‰è£…åˆ°ä¸€ä¸ªéæ ‡å‡†çš„ä½ç½®ï¼ˆä¾‹å¦‚ï¼Œé¿å…ä¸ç³»ç»Ÿåº“å†²çªï¼‰ï¼Œå¯ä»¥åœ¨./configureæ­¥éª¤ä¸­æ·»åŠ --prefix=/your/custom/pathå‚æ•°æ¥æŒ‡å®šå®‰è£…è·¯å¾„ã€‚\n","permalink":"https://ahaknow.com/posts/know/note-install-protobuf/","summary":"ç¬¬ä¸€æ¬¡æ¥è§¦Protobufï¼Œé‡åˆ°äº†ç³»ç»Ÿç‰ˆæœ¬ä¸ç¼–è¯‘æ–‡ä»¶ç‰ˆæœ¬ä¸ç»Ÿä¸€çš„æƒ…å†µï¼Œä»¥ä¼˜å…ˆè§£å†³é—®é¢˜çš„è€ƒè™‘å‡ºå‘ï¼Œè€ƒè™‘å…ˆæŠŠç‰ˆæœ¬ç»Ÿä¸€ï¼ŒéªŒè¯ä»£ç æ˜¯å¦å¯è¡Œï¼Œä¹‹åå†æ¥","title":"Protobufï¼šå®‰è£…æŒ‡å®šç‰ˆæœ¬"},{"content":"åˆ›å»ºä¸€ä¸ªå…·æœ‰é™åˆ¶æƒé™çš„ç”¨æˆ·ï¼ŒåŒæ—¶ç¡®ä¿è¿™ä¸ªç”¨æˆ·ä¸èƒ½è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š\n1. åˆ›å»ºæ–°ç”¨æˆ· ä½¿ç”¨useraddå‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚å¯ä»¥æŒ‡å®šç”¨æˆ·çš„ä¸»ç›®å½•ã€é»˜è®¤shellç­‰ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºnewuserçš„ç”¨æˆ·ï¼š\nsudo useradd -m newuser -s /bin/bash è¿™é‡Œ-mé€‰é¡¹è¡¨ç¤ºåˆ›å»ºç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œ-sæŒ‡å®šç”¨æˆ·çš„é»˜è®¤shellã€‚\n2. è®¾ç½®å¯†ç  ä¸ºæ–°ç”¨æˆ·è®¾ç½®å¯†ç ï¼š\nsudo passwd newuser ç³»ç»Ÿä¼šæç¤ºä½ è¾“å…¥å’Œç¡®è®¤å¯†ç ã€‚\n3. é™åˆ¶ç”¨æˆ·æƒé™ é¿å…å°†ç”¨æˆ·æ·»åŠ åˆ°sudoæˆ–rootç»„æ¥é™åˆ¶å…¶æƒé™ã€‚ä½ å¯ä»¥é€šè¿‡ä¸å°†ç”¨æˆ·æ·»åŠ åˆ°è¿™äº›ç»„æ¥ä¿æŒå…¶æƒé™å°½å¯èƒ½ä½ã€‚\n4. è®¾ç½®æ–‡ä»¶å’Œç›®å½•æƒé™ ç¡®ä¿å…¶ä»–ç”¨æˆ·çš„ç›®å½•ä¸å¯¹æ–°ç”¨æˆ·å¼€æ”¾å†™æƒé™ã€‚å¯ä»¥è®¾ç½®ç›®å½•æƒé™ä½¿å…¶ä»…å¯¹æ‰€æœ‰è€…æˆ–ç‰¹å®šç»„å¼€æ”¾ï¼š\nè®¾ç½®å…¶ä»–ç”¨æˆ·çš„ä¸»ç›®å½•æƒé™ï¼Œç¦æ­¢æ–°ç”¨æˆ·è®¿é—®ï¼š\nsudo chmod o-rwx /home/otheruser è¿™é‡Œo-rwxè¡¨ç¤ºåˆ é™¤å…¶ä»–ç”¨æˆ·ï¼ˆnot group or ownerï¼‰çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ã€‚\nä½ ä¹Ÿå¯ä»¥æ›´æ”¹å…¶ä»–ç”¨æˆ·ç›®å½•çš„ç»„å¹¶é™åˆ¶è®¿é—®æƒé™ï¼š\nsudo chgrp -R somegroup /home/otheruser sudo chmod -R o-rwx /home/otheruser 5. ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰ å¦‚æœéœ€è¦æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ACLæ¥è®¾ç½®è°å¯ä»¥è®¿é—®ç‰¹å®šçš„æ–‡ä»¶å’Œç›®å½•ï¼š\nsudo setfacl -m u:newuser:rx /some/otheruser/directory è¿™é‡Œï¼Œsetfaclå‘½ä»¤è®¾ç½®newuseråªæœ‰è¯»å’Œæ‰§è¡Œæƒé™åˆ°/some/otheruser/directoryã€‚\n","permalink":"https://ahaknow.com/posts/know/linux-create-user/","summary":"åˆ›å»ºä¸€ä¸ªå…·æœ‰é™åˆ¶æƒé™çš„ç”¨æˆ·ï¼ŒåŒæ—¶ç¡®ä¿è¿™ä¸ªç”¨æˆ·ä¸èƒ½è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š 1. åˆ›å»ºæ–°ç”¨æˆ· ä½¿ç”¨useraddå‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°","title":"Linuxï¼šåˆ›å»ºå…·æœ‰æƒé™é™åˆ¶çš„æ–°ç”¨æˆ·"},{"content":" é‡åˆ°äº†Linuxæ–°çš„å†…æ ¸å¯åŠ¨å¡æ­»ï¼Œè€å†…æ ¸æ­£å¸¸è¿è¡Œï¼Œç´¢æ€§å°±å¯åŠ¨ä¸äº†å†…æ ¸è¿›è¡Œåˆ é™¤ã€‚\n1. æŸ¥çœ‹å½“å‰è¿è¡Œçš„å†…æ ¸ åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nuname -r ä¼šå¾—åˆ°ä¸‹é¢è¿™æ ·çš„ä¿¡æ¯ï¼š\n5.15.0-97-generic 2. åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„å†…æ ¸ åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„å†…æ ¸ï¼š\ndpkg --list | grep linux-image è¿™ä¸ªå‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰å·²å®‰è£…çš„Linuxå†…æ ¸åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nrc linux-image-5.15.0-100-generic 5.15.0-100.110~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-101-generic 5.15.0-101.111~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-102-generic 5.15.0-102.112~20.04.1 amd64 Signed kernel image generic ii linux-image-5.15.0-105-generic 5.15.0-105.115~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-67-generic 5.15.0-67.74~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-84-generic 5.15.0-84.93~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-86-generic 5.15.0-86.96~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-87-generic 5.15.0-87.97~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-88-generic 5.15.0-88.98~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-89-generic 5.15.0-89.99~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-91-generic 5.15.0-91.101~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-92-generic 5.15.0-92.102~20.04.1 amd64 Signed kernel image generic rc linux-image-5.15.0-94-generic 5.15.0-94.104~20.04.1 amd64 Signed kernel image generic ii linux-image-5.15.0-97-generic 5.15.0-97.107~20.04.1 amd64 Signed kernel image generic ii linux-image-generic-hwe-20.04 5.15.0.105.115~20.04.1 amd64 Generic Linux kernel image 3. åˆ é™¤å†…æ ¸ ä½¿ç”¨apt-getæˆ–aptå‘½ä»¤åˆ é™¤ä¸éœ€è¦çš„å†…æ ¸ã€‚æ¯”å¦‚ linux-image-5.15.0-105-genericçš„å†…æ ¸ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\nsudo apt-get purge linux-image-5.15.0-105-generic 4. æ›´æ–°å¼•å¯¼åŠ è½½å™¨ å®Œæˆå†…æ ¸çš„åˆ é™¤åï¼Œæ›´æ–°GRUBé…ç½®ä»¥ç¡®ä¿å¯åŠ¨åŠ è½½å™¨çš„èœå•è¢«æ›´æ–°ï¼š\nsudo update-grub 5. é‡å¯ç³»ç»Ÿ æœ€åï¼Œé‡å¯ç³»ç»Ÿä»¥ç¡®è®¤æ›´æ”¹ï¼š\nsudo reboot ","permalink":"https://ahaknow.com/posts/know/linux-kernel/","summary":"é‡åˆ°äº†Linuxæ–°çš„å†…æ ¸å¯åŠ¨å¡æ­»ï¼Œè€å†…æ ¸æ­£å¸¸è¿è¡Œï¼Œç´¢æ€§å°±å¯åŠ¨ä¸äº†å†…æ ¸è¿›è¡Œåˆ é™¤ã€‚ 1. æŸ¥çœ‹å½“å‰è¿è¡Œçš„å†…æ ¸ åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š uname -r ä¼šå¾—åˆ°ä¸‹é¢è¿™æ ·çš„ä¿¡","title":"Linuxï¼šå†…æ ¸å¯åŠ¨ä¸äº†ä¹‹å"},{"content":" ä»¥ä¸‹è®°å½•å®‰è£…çš„TensorRTç¯å¢ƒå®‰è£…çš„æœ€ç®€å•ï¼Œä¹Ÿæ˜¯æœ€æ­£ç¡®çš„æµç¨‹ã€‚\nå› ä¸ºå¾ˆå¤šæ—¶å€™ä¾èµ–è£…ä¹±äº†ï¼Œç›´æ¥è£…TensorRTä¼šå‡ºç°ä¸€å †ä¾èµ–ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œå› æ­¤éœ€è¦æŒ‰ç…§é¡ºåºä¸€æ­¥ä¸€æ­¥å®‰è£…\nåœ¨è¿›è¡Œä¸‹é¢çš„å®‰è£…æ­¥éª¤ä¹‹å‰ï¼Œå»ºè®®å…ˆå°†ä»¥å‰çš„å®‰è£…çš„Nvidiaç›¸å…³çš„éƒ½å¸è½½äº†ï¼Œå¦åˆ™ä¸€å®šä¼šå‡ºç°ä¾èµ–é”™ä¹±çš„é—®é¢˜ï¼\nå»ºè®®æ‰‹åŠ¨é€‰æ‹©å¸è½½cudaã€tensorrtã€nvidiaå‰ç¼€çš„è½¯ä»¶ï¼Œç„¶åä½¿ç”¨ sudo apt autoremove æ¸…ç†ã€‚\né¦–å…ˆéœ€è¦æ­£ç¡®å®‰è£…CUDA é‡‡ç”¨æœ¬åœ°debåŒ…çš„æ–¹æ³•\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin sudo mv cuda-ubuntu2004.pin /etc/apt/preferences.d/cuda-repository-pin-600 wget https://developer.download.nvidia.com/compute/cuda/12.4.1/local_installers/cuda-repo-ubuntu2004-12-4-local_12.4.1-550.54.15-1_amd64.deb sudo dpkg -i cuda-repo-ubuntu2004-12-4-local_12.4.1-550.54.15-1_amd64.deb sudo cp /var/cuda-repo-ubuntu2004-12-4-local/cuda-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cuda-toolkit-12-4 ğŸ’¡æç¤ºï¼šå¦‚æœè€ç‰ˆæœ¬çš„ä¸ç”¨äº†ï¼Œä¹Ÿæ˜¯ç”¨æœ¬åœ°debåŒ…æ–¹å¼å®‰è£…çš„ï¼Œå¯ä»¥åœ¨ /etc/apt/sources.list.d/ è·¯å¾„ä¸‹æ¸…é™¤å¯¹åº”çš„ç‰ˆæœ¬ã€‚\nè¿™é‡Œæ˜¯ä½¿ç”¨12.4.1ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆæœ¬å¯ä»¥ç”±æ­¤è®¿é—®\nå…³äºNvidiaé©±åŠ¨å®‰è£…ï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤å®Œæˆï¼š\n# To install the legacy kernel module flavor: sudo apt-get install -y cuda-drivers # To install the open kernel module flavor: sudo apt-get install -y nvidia-driver-550-open sudo apt-get install -y cuda-drivers-550 å…³äº the open kernel module å’Œ the legacy kernel module å¯ä»¥ç®€å•ç†è§£ä¸ºæ–°æ˜¾å¡ç”¨openï¼Œè€æ˜¾å¡ç”¨legacyã€‚\nå®‰è£…cuDNN è¿™æ˜¯ä¹Ÿæ˜¯é‡‡ç”¨æœ¬åœ°debåŒ…çš„æ–¹æ³•\n# Installation Instructions: wget https://developer.download.nvidia.com/compute/cudnn/9.1.0/local_installers/cudnn-local-repo-ubuntu2004-9.1.0_1.0-1_amd64.deb sudo dpkg -i cudnn-local-repo-ubuntu2004-9.1.0_1.0-1_amd64.deb sudo cp /var/cudnn-local-repo-ubuntu2004-9.1.0/cudnn-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cudnn # To install for CUDA 11, perform the above configuration but install the CUDA 11 specific package: sudo apt-get -y install cudnn-cuda-11 # To install for CUDA 12, perform the above configuration but install the CUDA 12 specific package: sudo apt-get -y install cudnn-cuda-12 åŒæ ·å¯ä»¥ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£\nå®‰è£…TensorRT TensorRTéœ€è¦é€šè¿‡Nvidiaå¼€å‘è€…è´¦å·è¿›è¡Œä¸‹è½½\nå®˜ç½‘ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„debå®‰è£…æ–¹å¼\nsudo dpkg -i nv-tensorrt-local-repo-ubuntu2004-10.0.0-cuda-12.4_1.0-1_amd64.deb sudo cp /var/nv-tensorrt-local-repo-ubuntu2004-10.0.0-cuda-12.4/nv-tensorrt-local-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get install tensorrt ä»¥ä¸‹æ˜¯è€ç‰ˆæœ¬çš„å®‰è£… åŒæ ·ä¹Ÿéœ€è¦æ¸…ç†Nvidiaä¹‹å‰å®‰è£…çš„æ®‹ç•™\nCUDA wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin sudo mv cuda-ubuntu2004.pin /etc/apt/preferences.d/cuda-repository-pin-600 wget https://developer.download.nvidia.com/compute/cuda/12.1.0/local_installers/cuda-repo-ubuntu2004-12-1-local_12.1.0-530.30.02-1_amd64.deb sudo dpkg -i cuda-repo-ubuntu2004-12-1-local_12.1.0-530.30.02-1_amd64.deb sudo cp /var/cuda-repo-ubuntu2004-12-1-local/cuda-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cuda cuDNN sudo dpkg -i cudnn-local-repo-ubuntu2004-8.9.7.29_1.0-1_amd64.deb sudo cp /var/cudnn-local-repo-ubuntu2004-8.9.7.29/cudnn-local-*-keyring.gpg /usr/share/keyrings/ sudo apt update sudo apt-get install libcudnn8 TensorRT sudo dpkg -i nv-tensorrt-local-repo-ubuntu2004-8.6.1-cuda-12.0_1.0-1_amd64.deb sudo cp /var/nv-tensorrt-local-repo-ubuntu2004-8.6.1-cuda-12.0/nv-tensorrt-local-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get install tensorrt ","permalink":"https://ahaknow.com/posts/know/note-install-tensorrt/","summary":"ä»¥ä¸‹è®°å½•å®‰è£…çš„TensorRTç¯å¢ƒå®‰è£…çš„æœ€ç®€å•ï¼Œä¹Ÿæ˜¯æœ€æ­£ç¡®çš„æµç¨‹ã€‚ å› ä¸ºå¾ˆå¤šæ—¶å€™ä¾èµ–è£…ä¹±äº†ï¼Œç›´æ¥è£…TensorRTä¼šå‡ºç°ä¸€å †ä¾èµ–ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œ","title":"TensorRTï¼šæœ€ç®€æ˜çš„å®‰è£…æµç¨‹"},{"content":" æ­¤å‰å†™ä»£ç ï¼Œä¹ æƒ¯æ€§ std::cout å’Œ std::cerr è¿™ç§ç›´æ¥å¯è§†åŒ–çš„æ‰“å°ï¼Œç„¶åæ»¡å±å¯†å¯†éº»éº»çš„æ‰“å°ä¿¡æ¯ï¼Œè€Œå¦‚æœä¸éœ€è¦äº†ï¼Œå°±ä¼šåœ¨ä»£ç å¤§æ®µå¤§æ®µçš„æ³¨é‡Šï¼Œéå¸¸ä¸ç¾è§‚ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯ä¸€å †å †ğŸ’©ã€‚ã€‚ã€‚\nä»ä»£ç ç¾å­¦çš„é€»è¾‘ï¼Œåº”è¯¥æ˜¯éœ€è¦é›†ä¸­ç®¡ç†ï¼Œç„¶åæ ¹æ®éœ€è¦é€‰æ‹©è¾“å‡ºâ€œè­¦å‘Šâ€ï¼Œâ€œè°ƒè¯•â€ï¼Œâ€œé”™è¯¯â€ç­‰è°ƒè¯•ä¿¡æ¯ã€‚\nè¿™é‡Œé€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹çš„å·¥å…·ï¼šSpdlog\nå®‰è£…å’Œé¡¹ç›®ä¸­ä½¿ç”¨ Spdlog åœ¨ Ubuntu Linux ç³»ç»Ÿï¼š\nsudo apt-get install libspdlog-dev åœ¨ C++ æ–‡ä»¶ä¸­åŒ…å« Spdlog å¤´æ–‡ä»¶ï¼š\n#include \u0026lt;spdlog/spdlog.h\u0026gt; #include \u0026lt;spdlog/sinks/stdout_color_sinks.h\u0026gt; // å¯¹äºæ§åˆ¶å°å½©è‰²æ—¥å¿— #include \u0026lt;spdlog/sinks/basic_file_sink.h\u0026gt; // å¯¹äºæ–‡ä»¶æ—¥å¿— CMakeLists ä¸­ä½¿ç”¨æ–¹å¼ï¼š\ncmake_minimum_required(VERSION 3.10) project(MyProject) # æ·»åŠ Spdlog find_package(spdlog REQUIRED) add_executable(my_app main.cpp) target_link_libraries(my_app PRIVATE spdlog::spdlog) å®é™…ä½¿ç”¨ #include \u0026lt;spdlog/spdlog.h\u0026gt; #include \u0026lt;spdlog/sinks/stdout_color_sinks.h\u0026gt; #include \u0026lt;spdlog/sinks/basic_file_sink.h\u0026gt; int main() { auto logger = spdlog::stdout_color_mt(\u0026#34;console_logger\u0026#34;); auto file_logger = spdlog::basic_logger_mt(\u0026#34;file_logger\u0026#34;, \u0026#34;logs.txt\u0026#34;); spdlog::set_pattern(\u0026#34;[%Y-%m-%d %H:%M:%S] [%l] %v\u0026#34;); // ä½¿ç”¨ {} ä½œä¸ºå ä½ç¬¦ logger-\u0026gt;info(\u0026#34;Hello, {}!\u0026#34;, \u0026#34;World\u0026#34;); file_logger-\u0026gt;warn(\u0026#34;This is a warning in a file.\u0026#34;); // 16è¿›åˆ¶ logger-\u0026gt;debug(\u0026#34;Frame header: 0x{:02x} 0x{:02x}\u0026#34;, recv_buffer[0], recv_buffer[1]); return 0; } è®¾ç½®æ—¥å¿—çº§åˆ«ï¼š Spdlog æ”¯æŒçš„æ—¥å¿—çº§åˆ«åŒ…æ‹¬ï¼štrace, debug, info, warn, err, critical, offã€‚å¯ä»¥è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«æˆ–é’ˆå¯¹å•ä¸ª loggerï¼š\nspdlog::set_level(spdlog::level::info); // å…¨å±€è®¾ç½®ï¼Œåªè®°å½• info åŠä»¥ä¸Šçº§åˆ«çš„æ—¥å¿— console-\u0026gt;set_level(spdlog::level::debug); // å¯¹ \u0026#34;console\u0026#34; è¿›è¡Œè®¾ç½® æ—¥å¿—æ ¼å¼è®¾ç½®ï¼š spdlog::set_pattern(\u0026#34;[%Y-%m-%d %H:%M:%S] [%l] %v\u0026#34;); console-\u0026gt;info(\u0026#34;This is a formatted log\u0026#34;); å¼‚æ­¥æ—¥å¿—è®°å½•ï¼š ä¸ºäº†å¢åŠ æ—¥å¿—è®°å½•çš„æ€§èƒ½ï¼Œå¯ä»¥ä½¿ç”¨ spdlog çš„å¼‚æ­¥æ—¥å¿—åŠŸèƒ½ï¼š\n#include \u0026lt;spdlog/async.h\u0026gt; auto async_file = spdlog::basic_logger_mt\u0026lt;spdlog::async_factory\u0026gt;(\u0026#34;async_file_logger\u0026#34;, \u0026#34;async_log.txt\u0026#34;); async_file-\u0026gt;info(\u0026#34;This is an async log message\u0026#34;); é¡¹ç›®ä¸­çš„ä½¿ç”¨æŠ€å·§ æ¯”å¦‚åœ¨mainå‡½æ•°ä¸­ï¼š\n#include \u0026lt;spdlog/spdlog.h\u0026gt; #include \u0026lt;spdlog/sinks/stdout_color_sinks.h\u0026gt; int main() { auto logger = spdlog::stdout_color_mt(\u0026#34;console\u0026#34;); logger-\u0026gt;set_level(spdlog::level::debug); // è®¾ç½®æ—¥å¿—çº§åˆ« spdlog::set_pattern(\u0026#34;[%Y-%m-%d %H:%M:%S] [%^%L%$] %v\u0026#34;); // è®¾ç½®å…¨å±€æ ¼å¼ // åº”ç”¨ç¨‹åºä»£ç ... return 0; } è¿™æ—¶å¦‚æœåœ¨ç±»çš„å®ç°é‡Œä¹Ÿéœ€è¦ä½¿ç”¨åˆ°spdlogï¼Œå°±å¯ä»¥è¿™æ ·ï¼š\n#include \u0026lt;spdlog/spdlog.h\u0026gt; class TCPFrameClient { public: TCPFrameClient() { logger_ = spdlog::get(\u0026#34;console\u0026#34;); // æ³¨æ„ç”¨\u0026#34;console\u0026#34;æ¥å®šä½ if (!logger_) { // Fallback or re-initialize if not found logger_ = spdlog::stdout_color_mt(\u0026#34;console\u0026#34;); } } void doSomething() { logger_-\u0026gt;info(\u0026#34;Doing something\u0026#34;); } private: std::shared_ptr\u0026lt;spdlog::logger\u0026gt; logger_; }; ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’æŒ‡é’ˆçš„æ–¹å¼ï¼ˆç¨å¾®å¤æ‚ä¸€äº›ï¼‰ï¼š\nclass TCPFrameClient { public: TCPFrameClient(std::shared_ptr\u0026lt;spdlog::logger\u0026gt; logger) : logger_(logger) { if (!this-\u0026gt;logger_) { // Fallback initialization this-\u0026gt;logger_ = spdlog::stdout_color_mt(\u0026#34;console\u0026#34;); } } void connect() { logger_-\u0026gt;info(\u0026#34;Connecting to server\u0026#34;); } private: std::shared_ptr\u0026lt;spdlog::logger\u0026gt; logger_; }; // ä¸»ç¨‹åº int main() { auto logger = spdlog::stdout_color_mt(\u0026#34;console\u0026#34;); TCPFrameClient client(logger); client.connect(); return 0; } ğŸŒŸä¸€ä¸ªæ›´å¥½çš„å®è·µ ä¸€ä¸ªå¥½çš„å·¥ç¨‹ï¼Œå…¶ç»“æ„åº”è¯¥åƒä¸‹é¢è¿™æ ·çš„ï¼š\nâ”œâ”€â”€ Utils â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ logger.cpp â”‚ â””â”€â”€ logger.h â”œâ”€â”€ Parser â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ data_frame_parser.cpp â”‚ â””â”€â”€ data_frame_parser.h â”œâ”€â”€ TCPClient â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ tcp_frame_client.cpp â”‚ â””â”€â”€ tcp_frame_client.h å…·ä½“è€Œè¨€å°±æ˜¯å•ç‹¬ç®¡ç†Loggerï¼š\nLogger.h #ifndef LOGGER_H #define LOGGER_H #include \u0026lt;memory\u0026gt; #include \u0026lt;spdlog/spdlog.h\u0026gt; #include \u0026lt;spdlog/sinks/stdout_color_sinks.h\u0026gt; class Logger { public: static std::shared_ptr\u0026lt;spdlog::logger\u0026gt; get_instance(const std::string\u0026amp; logger_name); }; #endif // LOGGER_H Logger.cpp #include \u0026#34;logger.h\u0026#34; std::shared_ptr\u0026lt;spdlog::logger\u0026gt; Logger::get_instance(const std::string\u0026amp; logger_name) { auto logger = spdlog::get(logger_name); if (!logger) { logger = spdlog::stdout_color_mt(logger_name); logger-\u0026gt;set_level(spdlog::level::info); spdlog::set_pattern(\u0026#34;[%Y-%m-%d %H:%M:%S] [%^%l%$] %v\u0026#34;); } return logger; } ä¿®æ”¹ CMakeLists.txt å¯¹äº Utils ç›®å½•çš„ CMakeLists.txtï¼Œéœ€è¦æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥ç¡®ä¿ Logger ç±»è¢«æ­£ç¡®ç¼–è¯‘å’Œé“¾æ¥ï¼š\nadd_library(Utils logger.h logger.cpp ) target_include_directories(Utils PUBLIC ${CMAKE_CURRENT_SOURCE_DIR} ) # é“¾æ¥ spdlog find_package(spdlog REQUIRED) target_link_libraries(Utils spdlog::spdlog ) ç¡®ä¿å…¶ä»–æ¨¡å—çš„ CMakeLists.txt æ–‡ä»¶æ›´æ–°ä¸ºé“¾æ¥åˆ° Utils åº“ï¼š\ntarget_link_libraries(Parser Utils # æ·»åŠ è¿™ä¸ª # å…¶ä»–ä¾èµ– ) target_link_libraries(TCPClient Utils # æ·»åŠ è¿™ä¸ª # å…¶ä»–ä¾èµ– ) åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œå°±å¯ä»¥è¿™æ ·ï¼š\nMainProcessor::MainProcessor(const std::string\u0026amp; path, int mode) : path_(path), mode_(mode), logger_(Logger::get_instance(\u0026#34;DataFrameParser\u0026#34;)) {} TCPFrameClient::TCPFrameClient(DataFrameParser\u0026amp; parser, int port) : sock_(-1), server_port_(port), parser_(parser) { parser_.initializeDecoder(); logger_ = Logger::get_instance(\u0026#34;DataFrameParser\u0026#34;); } DataFrameParser::DataFrameParser(int width, int height) : width_(width), height_(height) { initDisparityPseudoColorTable(); initializeDecoder(); logger_ = Logger::get_instance(\u0026#34;DataFrameParser\u0026#34;); } ","permalink":"https://ahaknow.com/posts/know/dev-spdlog-usage/","summary":"æ­¤å‰å†™ä»£ç ï¼Œä¹ æƒ¯æ€§ std::cout å’Œ std::cerr è¿™ç§ç›´æ¥å¯è§†åŒ–çš„æ‰“å°ï¼Œç„¶åæ»¡å±å¯†å¯†éº»éº»çš„æ‰“å°ä¿¡æ¯ï¼Œè€Œå¦‚æœä¸éœ€è¦äº†ï¼Œå°±ä¼šåœ¨ä»£ç å¤§æ®µå¤§æ®µçš„æ³¨é‡Šï¼Œéå¸¸ä¸ç¾è§‚ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯","title":"å¼€å‘å®æˆ˜ï¼šä½¿ç”¨Spdlogç®¡ç†è°ƒè¯•ä¿¡æ¯"},{"content":"ä¸€ä¸ªâ€œå¥½çœ‹â€çš„CMakeç®¡ç†åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š\nâ”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ main_class.cpp â”œâ”€â”€ main.cpp â”œâ”€â”€ model â”‚ â”œâ”€â”€ seg_0415.onnx â”‚ â””â”€â”€ seg_0415.trt â”œâ”€â”€ Parser â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ data_frame_parser.cpp â”‚ â””â”€â”€ data_frame_parser.h â”œâ”€â”€ RoadSeg â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ road_segmentation.cpp â”‚ â””â”€â”€ road_segmentation.hpp â”œâ”€â”€ TCPClient â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ tcp_frame_client.cpp â”‚ â””â”€â”€ tcp_frame_client.h â”œâ”€â”€ Test â”‚ â”œâ”€â”€ main_simple.cpp â”‚ â”œâ”€â”€ ptr_mat.cpp â”‚ â””â”€â”€ test_main.cpp â””â”€â”€ Utils â”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ logger.cpp â””â”€â”€ logger.h å…·ä½“è€Œè¨€ï¼Œæ¯”å¦‚Parserä¸‹é¢çš„CMakeLists.txtï¼š\nfind_package(OpenCV REQUIRED) find_package(PCL REQUIRED) # Find FFmpeg components find_package(PkgConfig REQUIRED) pkg_check_modules(AVCODEC REQUIRED libavcodec) pkg_check_modules(AVFORMAT REQUIRED libavformat) pkg_check_modules(SWSCALE REQUIRED libswscale) pkg_check_modules(AVUTIL REQUIRED libavutil) include_directories( ${OpenCV_INCLUDE_DIRS} ${PCL_INCLUDE_DIRS} ${AVCODEC_INCLUDE_DIRS} ${AVFORMAT_INCLUDE_DIRS} ${SWSCALE_INCLUDE_DIRS} ${AVUTIL_INCLUDE_DIRS} /usr/include ${CMAKE_SOURCE_DIR}/Utils ) # æ·»åŠ Parseråº“ add_library(Parser SHARED data_frame_parser.cpp data_frame_parser.h ) target_include_directories(Parser PUBLIC ${CMAKE_CURRENT_SOURCE_DIR} ) target_link_libraries(Parser ${AVCODEC_LIBRARIES} ${AVFORMAT_LIBRARIES} ${SWSCALE_LIBRARIES} ${AVUTIL_LIBRARIES} ${OpenCV_LIBS} ${PCL_LIBRARIES} lz4 Utils ) è€Œmainå‡½æ•°çš„CMakeLists.txtå°±å¯ä»¥å¾ˆç®€æ´äº†:\ncmake_minimum_required(VERSION 3.10) project(DataFrameParser) set(CMAKE_CXX_STANDARD 20) set(CMAKE_CXX_STANDARD_REQUIRED True) option(BUILD_SHARED_LIBS \u0026#34;Build libraries as shared libraries\u0026#34; ON) # æ·»åŠ å­ç›®å½• add_subdirectory(Utils) add_subdirectory(Parser) add_subdirectory(TCPClient) add_subdirectory(AI) add_subdirectory(RoadSeg) add_executable(DataFrameParser main_class.cpp) target_link_libraries(DataFrameParser Parser TCPClient AI4FS RoadSeg ) ","permalink":"https://ahaknow.com/posts/know/dev-project-cmake/","summary":"ä¸€ä¸ªâ€œå¥½çœ‹â€çš„CMakeç®¡ç†åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š â”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ main_class.cpp â”œâ”€â”€ main.cpp â”œâ”€â”€ model â”‚ â”œâ”€â”€ seg_0415.onnx â”‚ â””â”€â”€ seg_0415.trt â”œâ”€â”€ Parser â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ data_frame_parser.cpp â”‚ â””â”€â”€ data_frame_parser.h â”œâ”€â”€ RoadSeg","title":"å¼€å‘å®æˆ˜ï¼šé¡¹ç›®ä¸­çš„CMakeæŠ€å·§"},{"content":" å…³äºä»£ç ğŸ’©å±±ï¼Œå·²ç»ä¸å¿ç›´è§†ã€‚ã€‚ã€‚\nåªå¸Œæœ›è‡ªå·±èƒ½å¤Ÿå†™å‡ºæ•´æ´ã€å¤§æ–¹ã€æœ‰é­…åŠ›ï¼ˆåˆç¾ä¸½ï¼‰çš„ä»£ç ã€‚\næ‰€ä»¥å‘¢ï¼Œå¾—ç»™ä»£ç å±ä¸ªå¤§åã€‚\nvscodeç”¨çš„ä¹…äº†ï¼Œä»¥æ­¤ä¸ºä¾‹å§ï¼Ÿï¼ˆå…¶å®CLionä½“éªŒæ›´å¥½ï¼Œé‚£æœªå°ä¸è¯•è¯•å‘¢ï¼ï¼‰\nå…ˆvscodeå§ï¼\nåœ¨ VS Code ä¸­è‡ªåŠ¨æ·»åŠ ç‰ˆæƒä¿¡æ¯ å¯ä»¥é€šè¿‡ä½¿ç”¨ä»£ç ç‰‡æ®µï¼ˆSnippetsï¼‰æ¥è‡ªåŠ¨æ’å…¥ç‰ˆæƒä¿¡æ¯ï¼š\næ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆCtrl+Shift+P æˆ– Cmd+Shift+Pï¼‰ã€‚ è¾“å…¥ \u0026ldquo;Configure User Snippets\u0026rdquo; å¹¶é€‰æ‹©å®ƒã€‚ é€‰æ‹© cpp.jsonï¼ˆé’ˆå¯¹ C++ æ–‡ä»¶ï¼‰ã€‚ è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š { \u0026#34;Print Copyright Header\u0026#34;: { \u0026#34;prefix\u0026#34;: \u0026#34;copyright\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;/*\u0026#34;, \u0026#34; * Project: ${1:Your Project Name}\u0026#34;, \u0026#34; * File: $TM_FILENAME\u0026#34;, \u0026#34; * Version: ${2:1.0}\u0026#34;, \u0026#34; *\u0026#34;, \u0026#34; * Author: ${3:Your Name}\u0026#34;, \u0026#34; * Email: ${4:your.email@example.com}\u0026#34;, \u0026#34; * Date: $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\u0026#34;, \u0026#34; *\u0026#34;, \u0026#34; * Copyright (c) $CURRENT_YEAR, [Your Company Name]\u0026#34;, \u0026#34; * All rights reserved.\u0026#34;, \u0026#34; *\u0026#34;, \u0026#34; * [Add additional license information here]\u0026#34;, \u0026#34; */\u0026#34;, \u0026#34;\u0026#34; ], \u0026#34;description\u0026#34;: \u0026#34;Prints a detailed copyright header with additional information\u0026#34; } } å…¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ ${1:default} è¿™æ ·çš„è¯­æ³•æ¥è®¾ç½®é»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š\n\u0026#34;Author: $3\u0026#34;: \u0026#34;Author: ${3:Your Name}\u0026#34; é€šè¿‡å¿«æ·é”®æ’å…¥ç‰ˆæƒä¿¡æ¯ è¿›å…¥ Code \u0026gt; é¦–é€‰é¡¹ \u0026gt; é”®ç›˜å¿«æ·æ–¹å¼ã€‚ æœç´¢ â€œTrigger Suggestâ€ æˆ–è€… â€œè§¦å‘å»ºè®®â€ã€‚ æŸ¥çœ‹å½“å‰ç»‘å®šçš„å¿«æ·é”®æˆ–ä¸ºå…¶è®¾ç½®ä¸€ä¸ªæ–°çš„å¿«æ·é”®ã€‚ ç„¶åå°±å¯ä»¥ä½¿ç”¨ prefix å­—æ®µçš„å†…å®¹æ¥è‡ªåŠ¨åŠ å…¥ç‰ˆæƒä¿¡æ¯æ¥\nè¡¥å…… è¿™é‡Œæ˜¯ä»¥C++æ–‡ä»¶æ¥è¯´æ˜ï¼Œå…¶ä»–è¯­è¨€ä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘ï¼Œåªéœ€è¦æ³¨æ„æŒ‰ç…§å„è‡ªçš„è¯­æ³•å°±å¥½ã€‚\næ¯”å¦‚ï¼š\nåœ¨ç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡» æ–‡ä»¶ \u0026gt; é¦–é€‰é¡¹ \u0026gt; ç”¨æˆ·ç‰‡æ®µã€‚ é€‰æ‹© New Global Snippets file... æˆ–è€…åœ¨å·¥ä½œåŒºä¸­é€‰æ‹© New Snippets file for 'your-workspace-name'...ã€‚ è¾“å…¥ç‰‡æ®µæ–‡ä»¶çš„åç§°ï¼Œå¦‚ date.snippetsã€‚ JavaScript çš„ date.snippets æ–‡ä»¶:\n{ \u0026#34;Print Current Date\u0026#34;: { \u0026#34;prefix\u0026#34;: \u0026#34;date\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;// Current Date: ${CURRENT_DATE}\u0026#34; ], \u0026#34;description\u0026#34;: \u0026#34;Prints the current date as a comment.\u0026#34; } } Python çš„ date.snippets æ–‡ä»¶:\n{ \u0026#34;Print Current Date\u0026#34;: { \u0026#34;prefix\u0026#34;: \u0026#34;date\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;# Current Date: ${CURRENT_DATE}\u0026#34; ], \u0026#34;description\u0026#34;: \u0026#34;Prints the current date as a comment.\u0026#34; } } å¦å¤–ï¼Œæœ‰ä¸€äº›å®å®šä¹‰æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š\n${CURRENT_DATE}ï¼šå½“å‰æ—¥æœŸï¼ˆæ ¼å¼ï¼šyyyy-mm-ddï¼‰ã€‚ ${CURRENT_MONTH_NAME}ï¼šå½“å‰æœˆä»½çš„å…¨åï¼ˆä¾‹å¦‚ï¼šJanuary, Februaryç­‰ï¼‰ã€‚ ${CURRENT_MONTH_NAME_SHORT}ï¼šå½“å‰æœˆä»½çš„ç¼©å†™ï¼ˆä¾‹å¦‚ï¼šJan, Febç­‰ï¼‰ã€‚ ${CURRENT_YEAR}ï¼šå½“å‰å¹´ä»½ã€‚ ${CURRENT_HOUR}ï¼šå½“å‰å°æ—¶ï¼ˆ24å°æ—¶åˆ¶ï¼‰ã€‚ ${CURRENT_MINUTE}ï¼šå½“å‰åˆ†é’Ÿã€‚ ${CURRENT_SECOND}ï¼šå½“å‰ç§’æ•°ã€‚ ${CURRENT_DAY_NAME}ï¼šå½“å‰æ˜ŸæœŸå‡ çš„å…¨åï¼ˆä¾‹å¦‚ï¼šMonday, Tuesdayç­‰ï¼‰ã€‚ ${CURRENT_DAY_NAME_SHORT}ï¼šå½“å‰æ˜ŸæœŸå‡ çš„ç¼©å†™ï¼ˆä¾‹å¦‚ï¼šMon, Tueç­‰ï¼‰ã€‚ ","permalink":"https://ahaknow.com/posts/know/dev-auto-code-copyright/","summary":"å…³äºä»£ç ğŸ’©å±±ï¼Œå·²ç»ä¸å¿ç›´è§†ã€‚ã€‚ã€‚ åªå¸Œæœ›è‡ªå·±èƒ½å¤Ÿå†™å‡ºæ•´æ´ã€å¤§æ–¹ã€æœ‰é­…åŠ›ï¼ˆåˆç¾ä¸½ï¼‰çš„ä»£ç ã€‚ æ‰€ä»¥å‘¢ï¼Œå¾—ç»™ä»£ç å±ä¸ªå¤§åã€‚ vscodeç”¨çš„ä¹…äº†ï¼Œä»¥æ­¤ä¸º","title":"å¼€å‘å®æˆ˜ï¼šç»™ä»£ç å±ä¸Šå¤§å"},{"content":" ä¸»æ‰“ä¸€ä¸ªâ€œæ‡’â€å­—ï¼\nç§»åŠ¨æ–‡ä»¶å•Šï¼Œé‡å‘½åå•¥çš„ï¼ŒåŠ¨æ‰‹æ‹–æ‹–ä¸è¡Œå˜›ï¼Ÿï¼\nä¸è¡Œï¼ç”¨é”®ç›˜ï¼Œç”¨å‘½ä»¤è¡Œï¼\næ¯”å¦‚ï¼š\næƒ³è¦ç§»åŠ¨ ZYC01981 - 01.jpgï¼ŒåŒæ—¶åˆæƒ³æŠŠ - 01 åç¼€ç»™å»æ‰ï¼Œæ€ä¹ˆåšï¼Ÿ\nå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼\nå¾ˆå‰å®³ï¼Ÿå—¯ï¼å”¯æ‰‹ç†Ÿå°”ï½\nè¦åŒ¹é…ä»»ä½•ä»¥ \u0026quot; - 01\u0026quot;ã€\u0026quot; - 02\u0026quot;ã€\u0026quot; - 03\u0026quot;ã€\u0026quot; - 12\u0026quot;ã€\u0026quot; - 13\u0026quot; ç­‰ç­‰ç­‰ç­‰ç»“å°¾çš„ .jpg æ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š\nfind . -type f -regex \u0026#39;.* - [0-9][0-9]\\.jpg\u0026#39; è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…ä»»ä½•ä»¥ä¸¤ä½æ•°å­—ç»“å°¾çš„ .jpg æ–‡ä»¶ã€‚å¦‚æœéœ€è¦é™åˆ¶ç‰¹å®šçš„æ•°å­—ï¼Œåˆ™å¯ä»¥è°ƒæ•´æ­£åˆ™è¡¨è¾¾å¼çš„æ•°å­—éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼ŒåªåŒ¹é…ä»¥ \u0026ldquo;01\u0026rdquo;ã€\u0026ldquo;02\u0026rdquo;ã€\u0026ldquo;03\u0026rdquo;ã€\u0026ldquo;12\u0026rdquo;ã€\u0026ldquo;13\u0026rdquo; ç»“å°¾çš„æ–‡ä»¶ï¼š\nfind . -type f -regex \u0026#39;.* - \\(01\\|02\\|03\\|12\\|13\\)\\.jpg\u0026#39; å¯¹äºé‡å‘½åæ“ä½œï¼Œå¦‚æœå¸Œæœ›å»æ‰æ–‡ä»¶åä¸­çš„ \u0026quot; - æ•°å­—\u0026quot; éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆä½¿ç”¨ echo åªæ‰“å°ä¸æ‰§è¡Œï¼‰ï¼š\nfind . -type f -regex \u0026#39;.* - [0-9][0-9]\\.jpg\u0026#39; -exec bash -c \u0026#39;echo mv \u0026#34;$0\u0026#34; \u0026#34;${0/ - [0-9][0-9]/}\u0026#34;\u0026#39; {} \\; å¦‚æœæƒ³è¦ç§»åŠ¨å®ƒä»¬ï¼Œåˆ™å¯ä»¥ï¼š\nfind . -type f -regex \u0026#39;.* - [0-9][0-9]\\.jpg\u0026#39; -exec mv {} DestinationFolder/ \\; è§£é‡Šä¸€ä¸‹æ¯ä¸ªéƒ¨åˆ†çš„ä½œç”¨\nfind .ï¼š\nfind ç”¨äºåœ¨ç›®å½•æ ‘ä¸­æŸ¥æ‰¾æ–‡ä»¶å’Œç›®å½•ã€‚ . æŒ‡å®šä»å½“å‰ç›®å½•å¼€å§‹æœç´¢ã€‚ -type fï¼š\nè¿™ä¸ªé€‰é¡¹é™åˆ¶ find å‘½ä»¤åªæŸ¥æ‰¾æ–‡ä»¶ï¼ˆä¸åŒ…æ‹¬ç›®å½•ï¼‰ã€‚ -regex '.* - [0-9][0-9]\\.jpg'ï¼š\n-regex é€‰é¡¹è®© find ä½¿ç”¨å®Œæ•´çš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…æ–‡ä»¶è·¯å¾„ã€‚ '.* - [0-9][0-9]\\.jpg' æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥åŒ¹é…æ–‡ä»¶åä¸­åŒ…å« \u0026quot; - æ•°å­—æ•°å­—.jpg\u0026quot; çš„æ–‡ä»¶ã€‚ -exec bash -c 'echo mv \u0026quot;$0\u0026quot; \u0026quot;${0/ - [0-9][0-9]/}\u0026quot;' {} \\;ï¼š\n-exec é€‰é¡¹åè·Ÿä¸€ä¸ªå‘½ä»¤ï¼Œè¯¥å‘½ä»¤å¯¹æ¯ä¸ªæ‰¾åˆ°çš„æ–‡ä»¶æ‰§è¡Œã€‚åœ¨æ­¤å¤„ï¼Œå®ƒè°ƒç”¨ bash -cï¼Œå…è®¸æ‰§è¡Œæ›´å¤æ‚çš„ bash å‘½ä»¤ã€‚ 'echo mv \u0026quot;$0\u0026quot; \u0026quot;${0/ - [0-9][0-9]/}\u0026quot;' æ˜¯ä¸€ä¸ª bash å‘½ä»¤ã€‚å®ƒä½¿ç”¨ echo é¢„è§ˆ mv å‘½ä»¤çš„æ•ˆæœï¼Œè€Œä¸å®é™…æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨ã€‚ \u0026quot;$0\u0026quot; ä»£è¡¨å½“å‰å¤„ç†çš„æ–‡ä»¶åã€‚ \u0026quot;${0/ - [0-9][0-9]/}\u0026quot; æ˜¯ bash çš„å‚æ•°æ›¿æ¢ï¼Œå®ƒåœ¨æ–‡ä»¶åä¸­åˆ é™¤ \u0026quot; - æ•°å­—æ•°å­—\u0026quot; æ¨¡å¼ã€‚ {} æ˜¯ find å‘½ä»¤ç”¨æ¥ä»£è¡¨å½“å‰æ‰¾åˆ°çš„æ–‡ä»¶åã€‚ \\; è¡¨ç¤º -exec æ‰§è¡Œçš„å‘½ä»¤ç»“æŸã€‚ -exec mv {} DestinationFolder/ \\;ï¼š\nè¿™ä¸ªå‘½ä»¤ä¹Ÿæ˜¯ -exec ç”¨æ³•çš„ä¸€ä¸ªä¾‹å­ï¼Œç”¨äºå°†æ‰¾åˆ°çš„æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•ã€‚ mv æ˜¯ç§»åŠ¨ï¼ˆæˆ–é‡å‘½åï¼‰æ–‡ä»¶çš„å‘½ä»¤ã€‚ {} ä»£è¡¨å½“å‰å¤„ç†çš„æ–‡ä»¶åã€‚ DestinationFolder/ æ˜¯ç›®æ ‡ç›®å½•ï¼Œæ‰€æœ‰æ‰¾åˆ°çš„æ–‡ä»¶éƒ½ä¼šè¢«ç§»åŠ¨åˆ°è¿™ä¸ªç›®å½•ã€‚ \\; è¡¨ç¤º -exec æ‰§è¡Œçš„å‘½ä»¤ç»“æŸã€‚ ","permalink":"https://ahaknow.com/posts/know/note-shell-move-file/","summary":"ä¸»æ‰“ä¸€ä¸ªâ€œæ‡’â€å­—ï¼ ç§»åŠ¨æ–‡ä»¶å•Šï¼Œé‡å‘½åå•¥çš„ï¼ŒåŠ¨æ‰‹æ‹–æ‹–ä¸è¡Œå˜›ï¼Ÿï¼ ä¸è¡Œï¼ç”¨é”®ç›˜ï¼Œç”¨å‘½ä»¤è¡Œï¼ æ¯”å¦‚ï¼š æƒ³è¦ç§»åŠ¨ ZYC01981 - 01.jpgï¼ŒåŒæ—¶åˆæƒ³æŠŠ - 01 åç¼€ç»™å»æ‰","title":"Shellï¼šæ“ä½œç§»åŠ¨æ–‡ä»¶"},{"content":" æœ¬è¯•é¢˜ä»…ç”¨äºè€ƒæŸ¥ C++/C ç¨‹åºå‘˜çš„åŸºæœ¬ç¼–ç¨‹æŠ€èƒ½ã€‚å†…å®¹é™äº C++/C å¸¸ç”¨è¯­æ³•ï¼Œä¸æ¶‰åŠæ•°æ®ç»“æ„ã€ç®—æ³•ä»¥åŠæ·±å¥¥çš„è¯­æ³•ã€‚è€ƒè¯•æˆç»©èƒ½åæ˜ å‡ºè€ƒç”Ÿçš„ç¼–ç¨‹è´¨é‡ä»¥åŠå¯¹ C++/C çš„ç†è§£ç¨‹åº¦ï¼Œä½†ä¸èƒ½åæ˜ è€ƒç”Ÿçš„æ™ºåŠ›å’Œè½¯ä»¶å¼€å‘èƒ½åŠ›ã€‚\nä¸€ã€è¯·å¡«å†™ BOOL , float, æŒ‡é’ˆå˜é‡ ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if è¯­å¥ã€‚(10 åˆ†) æç¤º:è¿™é‡Œâ€œé›¶å€¼â€å¯ä»¥æ˜¯ 0, 0.0 , FALSE æˆ–è€…â€œç©ºæŒ‡é’ˆâ€ã€‚ä¾‹å¦‚ int å˜é‡ n ä¸â€œé›¶å€¼â€ æ¯”è¾ƒçš„ if è¯­å¥ä¸º:\nif ( n == 0 ) if ( n != 0 ) ä»¥æ­¤ç±»æ¨ã€‚\nè¯·å†™å‡º BOOL flag ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if è¯­å¥ã€‚ï¼ˆ3 åˆ†ï¼‰ //æ ‡å‡†ç­”æ¡ˆ if ( flag ) if ( !flag ) // å¦‚ä¸‹å†™æ³•å‡å±ä¸è‰¯é£æ ¼ï¼Œä¸å¾—åˆ†ã€‚ if (flag == TRUE) if (flag == 1 ) if (flag == FALSE) if (flag == 0) æ³¨è§£ï¼šBOOLå€¼ç›´æ¥ç”¨ifåˆ¤æ–­å³å¯ï¼Œæ²¡å¿…è¦å‡ºç°==çš„æƒ…å†µã€‚\nè¯·å†™å‡º float x ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if è¯­å¥ã€‚ï¼ˆ4 åˆ†ï¼‰ ","permalink":"https://ahaknow.com/posts/know/art-c-c++-exam/","summary":"æœ¬è¯•é¢˜ä»…ç”¨äºè€ƒæŸ¥ C++/C ç¨‹åºå‘˜çš„åŸºæœ¬ç¼–ç¨‹æŠ€èƒ½ã€‚å†…å®¹é™äº C++/C å¸¸ç”¨è¯­æ³•ï¼Œä¸æ¶‰åŠæ•°æ®ç»“æ„ã€ç®—æ³•ä»¥åŠæ·±å¥¥çš„è¯­æ³•ã€‚è€ƒè¯•æˆç»©èƒ½åæ˜ å‡ºè€ƒç”Ÿçš„ç¼–ç¨‹è´¨é‡ä»¥åŠå¯¹ C++/C çš„ç†è§£","title":"ç¼–ç¨‹è‰ºæœ¯ï¼šé«˜è´¨é‡ç¼–ç¨‹æŒ‡å—C/C++è¯•é¢˜"},{"content":" åœ¨ä¸Šä¸€ç¯‡æ‰“é€šäº†è¯»å–å­—èŠ‚æµæ–‡ä»¶åï¼Œèƒ½å¤Ÿå¾—åˆ°æ¯ä¸€å¸§çš„å­—èŠ‚æ•°æ®äº†ï¼Œè¿™ä¸€ç¯‡å°±æ¥è§£å†³ä¸ºè¿™äº›æ•°æ®èµ‹äºˆå®é™…æ„ä¹‰ã€‚\nå½©è‰²å›¾åƒé‡‡ç”¨H.264ç¼–ç  -\u0026gt; é‚£å°±éœ€è¦æŒ‰ç…§H.264è§£ç \nè§†å·®å›¾åƒé‡‡ç”¨LZ4å‹ç¼© -\u0026gt; è§†å·®å›¾ä¿å­˜çš„16ä½æ— ç¬¦å·æ•´æ•°ï¼Œé‡‡ç”¨LZ4è§£å‹ç¼©ï¼ˆå¼€æºï¼‰\nèƒŒæ™¯çŸ¥è¯† LZ4 LZ4 æ˜¯ä¸€ä¸ªéå¸¸å¿«é€Ÿçš„å‹ç¼©ç®—æ³•ï¼Œæä¾›äº†å®æ—¶å‹ç¼©é€Ÿåº¦å’Œéå¸¸å¿«çš„è§£å‹ç¼©é€Ÿåº¦ï¼Œç”± Yann Colletï¼ˆFaceBookå¤§ä½¬ï¼‰ å¼€å‘ã€‚å®ƒå±äºæ— æŸå‹ç¼©ç®—æ³•ï¼Œæ„å‘³ç€å‹ç¼©åçš„æ•°æ®å¯ä»¥å®Œå…¨æ¢å¤åˆ°å…¶åŸå§‹å½¢æ€ã€‚LZ4 ä¸»è¦è®¾è®¡ç”¨äºéå¸¸é«˜é€Ÿçš„åœºæ™¯ï¼ˆè§£å‹é€Ÿåº¦å¯ä»¥è¾¾åˆ°æ•°GBæ¯ç§’ï¼‰ï¼Œä¾‹å¦‚å®æ—¶æ•°æ®ä¼ è¾“ã€æ—¥å¿—æ•°æ®å¤„ç†ç­‰ã€‚\nH.264 H.264ï¼Œä¹Ÿè¢«ç§°ä¸ºMPEG-4 AVCï¼ˆAdvanced Video Codingï¼‰ï¼Œæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è§†é¢‘å‹ç¼©æ ‡å‡†ã€‚å®ƒæ˜¯ç”±å›½é™…ç”µä¿¡è”ç›Ÿï¼ˆITU-Tï¼‰ä¸‹çš„è§†é¢‘ç¼–ç ä¸“å®¶ç»„ï¼ˆVCEGï¼‰ä»¥åŠè¿åŠ¨å›¾åƒä¸“å®¶ç»„ï¼ˆMPEGï¼‰å…±åŒå¼€å‘çš„ã€‚H.264æ ‡å‡†çš„ç›®æ ‡æ˜¯æä¾›é«˜è´¨é‡çš„è§†é¢‘ä¼ è¾“ï¼ŒåŒæ—¶æ˜¾è‘—é™ä½æ¯”ç‰¹ç‡ï¼Œç›¸å¯¹äºä»¥å‰çš„æ ‡å‡†å¦‚MPEG-2å’ŒMPEG-4 Part 2ï¼Œå®ƒåœ¨ä¿æŒç›¸åŒè§†è§‰è´¨é‡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿æ–‡ä»¶å¤§å°å‡å°‘åˆ°åŸæ¥çš„ä¸€åŠä»¥ä¸Šã€‚\nH.264 å’Œ Qt Qt ä½¿ç”¨ Qt Multimedia æ¨¡å—æ¥å¤„ç†å¤šåª’ä½“å†…å®¹ï¼ŒåŒ…æ‹¬è§†é¢‘å’ŒéŸ³é¢‘ã€‚è¿™ä¸ªæ¨¡å—æ”¯æŒå¤šç§æ ¼å¼ï¼ŒåŒ…æ‹¬ H.264ã€‚ä½¿ç”¨ Qt Multimediaï¼Œå¼€å‘è€…å¯ä»¥è¾ƒå®¹æ˜“åœ°åœ¨åº”ç”¨ä¸­é›†æˆè§†é¢‘æ’­æ”¾åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ç›´æ¥å¤„ç†åº•å±‚çš„è§†é¢‘è§£ç ã€‚\nQt Multimedia Widgetsï¼šå¯ä»¥ä½¿ç”¨ QMediaPlayer å’Œ QVideoWidget æ¥æ’­æ”¾ H.264 è§†é¢‘ã€‚Qt å¤„ç†å¤šåª’ä½“æµçš„è§£ç å’Œæ¸²æŸ“ï¼Œå¼€å‘è€…åªéœ€è¦å…³æ³¨å¦‚ä½•æ§åˆ¶æ’­æ”¾å™¨å’Œé›†æˆåˆ°UIä¸­ã€‚ è‡ªåŠ¨è§£ç ï¼šQt åº•å±‚ä½¿ç”¨ç³»ç»Ÿçš„ç¼–è§£ç åº“ï¼ˆå¦‚ DirectShow on Windows, GStreamer on Linuxï¼‰æ¥è§£ç è§†é¢‘æµï¼ŒåŒ…æ‹¬ H.264ã€‚è¿™æ„å‘³ç€é€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨è§£æ H.264 æ•°æ®å¸§ï¼Œé™¤ééœ€è¦éå¸¸å®šåˆ¶åŒ–çš„å¤„ç†ã€‚ FFmpeg FFmpeg æ˜¯ä¸€ä¸ªå¼€æºçš„å¤šåª’ä½“æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€å¥—å…¨é¢çš„åº“å’Œå·¥å…·ï¼Œç”¨äºå¤„ç†è§†é¢‘ã€éŸ³é¢‘å’Œå…¶ä»–å¤šåª’ä½“æ–‡ä»¶å’Œæµã€‚è¿™ä¸ªæ¡†æ¶æ”¯æŒè½¬ç ã€è½¬æµã€æ’­æ”¾å’Œåˆ†æå‡ ä¹æ‰€æœ‰ç±»å‹çš„å¤šåª’ä½“æ•°æ®ã€‚FFmpeg åŒ…æ‹¬ä»¥ä¸‹ä¸»è¦ç»„ä»¶ï¼š\nlibavcodec: æä¾›å¹¿æ³›çš„ç¼–è§£ç å™¨æ”¯æŒï¼Œæ˜¯å¤„ç†è§†é¢‘å’ŒéŸ³é¢‘ç¼–è§£ç çš„æ ¸å¿ƒåº“ã€‚ libavformat: å¤„ç†å¤šç§éŸ³è§†é¢‘å®¹å™¨æ ¼å¼çš„è¾“å…¥å’Œè¾“å‡ºã€‚ libavutil: åŒ…å«ä¸€äº›è¾…åŠ©çš„å®ç”¨åŠŸèƒ½ï¼Œå¦‚æ—¥å¿—ç®¡ç†å’Œé”™è¯¯å¤„ç†ã€‚ libavfilter: æä¾›è§†é¢‘å’ŒéŸ³é¢‘æµçš„è½¬æ¢å’Œæ“ä½œåŠŸèƒ½ã€‚ libswscale: å¤„ç†å›¾åƒè‰²å½©å’Œåƒç´ æ ¼å¼è½¬æ¢ã€‚ libswresample: å¤„ç†éŸ³é¢‘é‡‡æ ·æ•°æ®çš„è½¬æ¢ã€‚ é¡¹ç›®ä¸­ä½¿ç”¨LZ4 é¦–å…ˆå®‰è£… liblz4-devï¼š\nsudo apt update sudo apt install liblz4-dev æœ‰å¯èƒ½ CMake ä»ç„¶æ‰¾ä¸åˆ° LZ4ï¼Œè¿™æ—¶å€™å¯ä»¥æ‰‹åŠ¨æŒ‡å®š LZ4 åº“å’Œå¤´æ–‡ä»¶çš„è·¯å¾„ã€‚é¦–å…ˆéœ€è¦ç¡®å®š liblz4.so å’Œ LZ4 çš„å¤´æ–‡ä»¶ lz4.h çš„ä½ç½®ã€‚è¿™äº›æ–‡ä»¶é€šå¸¸ä½äº /usr/include å’Œ /usr/lib ä¸‹ï¼Œå¦‚æœä¸ç¡®å®šå¯ä»¥é€šè¿‡ find /usr -name lz4.hå‘½ä»¤æŸ¥æ‰¾ ã€‚\nä¿®æ”¹ CMakeLists.txt æ–‡ä»¶ï¼Œæ‰‹åŠ¨è®¾ç½®è·¯å¾„ï¼š\ncmake_minimum_required(VERSION 3.10) project(DataFrameParser) set(CMAKE_CXX_STANDARD 20) set(CMAKE_CXX_STANDARD_REQUIRED True) # Find OpenCV find_package(OpenCV REQUIRED) # Include directories for OpenCV and manually for LZ4 include_directories( ${OpenCV_INCLUDE_DIRS} /usr/include ) # Link directories for LZ4 link_directories(/usr/lib /usr/lib/x86_64-linux-gnu) # Adjust this path according to your system add_executable(DataFrameParser main.cpp) target_link_libraries(DataFrameParser lz4 ${OpenCV_LIBS}) è¿™é‡Œï¼Œè¿™é‡Œä½¿ç”¨äº† link_directories å’Œ target_link_libraries ä¸­ç›´æ¥æŒ‡å®š lz4ï¼Œè€Œä¸æ˜¯ ${LZ4_LIBRARIES}ã€‚è¿™æ˜¯å› ä¸ºæ²¡æœ‰ä½¿ç”¨ find_package æ¥å®šä¹‰ LZ4_LIBRARIES å˜é‡ã€‚\né¡¹ç›®ä¸­ä½¿ç”¨FFmpeg å®‰è£… FFmpeg å’Œç›¸åº”çš„å¼€å‘åº“ï¼š\nsudo apt update sudo apt install ffmpeg sudo apt install libavcodec-dev libavformat-dev libswscale-dev libavutil-dev è¿™äº›å¼€å‘åº“åŒ…æ‹¬ç”¨äºå¤„ç†è§†é¢‘ç¼–è§£ç çš„ libavcodecï¼Œç”¨äºå¤„ç†å¤šåª’ä½“å®¹å™¨æ ¼å¼çš„ libavformatï¼Œä»¥åŠç”¨äºè§†é¢‘ç¼©æ”¾å’Œæ ¼å¼è½¬æ¢çš„ libswscale ç­‰ã€‚\nåœ¨ CMake é¡¹ç›®ä¸­ä½¿ç”¨ FFmpegï¼Œåˆ™éœ€è¦åœ¨ CMakeLists.txt æ–‡ä»¶ä¸­æ­£ç¡®è®¾ç½®æ‰¾åˆ°å’Œé“¾æ¥è¿™äº›åº“ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š\ncmake_minimum_required(VERSION 3.10) project(DataFrameParser) set(CMAKE_CXX_STANDARD 20) set(CMAKE_CXX_STANDARD_REQUIRED True) # Find OpenCV find_package(OpenCV REQUIRED) # Find FFmpeg components find_package(PkgConfig REQUIRED) pkg_check_modules(AVCODEC REQUIRED libavcodec) pkg_check_modules(AVFORMAT REQUIRED libavformat) pkg_check_modules(SWSCALE REQUIRED libswscale) pkg_check_modules(AVUTIL REQUIRED libavutil) include_directories( ${OpenCV_INCLUDE_DIRS} ${AVCODEC_INCLUDE_DIRS} ${AVFORMAT_INCLUDE_DIRS} ${SWSCALE_INCLUDE_DIRS} ${AVUTIL_INCLUDE_DIRS} ) add_executable(DataFrameParser main.cpp) target_link_libraries(DataFrameParser ${OpenCV_LIBS} ${AVCODEC_LIBRARIES} ${AVFORMAT_LIBRARIES} ${SWSCALE_LIBRARIES} ${AVUTIL_LIBRARIES} ) éš¾ç‚¹åˆ†æ ä¸ä½¿ç”¨QTï¼Œå¸Œæœ›èƒ½å¤Ÿè½¬æ¢ä¸ºOpenCVå¤„ç†çš„å›¾åƒï¼Œå› æ­¤éœ€è¦ä½¿ç”¨åˆ°FFmpegã€‚\nç”±äºå¤„ç†çš„å­—èŠ‚æµï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿è¯èƒ½å¤ŸæŒç»­çš„è§£ç ã€‚ä¹Ÿå°±æ˜¯éœ€è¦åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç„¶åæŒç»­è¿è¡Œï¼Œè¿è¡Œç»“æŸåé‡Šæ”¾èµ„æºã€‚\nä½¿ç”¨ FFmpeg è§£æ H.264 å›¾åƒçš„è¿‡ç¨‹å’ŒåŸç† åˆå§‹åŒ–å’Œé…ç½®è§£ç å™¨ï¼ˆè¿™éƒ¨åˆ†åªéœ€è¦åˆå§‹åŒ–ä¸€æ¬¡ï¼‰\næŸ¥æ‰¾å¹¶æ‰“å¼€è§£ç å™¨:ä½¿ç”¨ avcodec_find_decoder æ ¹æ®æŒ‡å®šçš„ç¼–è§£ç å™¨IDï¼ˆä¾‹å¦‚ AV_CODEC_ID_H264ï¼‰æ¥æŸ¥æ‰¾å¯¹åº”çš„è§£ç å™¨ã€‚ç„¶åä½¿ç”¨ avcodec_alloc_context3 å’Œ avcodec_open2 æ¥åˆ†é…å¹¶åˆå§‹åŒ–è§£ç å™¨ä¸Šä¸‹æ–‡ã€‚ è®¾ç½®è§£ç ä¸Šä¸‹æ–‡:é…ç½®è§£ç å™¨ä¸Šä¸‹æ–‡ï¼Œå¦‚è®¾ç½®æ—¶é—´åŸºã€å»¶è¿Ÿç­‰ã€‚ è§£ç è¿‡ç¨‹\nè¯»å–å’Œå‘é€æ•°æ®åŒ…:ä»æºæ•°æ®ï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œæµï¼‰ä¸­è¯»å–æ•°æ®ï¼Œå¹¶æ„å»ºæˆ AVPacketã€‚ä½¿ç”¨ av_read_frame ä»å¤šåª’ä½“æ–‡ä»¶è¯»å–æ•°æ®å¸§æˆ–ä½¿ç”¨ av_init_packet å¤„ç†è‡ªå®šä¹‰çš„æ•°æ®ï¼Œç„¶åä½¿ç”¨ avcodec_send_packet å°†æ•°æ®åŒ…å‘é€ç»™è§£ç å™¨ã€‚ æ¥æ”¶å’Œè§£ç :ä½¿ç”¨ avcodec_receive_frame æ¥æ”¶è§£ç å™¨è¾“å‡ºçš„å¸§ã€‚è¯¥å‡½æ•°ä»è§£ç å™¨ä¸­æå–ä¸€ä¸ªè§£ç å¥½çš„å¸§ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®è§£ç ä¸€ä¸ªå®Œæ•´çš„å¸§ï¼Œå®ƒä¼šè¿”å› EAGAINã€‚ å›¾åƒè½¬æ¢:ä½¿ç”¨ libswscaleï¼ˆæˆ– SwsContextï¼‰å°†è§£ç åçš„å¸§ï¼ˆé€šå¸¸ä¸ºYUVæ ¼å¼ï¼‰è½¬æ¢ä¸ºå…¶ä»–åƒç´ æ ¼å¼ï¼ˆå¦‚RGBï¼‰ï¼Œä»¥ä¾¿äºæ˜¾ç¤ºæˆ–è¿›ä¸€æ­¥å¤„ç†ã€‚ èµ„æºæ¸…ç† é‡Šæ”¾èµ„æº:ä½¿ç”¨ av_frame_freeã€av_packet_free å’Œ avcodec_close é‡Šæ”¾å¸§ã€æ•°æ®åŒ…å’Œå…³é—­è§£ç å™¨ã€‚ ä»£ç å®ç° // å…¨å±€å˜é‡æˆ–ç±»æˆå‘˜å˜é‡ AVCodecContext* context = nullptr; bool initializeDecoder() { AVCodec* codec = avcodec_find_decoder(AV_CODEC_ID_H264); if (!codec) { std::cerr \u0026lt;\u0026lt; \u0026#34;Codec not found.\\n\u0026#34;; return false; } context = avcodec_alloc_context3(codec); if (!context) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not allocate video codec context.\\n\u0026#34;; return false; } if (avcodec_open2(context, codec, NULL) \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not open codec.\\n\u0026#34;; avcodec_free_context(\u0026amp;context); return false; } return true; } void cleanupDecoder() { if (context) { avcodec_close(context); avcodec_free_context(\u0026amp;context); } } bool processH264Frame(const std::vector\u0026lt;uint8_t\u0026gt;\u0026amp; data, cv::Mat\u0026amp; image) { AVPacket* pkt = av_packet_alloc(); if (!pkt) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not allocate AVPacket.\\n\u0026#34;; return false; } av_init_packet(pkt); // set data source pkt-\u0026gt;data = const_cast\u0026lt;uint8_t*\u0026gt;(data.data()); // Unsafe cast, data must be non-const pkt-\u0026gt;size = data.size(); int ret = avcodec_send_packet(context, pkt); if (ret \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Error sending a packet for decoding.\\n\u0026#34;; av_packet_free(\u0026amp;pkt); return false; } AVFrame* frame = av_frame_alloc(); ret = avcodec_receive_frame(context, frame); if (ret == AVERROR(EAGAIN) || ret == AVERROR_EOF) { av_frame_free(\u0026amp;frame); av_packet_free(\u0026amp;pkt); return false; } else if (ret \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Error during decoding.\\n\u0026#34;; av_frame_free(\u0026amp;frame); av_packet_free(\u0026amp;pkt); return false; } // Convert AVFrame to cv::Mat // yuvj420p std::cout \u0026lt;\u0026lt; \u0026#34;Pixel Format: \u0026#34; \u0026lt;\u0026lt; av_get_pix_fmt_name(static_cast\u0026lt;AVPixelFormat\u0026gt;(frame-\u0026gt;format)) \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;Pixel Format Enum: \u0026#34; \u0026lt;\u0026lt; frame-\u0026gt;format \u0026lt;\u0026lt; std::endl; SwsContext* img_convert_ctx = sws_getContext(frame-\u0026gt;width, frame-\u0026gt;height, static_cast\u0026lt;AVPixelFormat\u0026gt;(frame-\u0026gt;format), frame-\u0026gt;width, frame-\u0026gt;height, AV_PIX_FMT_BGR24, SWS_BICUBIC, NULL, NULL, NULL); int linesize[1] = {3 * frame-\u0026gt;width}; // RGB stride image = cv::Mat(frame-\u0026gt;height, frame-\u0026gt;width, CV_8UC3); sws_scale(img_convert_ctx, frame-\u0026gt;data, frame-\u0026gt;linesize, 0, frame-\u0026gt;height, \u0026amp;image.data, linesize); sws_freeContext(img_convert_ctx); av_frame_free(\u0026amp;frame); av_packet_free(\u0026amp;pkt); return true; } ä»£ç åˆ†æ ç”±äºSPSï¼ˆåºåˆ—å‚æ•°é›†ï¼‰å’ŒPPSï¼ˆå›¾åƒå‚æ•°é›†ï¼‰ç­‰å…³é”®è§£ç ä¿¡æ¯é€šå¸¸åªåœ¨è§†é¢‘æµçš„å¼€å§‹éƒ¨åˆ†å‘é€ï¼Œå› æ­¤åªéœ€è¦åˆå§‹åŒ–è§£ç å™¨ä¸€æ¬¡ã€‚ï¼ˆæœ€å¼€å§‹çš„å®ç°æ˜¯æ¯æ¬¡è§£ç å¸§ä¹‹å‰éƒ½é‡æ–°åˆå§‹åŒ–è§£ç å™¨ï¼Œè¿™æ ·çš„è¯ï¼Œè¿™äº›å…³é”®ä¿¡æ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œå¯¼è‡´åç»­å¸§æ— æ³•æ­£ç¡®è§£ç ï¼Œè¡¨ç°çš„ç°è±¡æ˜¯å¡åœ¨äº†ç¬¬ä¸€å¸§ç”»é¢ï¼‰ã€‚\nä»¥ä¸‹æ˜¯ä¸Šè¿°ä»£ç çš„é€è¡Œè§£é‡Šï¼š\nåˆå§‹åŒ–è§£ç å™¨ // æ‰¾åˆ°å¹¶ç¡®è®¤è§£ç å™¨ AVCodec* codec = avcodec_find_decoder(AV_CODEC_ID_H264); if (!codec) { std::cerr \u0026lt;\u0026lt; \u0026#34;Codec not found.\\n\u0026#34;; return false; } avcodec_find_decoder: è¿™ä¸ªå‡½æ•°ç”¨äºæŸ¥æ‰¾æŒ‡å®šç¼–è§£ç å™¨ï¼ˆè¿™é‡Œæ˜¯H.264ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è§£ç å™¨çš„æŒ‡é’ˆã€‚ if (!codec): å¦‚æœæ²¡æœ‰æ‰¾åˆ°è§£ç å™¨ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶è¿”å›å¤±è´¥ã€‚ // åˆ†é…ç¼–è§£ç å™¨ä¸Šä¸‹æ–‡ AVCodecContext* context = avcodec_alloc_context3(codec); if (!context) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not allocate video codec context.\\n\u0026#34;; return false; } avcodec_alloc_context3: åˆ†é…ä¸€ä¸ªæ–°çš„è§£ç å™¨ä¸Šä¸‹æ–‡ï¼Œå…³è”ç»™å®šçš„ç¼–è§£ç å™¨ã€‚ if (!context): å¦‚æœä¸Šä¸‹æ–‡åˆ†é…å¤±è´¥ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶è¿”å›å¤±è´¥ã€‚ // æ‰“å¼€è§£ç å™¨ if (avcodec_open2(context, codec, NULL) \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not open codec.\\n\u0026#34;; return false; } avcodec_open2: åˆå§‹åŒ–è§£ç å™¨ä¸Šä¸‹æ–‡ä»¥å‡†å¤‡ä½¿ç”¨ï¼Œä¼ å…¥çš„ codec æ˜¯ä¸Šæ–‡æŸ¥æ‰¾å¾—åˆ°çš„ç¼–è§£ç å™¨ã€‚ if (avcodec_open2(...) \u0026lt; 0): å¦‚æœè§£ç å™¨æ‰“å¼€å¤±è´¥ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶è¿”å›å¤±è´¥ã€‚ å¤„ç†å•å¸§æ•°æ® // åˆ†é…æ•°æ®åŒ… AVPacket* pkt = av_packet_alloc(); if (!pkt) { std::cerr \u0026lt;\u0026lt; \u0026#34;Could not allocate AVPacket.\\n\u0026#34;; return false; } av_packet_alloc: åˆ†é…ä¸€ä¸ªæ–°çš„æ•°æ®åŒ…ã€‚æ•°æ®åŒ…ç”¨äºå­˜å‚¨ç¼–ç çš„æ•°æ®ï¼ˆä¾‹å¦‚ä¸€ä¸ªå‹ç¼©çš„è§†é¢‘å¸§ï¼‰ã€‚ if (!pkt): å¦‚æœæ•°æ®åŒ…åˆ†é…å¤±è´¥ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶è¿”å›å¤±è´¥ã€‚ // åˆå§‹åŒ–æ•°æ®åŒ…å¹¶è®¾ç½®æ•°æ® av_init_packet(pkt); pkt-\u0026gt;data = const_cast\u0026lt;uint8_t*\u0026gt;(data.data()); // Unsafe cast, data must be non-const pkt-\u0026gt;size = data.size(); av_init_packet: åˆå§‹åŒ–åˆ†é…çš„æ•°æ®åŒ…ã€‚ pkt-\u0026gt;data, pkt-\u0026gt;size: è®¾ç½®æ•°æ®åŒ…çš„æ•°æ®æŒ‡é’ˆå’Œå¤§å°ã€‚data æ˜¯å‡½æ•°ä¼ å…¥çš„H.264æ•°æ®ã€‚ // å‘é€æ•°æ®åŒ…åˆ°è§£ç å™¨ int ret = avcodec_send_packet(context, pkt); if (ret \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Error sending a packet for decoding.\\n\u0026#34;; return false; } avcodec_send_packet: å°†æ•°æ®åŒ…å‘é€åˆ°è§£ç å™¨ï¼Œç­‰å¾…è§£ç ã€‚ if (ret \u0026lt; 0): å¦‚æœå‘é€å¤±è´¥ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶è¿”å›å¤±è´¥ã€‚ æ¥æ”¶è§£ç åçš„å¸§å¹¶è½¬æ¢ä¸ºcv::Mat // åˆ†é…å¸§å­˜å‚¨è§£ç åçš„æ•°æ® AVFrame* frame = av_frame_alloc(); ret = avcodec_receive_frame(context, frame); if (ret == AVERROR(EAGAIN) || ret == AVERROR_EOF) { av_frame_free(\u0026amp;frame); break; } else if (ret \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Error during decoding.\\n\u0026#34;; return false; } av_frame_alloc: åˆ†é…ä¸€ä¸ªå¸§ç”¨äºå­˜å‚¨è§£ç åçš„æ•°æ®ã€‚ avcodec_receive_frame: ä»è§£ç å™¨ä¸­è·å–ä¸€ä¸ªè§£ç åçš„å¸§ã€‚ if (ret == AVERROR(EAGAIN) || ret == AVERROR_EOF): æ£€æŸ¥æ˜¯å¦å…¨éƒ¨æ•°æ®å·²å¤„ç†å®Œæ¯•æˆ–éœ€è¦æ›´å¤šæ•°æ®ã€‚ // è½¬æ¢è§£ç åçš„å¸§ä¸ºcv::Matæ ¼å¼ SwsContext* img_convert_ctx = sws_getContext(frame-\u0026gt;width, frame-\u0026gt;height, static_cast\u0026lt;AVPixelFormat\u0026gt;(frame-\u0026gt;format), frame-\u0026gt;width, frame-\u0026gt;height, AV_PIX_FMT_BGR24, SWS_BICUBIC, NULL, NULL, NULL); int linesize[1] = {3 * frame-\u0026gt;width}; // RGB stride image = cv::Mat(frame-\u0026gt;height, frame-\u0026gt;width, CV_8UC3); sws_scale(img_convert_ctx, frame-\u0026gt;data, frame-\u0026gt;linesize, 0, frame-\u0026gt;height, \u0026amp;image.data, linesize); sws_freeContext(img_convert_ctx); sws_getContext: åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ç”¨äºè½¬æ¢åƒç´ æ•°æ®æ ¼å¼ã€‚ sws_scale: è½¬æ¢åƒç´ æ•°æ®æ ¼å¼ä»è§£ç å¸§çš„æ ¼å¼åˆ°BGR24ï¼Œè¿™æ˜¯OpenCVå¸¸ç”¨çš„æ ¼å¼ã€‚ cv::Mat: åˆ›å»ºä¸€ä¸ªOpenCVçŸ©é˜µæ¥å­˜å‚¨å›¾åƒæ•°æ®ã€‚ è¿™ä¸ªæµç¨‹éœ€è¦åœ¨è§†é¢‘å¤„ç†çš„ç”Ÿå‘½å‘¨æœŸä¸­åªåˆå§‹åŒ–å’Œæ¸…ç†ä¸€æ¬¡ç¼–è§£ç å™¨ï¼Œè€Œå¸§å¤„ç†å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä»¥æé«˜æ€§èƒ½å’Œä¿æŒç¼–è§£ç å™¨çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ç§é«˜æ•ˆå¤„ç†è§†é¢‘å¸§çš„å…¸å‹æ–¹æ³•ã€‚\nL4Z è§£å‹ç¼© L4Zè§£å‹ç¼©çš„è¿‡ç¨‹ç›¸å¯¹ç›´æ¥ï¼Œç›´æ¥æ ¹æ®å‡½æ•°æ¥å®ç°å³å¯ã€‚\nä»£ç å®ç° bool decompressLZ4Frame(const std::vector\u0026lt;uint8_t\u0026gt;\u0026amp; compressedData, cv::Mat\u0026amp; image, int width, int height) { std::vector\u0026lt;uint8_t\u0026gt; decompressedData(width * height * sizeof(uint16_t)); int decompressedSize = LZ4_decompress_safe(reinterpret_cast\u0026lt;const char*\u0026gt;(compressedData.data()), reinterpret_cast\u0026lt;char*\u0026gt;(decompressedData.data()), compressedData.size(), decompressedData.size()); if (decompressedSize \u0026lt; 0) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to decompress LZ4 data.\u0026#34; \u0026lt;\u0026lt; std::endl; return false; } image = cv::Mat(height, width, CV_16UC1, decompressedData.data()); cv::Mat pseudoColorImage(height, width, CV_8UC3); for (int i = 0; i \u0026lt; height; i++) { for (int j = 0; j \u0026lt; width; j++) { uint16_t disparity = image.at\u0026lt;uint16_t\u0026gt;(i, j); if (disparity \u0026lt; 8192) { pseudoColorImage.at\u0026lt;cv::Vec3b\u0026gt;(i, j) = cv::Vec3b(pColorTable[disparity * 3 + 2], pColorTable[disparity * 3 + 1], pColorTable[disparity * 3]); } else { pseudoColorImage.at\u0026lt;cv::Vec3b\u0026gt;(i, j) = cv::Vec3b(0, 0, 0); } } } image = pseudoColorImage; return true; } è¿™é‡Œå¯¹è§£å‹ç¼©çš„è§†å·®å›¾è¿›è¡Œé¢œè‰²æ˜ å°„çš„å¤„ç†ï¼Œæ˜¯æ ¹æ®è§†å·®å€¼ç›´æ¥æ˜ å°„å¾—åˆ°\n","permalink":"https://ahaknow.com/posts/know/dev-decode-h.264-lz4-image-frames/","summary":"åœ¨ä¸Šä¸€ç¯‡æ‰“é€šäº†è¯»å–å­—èŠ‚æµæ–‡ä»¶åï¼Œèƒ½å¤Ÿå¾—åˆ°æ¯ä¸€å¸§çš„å­—èŠ‚æ•°æ®äº†ï¼Œè¿™ä¸€ç¯‡å°±æ¥è§£å†³ä¸ºè¿™äº›æ•°æ®èµ‹äºˆå®é™…æ„ä¹‰ã€‚ å½©è‰²å›¾åƒé‡‡ç”¨H.264ç¼–ç  -\u0026gt; é‚£å°±éœ€è¦æŒ‰ç…§H","title":"å¼€å‘å®æˆ˜ï¼šè§£æH.264ç¼–ç å’ŒLZ4å‹ç¼©çš„ç›¸æœºå›¾åƒ"},{"content":" éœ€è¦è§£æç›¸æœºçš„å­—èŠ‚æµæ–‡ä»¶ï¼ˆå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªByteç»„æˆçš„æ–‡ä»¶ï¼Œä¸è§£æçš„è¯æ²¡æœ‰å•¥å®é™…æ„ä¹‰ï¼‰ã€‚\nè§£æéœ€è¦æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œæ¯”å¦‚ï¼šå¦‚ä½•ç¡®å®šæ•°æ®çš„å¤´ï¼ˆHeaderï¼‰ï¼Œä»¥åŠä¸€ä¸ªæ•°æ®å¸§ï¼ˆä¸€ä¸ªæ•°æ®åŒ…ï¼‰çš„ç»“æ„æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¿™ä¸ªæœ‰ç‚¹åƒç½‘ç»œåŒ…çš„å®šä¹‰ï¼Œåœ¨å¤´éƒ¨å®šä¹‰äº†å¾ˆå¤šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯èƒ½å¤Ÿè®©è¿™ä¸ªæ•°æ®åŒ…æŒ‰ç…§è§„åˆ™è§£æå‡ºæ¥åæœ‰å…·ä½“çš„æ„ä¹‰ã€‚\nä¸‹é¢æŒ‰ç…§å°è¯•-å¤±è´¥-å†å°è¯•-æˆåŠŸä¹‹åçš„æ€è€ƒæ¥è¿›è¡Œæ•´ç†ã€‚å› ä¸ºä¸€å¼€å§‹é‡‡ç”¨ç›´æ¥â€œå¤åˆ¶-ç²˜è´´ï¼ˆChatGPTæŒ‡å¯¼ï¼‰â€çš„æ–¹å¼ï¼Œé‡åˆ°äº†è§£æå¤±è´¥çš„æƒ…å†µï¼Œæ ¹æ®ç»“æœä¸€ç‚¹ç‚¹åˆ†æï¼Œå§‹ç»ˆæ²¡å‘ç°é—®é¢˜åœ¨å“ªã€‚\nå› ä¸ºé—®é¢˜å‡ºç°åœ¨äº†ä¸€å¼€å§‹ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒåŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œå­—èŠ‚æµåœ¨ä¿å­˜æ—¶åˆ†ä¸ºå¤§ç«¯å­˜å‚¨å’Œå°ç«¯å­˜å‚¨ï¼Œç”±äºè¿™ä¸ªçŸ¥è¯†ç‚¹æˆ‘å‹æ ¹å°±å¿˜è®°äº†ï¼Œæ‰€ä»¥è¿Ÿè¿Ÿæ²¡æœ‰å‘ç°ï¼Œæœ€åæ˜¯ä¸æ–­å¾€ä¸Šè¿½é—®ï¼Œä»ChatGPTçš„æŒ‡å¯¼ä¸­å‘ç°äº†å¯èƒ½çš„åŸå› ï¼Œæƒ­æ„§å•Šï¼\nå¤§å°ç«¯ï¼ˆEndiannessï¼‰æ¦‚å¿µ å¤§å°ç«¯æ˜¯æŒ‡å¤šå­—èŠ‚æ•°æ®ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ç­‰ï¼‰åœ¨å†…å­˜ä¸­å­—èŠ‚çš„æ’åˆ—é¡ºåºã€‚è¿™æ˜¯è®¡ç®—æœºå†…å­˜æ¶æ„ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå½±å“äº†æ•°æ®çš„å­˜å‚¨å’Œé€šä¿¡ã€‚å¤§å°ç«¯é—®é¢˜é€šå¸¸åœ¨å¤„ç†è·¨å¹³å°æ•°æ®ä¼ è¾“å’Œæ–‡ä»¶è¯»å†™æ—¶æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚\nå¤§ç«¯ï¼ˆBig Endianï¼‰\nåœ¨å¤§ç«¯å­—èŠ‚åºä¸­ï¼Œä¸€ä¸ªæ•°çš„æœ€é«˜ä½å­—èŠ‚ï¼ˆBig Endï¼‰å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„ï¼Œå…¶æ¬¡æ˜¯æ¬¡é«˜ä½ï¼Œä¾æ­¤ç±»æ¨ï¼Œæœ€ä½ä½å­—èŠ‚å­˜å‚¨åœ¨é«˜åœ°å€å¤„ã€‚ ä¾‹å¦‚ï¼Œæ•° 0x12345678 åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼ˆåœ°å€ä»ä½åˆ°é«˜ï¼‰ä¸º 12 34 56 78ã€‚ â€œå¤§ç«¯æ˜“è¯»â€ï¼Œå·¦åˆ°å³ç›´æ¥è¯»å‡ºæ¥å°±æ˜¯åŸå§‹ä¿å­˜çš„æ•°æ® å°ç«¯ï¼ˆLittle Endianï¼‰\nåœ¨å°ç«¯å­—èŠ‚åºä¸­ï¼Œä¸€ä¸ªæ•°çš„æœ€ä½ä½å­—èŠ‚ï¼ˆLittle Endï¼‰å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„ï¼Œéšåæ˜¯æ¬¡ä½ä½ï¼Œä¾æ­¤ç±»æ¨ï¼Œæœ€é«˜ä½å­—èŠ‚å­˜å‚¨åœ¨é«˜åœ°å€å¤„ã€‚ ä¾‹å¦‚ï¼Œæ•° 0x12345678 åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼ˆåœ°å€ä»ä½åˆ°é«˜ï¼‰ä¸º 78 56 34 12ã€‚ â€œå°ç«¯åç›´è§‰â€ï¼Œå› ä¸ºç°ä»£æ±‰è¯­é»˜è®¤ä»å·¦å¾€å³çœ‹ï¼Œè¿™é‡Œåˆ™éœ€è¦åè¿‡æ¥ï¼Œä¸¤ä¸¤çœ‹ å¤§å°ç«¯å­˜åœ¨çš„åŸå› ä¸»è¦ä¸ä¸åŒçš„å¤„ç†å™¨æ¶æ„æœ‰å…³ã€‚ä¸åŒçš„ç¡¬ä»¶åˆ¶é€ å•†é€‰æ‹©ä¸åŒçš„å­˜å‚¨æ–¹æ³•ï¼Œè¿™é€šå¸¸å–å†³äºç¡¬ä»¶è®¾è®¡çš„ä¼˜åŒ–ã€å†å²åŸå› å’ŒæŠ€æœ¯é—ç•™é—®é¢˜ã€‚\nå¤§ç«¯æ¨¡å¼çš„ä¼˜ç‚¹åœ¨äºä»å†…å­˜çš„èµ·å§‹åœ°å€å¼€å§‹å³å¯è¯»å–é«˜ä½ï¼Œæ˜“äºä»åœ°å€è§£æå…¶ä»£è¡¨çš„æ•°å€¼å¤§å°ï¼Œè¿™åœ¨ç½‘ç»œåè®®è®¾è®¡ä¸­å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºè®¸å¤šç½‘ç»œåè®®è§„å®šä¸ºå¤§ç«¯ã€‚\nå°ç«¯æ¨¡å¼åˆ™ä½¿å¾—ä½ä½é¦–å…ˆè¢«å¤„ç†ï¼Œè¿™åœ¨è¿›è¡Œæ•°å­¦è¿ç®—æ—¶å¸¸å¸¸æ›´ä¸ºé«˜æ•ˆï¼Œå› ä¸ºä½ä½é€šå¸¸æ˜¯å…ˆå¤„ç†çš„éƒ¨åˆ†ã€‚å°ç«¯æ˜¯å¤šæ•°ç°ä»£ä¸ªäººè®¡ç®—æœºå¤„ç†å™¨ï¼Œå¦‚x86æ¶æ„ï¼Œé‡‡ç”¨çš„å­˜å‚¨æ–¹å¼ã€‚\nåœ¨ä¸åŒå­—èŠ‚åºçš„ç³»ç»Ÿé—´äº¤æ¢æ•°æ®æ—¶ï¼Œå¦‚æœä¸è¿›è¡Œå­—èŠ‚åºçš„è½¬æ¢ï¼Œä¼šå¯¼è‡´æ•°æ®è§£é‡Šé”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç³»ç»Ÿä»¥å¤§ç«¯æ¨¡å¼å†™å…¥æ•°æ®ï¼Œå¦ä¸€ä¸ªä»¥å°ç«¯æ¨¡å¼è¯»å–ï¼Œæœªç»è½¬æ¢ç›´æ¥è¯»å–ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚\nå¤§å°ç«¯å­—èŠ‚åºä¸¾ä¾‹ å‡è®¾æœ‰ä¸€ä¸ª4å­—èŠ‚ï¼ˆByteï¼‰çš„æ•´æ•°å€¼ 0x12345678ï¼Œåœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä¼šæ ¹æ®å¤§å°ç«¯ä¸åŒè€Œä¸åŒã€‚\nå¤§ç«¯ï¼ˆBig Endianï¼‰ï¼šé«˜ä½å­—èŠ‚ï¼ˆé è¿‘Oxï¼‰å­˜äºä½åœ°å€ï¼Œæ‰€ä»¥å†…å­˜å¸ƒå±€æ˜¯ 12 34 56 78ã€‚ å°ç«¯ï¼ˆLittle Endianï¼‰ï¼šä½ä½å­—èŠ‚å­˜äºä½åœ°å€ï¼Œæ‰€ä»¥å†…å­˜å¸ƒå±€æ˜¯ 78 56 34 12ã€‚ åœ¨å†…å­˜ä¸­ï¼Œåœ°å€ä»ä½åˆ°é«˜å¢åŠ ã€‚ä½åœ°å€å­˜å‚¨è¾ƒâ€œæ—©â€çš„æ•°æ®ï¼Œè€Œé«˜åœ°å€å­˜å‚¨è¾ƒâ€œæ™šâ€çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥è¿‘ä¼¼çœ‹æˆä»å·¦å¾€å³ã€‚\næ¯”å¦‚ä¸€ä¸ªå­—èŠ‚æµçš„æ•°æ®å¦‚ä¸‹ï¼š\n10010001001011000001\näºŒè¿›åˆ¶å½¢å¼ï¼š1001 0001 0010 1100 0001 4ä¸ªä¸€ç»„ï¼Œè½¬æ¢16è¿›åˆ¶ï¼š9 1 2 c 1 ä½¿ç”¨4ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºæ—¶ï¼Œé«˜ä½è¡¥é›¶ï¼š00 09 12 c1 å°ç«¯å­—èŠ‚åºï¼Œä½ä½å­—èŠ‚å­˜äºä½åœ°å€ï¼š é«˜ä½00 -\u0026gt; é«˜åœ°å€ æ¬¡é«˜ä½09 -\u0026gt; æ¬¡é«˜åœ°å€ æ¬¡ä½ä½12 -\u0026gt; æ¬¡ä½åœ°å€ ä½ä½c1 -\u0026gt; ä½åœ°å€ å®é™…åœ¨å†…å­˜çš„ä¸­å­˜å‚¨ä½ c1 12 09 00ã€‚ å…·ä½“è€Œè¨€ï¼š\nPackage Data Length 594625 -\u0026gt; å†…å­˜å¸ƒå±€c1 12 09 00 (å¯¹åº”00 09 12 c1) Unit Data: Length 43978 -\u0026gt; å†…å­˜å¸ƒå±€ca ab 00 00 (å®é™…ä¸º 00 00 ab ca) Type 3 -\u0026gt; å†…å­˜å¸ƒå±€03 00 00 00 (å®é™…ä¸º 00 00 00 03) å¦‚æœç”¨å¤§ç«¯æ–¹å¼è¯»å–C1 12 09 00ï¼Œé‚£ä¹ˆå°†å¾—åˆ° 12653065ï¼Œè¿™ä¸ªæ•°å­—ç‰¹åˆ«å¤§ï¼Œæ˜æ˜¾è¦å¤§äºæ–‡ä»¶å¤§å°äº†\nå¦‚æœç”¨å¤§ç«¯æ–¹å¼è¯»å–ca ab 00 00ï¼Œé‚£ä¹ˆå°†å¾—åˆ° 13282048ï¼Œè¿™ä¸ªæ•°å­—ä¹Ÿç‰¹åˆ«å¤§ï¼Œå¹¶ä¸”è¿˜å¤§äº12653065ï¼Œæ‰€ä»¥è‚¯å®šå‡ºé”™äº†ã€‚\n$594625 \\div 1024 \\div 1024 = 0.57 MB$\n$12653065 \\div 1024 \\div 1024 = 12.07MB$\n$43978 \\div 1024 \\div 1024 = 0.042 MB$\n$13282048 \\div 1024 \\div 1024 = 12.67MB$\nè¡¥å……è¯´æ˜ï¼š\nå­—èŠ‚æµæ–‡ä»¶â€œä¿å­˜â€çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æ–‡ä»¶ä¸­çš„æ•°æ®ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜æ”¾ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªå­—èŠ‚ç”±8ä½äºŒè¿›åˆ¶æ•°å­—ï¼ˆ0æˆ–1ï¼‰ç»„æˆã€‚è€Œä½¿ç”¨æ–‡ä»¶æµè§ˆå™¨æˆ–æŸäº›å·¥å…·æŸ¥çœ‹è¿™äº›æ–‡ä»¶æ—¶ï¼Œå¸¸å¸¸ä¼šçœ‹åˆ°åå…­è¿›åˆ¶çš„è¡¨ç¤ºï¼Œå› ä¸ºåå…­è¿›åˆ¶èƒ½æ›´æœ‰æ•ˆåœ°å±•ç¤ºå’Œå®šä½æ–‡ä»¶å†…å®¹ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéæ–‡æœ¬æ•°æ®ã€‚\nC++æ‰“å°æ—¶çš„è¿›åˆ¶ å½“åœ¨C++ä¸­ä½¿ç”¨ std::cout æ‰“å°æ•°å­—æ—¶ï¼Œé™¤éæŒ‡å®šæ ¼å¼ï¼ˆå¦‚ä½¿ç”¨ std::hex æ¥æŒ‡å®šåå…­è¿›åˆ¶ï¼‰ï¼Œå¦åˆ™é»˜è®¤ä¸ºåè¿›åˆ¶ï¼ˆ std::dec ï¼‰ã€‚ä¾‹å¦‚ï¼š\nuint32_t num = 0x1234; std::cout \u0026lt;\u0026lt; num; // é»˜è®¤ä»¥åè¿›åˆ¶è¾“å‡ºï¼Œæ‰“å°ä¸º \u0026#34;4660\u0026#34; std::cout \u0026lt;\u0026lt; std::hex \u0026lt;\u0026lt; num; // æŒ‡å®šåå…­è¿›åˆ¶ï¼Œæ‰“å°ä¸º \u0026#34;1234\u0026#34; å¦‚æœå‰é¢ä½¿ç”¨äº†std::hexï¼Œé‚£ä¹ˆåé¢çš„std::coutä¹Ÿä¼šå—åˆ°å½±å“ï¼Œå› æ­¤æ¯”è¾ƒå¥½çš„ç­–ç•¥æ˜¯ç”¨std::hex \u0026laquo; â€¦ \u0026laquo; std::decåŒ…èµ·æ¥Â C++ä»£ç å®ç° #include \u0026lt;iostream\u0026gt; #include \u0026lt;fstream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;cstdint\u0026gt; #include \u0026lt;iomanip\u0026gt; // For std::setw and std::setfill struct UnitData { uint32_t len; uint32_t type; std::vector\u0026lt;uint8_t\u0026gt; content; UnitData(uint32_t len, uint32_t type, std::vector\u0026lt;uint8_t\u0026gt;\u0026amp; content) : len(len), type(type), content(content) {} }; // å¤§ç«¯ bool readUint32Big(std::ifstream\u0026amp; stream, uint32_t\u0026amp; value) { char buffer[4]; if (stream.read(buffer, 4)) { value = static_cast\u0026lt;uint32_t\u0026gt;((unsigned char)(buffer[3]) | (unsigned char)(buffer[2]) \u0026lt;\u0026lt; 8 | (unsigned char)(buffer[1]) \u0026lt;\u0026lt; 16 | (unsigned char)(buffer[0]) \u0026lt;\u0026lt; 24); return true; } return false; } // å°ç«¯ bool readUint32Little(std::ifstream\u0026amp; stream, uint32_t\u0026amp; value) { char buffer[4]; if (stream.read(buffer, 4)) { value = static_cast\u0026lt;uint32_t\u0026gt;((unsigned char)(buffer[0]) | (unsigned char)(buffer[1]) \u0026lt;\u0026lt; 8 | (unsigned char)(buffer[2]) \u0026lt;\u0026lt; 16 | (unsigned char)(buffer[3]) \u0026lt;\u0026lt; 24); return true; } return false; } int main(int argc, char* argv[]) { if (argc != 2) { std::cerr \u0026lt;\u0026lt; \u0026#34;Usage: \u0026#34; \u0026lt;\u0026lt; argv[0] \u0026lt;\u0026lt; \u0026#34; \u0026lt;filename\u0026gt;\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } std::ifstream file(argv[1], std::ios::binary); if (!file.is_open()) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to open file: \u0026#34; \u0026lt;\u0026lt; argv[1] \u0026lt;\u0026lt; std::endl; return 1; } int frameNumber = 0; // Frame counter while (!file.eof()) { // Read and check the header uint8_t header[2]; if (!file.read(reinterpret_cast\u0026lt;char*\u0026gt;(header), 2) || header[0] != 0xFF || header[1] != 0xAA) { if (file.eof()) { break; // Break the loop if EOF is reached during header read } std::cerr \u0026lt;\u0026lt; \u0026#34;Invalid header in frame \u0026#34; \u0026lt;\u0026lt; frameNumber + 1 \u0026lt;\u0026lt; \u0026#34;.\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } std::cout \u0026lt;\u0026lt; \u0026#34;Frame \u0026#34; \u0026lt;\u0026lt; ++frameNumber \u0026lt;\u0026lt; \u0026#34; - Header: 0x\u0026#34; \u0026lt;\u0026lt; std::hex \u0026lt;\u0026lt; (int)header[0] \u0026lt;\u0026lt; \u0026#34; 0x\u0026#34; \u0026lt;\u0026lt; (int)header[1] \u0026lt;\u0026lt; std::dec \u0026lt;\u0026lt; std::endl; // Read the package length uint32_t packageLength; if (!readUint32Little(file, packageLength)) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to read package length.\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } std::cout \u0026lt;\u0026lt; \u0026#34;Package Data Length: \u0026#34; \u0026lt;\u0026lt; packageLength \u0026lt;\u0026lt; std::endl; // Process Unit Data uint32_t bytesRead = 0; while (bytesRead \u0026lt; packageLength) { uint32_t unitLen, unitType; if (!readUint32Little(file, unitLen) || !readUint32Little(file, unitType)) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to read unit data.\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } // Correct the content length by subtracting the length of unitType uint32_t contentLength = unitLen - 4; // Subtracting the 4 bytes of the unitType std::vector\u0026lt;uint8_t\u0026gt; content(contentLength); if (!file.read(reinterpret_cast\u0026lt;char*\u0026gt;(content.data()), contentLength)) { if (file.eof()) { std::cerr \u0026lt;\u0026lt; \u0026#34;Error: EOF reached before reading all data. Expected \u0026#34; \u0026lt;\u0026lt; contentLength \u0026lt;\u0026lt; \u0026#34; bytes, but less were available.\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cerr \u0026lt;\u0026lt; \u0026#34;Error: Failed to read unit content. Expected \u0026#34; \u0026lt;\u0026lt; contentLength \u0026lt;\u0026lt; \u0026#34; bytes.\u0026#34; \u0026lt;\u0026lt; std::endl; } return 1; } // Print the unit data len and type in hex std::cout \u0026lt;\u0026lt; \u0026#34;Unit Length: \u0026#34; \u0026lt;\u0026lt; unitLen \u0026lt;\u0026lt; \u0026#34;, Unit Type: 0x\u0026#34; \u0026lt;\u0026lt; std::hex \u0026lt;\u0026lt; std::setw(2) \u0026lt;\u0026lt; std::setfill(\u0026#39;0\u0026#39;) \u0026lt;\u0026lt; static_cast\u0026lt;int\u0026gt;(unitType) \u0026lt;\u0026lt; std::dec \u0026lt;\u0026lt; std::endl; bytesRead += 4 + unitLen; } } file.close(); return 0; } ","permalink":"https://ahaknow.com/posts/know/dev-parse-binary-file/","summary":"éœ€è¦è§£æç›¸æœºçš„å­—èŠ‚æµæ–‡ä»¶ï¼ˆå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªByteç»„æˆçš„æ–‡ä»¶ï¼Œä¸è§£æçš„è¯æ²¡æœ‰å•¥å®é™…æ„ä¹‰ï¼‰ã€‚ è§£æéœ€è¦æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œæ¯”å¦‚ï¼šå¦‚ä½•ç¡®å®šæ•°æ®çš„å¤´ï¼ˆHea","title":"å¼€å‘å®æˆ˜ï¼šè§£æäºŒè¿›åˆ¶æ–‡ä»¶"},{"content":" ä½¿ç”¨Gitï¼Œåœ¨developåˆ†æ”¯ä¸‹åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œç„¶ååœ¨è¿™ä¸ªæ–°åˆ†æ”¯ä¸Šè¿›è¡Œæ–°åŠŸèƒ½å¼€å‘ã€‚\ngit branchç³»åˆ—æ“ä½œ 1. åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch 2. åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ git branch -r 3. åˆ—å‡ºæ‰€æœ‰æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯ git branch -a 4. åˆ›å»ºæ–°åˆ†æ”¯ åˆ›å»ºæ–°åˆ†æ”¯ä½†ä¸åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼š\ngit branch feature-x è¿™ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºfeature-xçš„åˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯ã€‚\n5. åˆ é™¤åˆ†æ”¯ åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š\ngit branch -d feature-x è¿™ä¸ªå‘½ä»¤ä¼šå®‰å…¨åœ°åˆ é™¤åˆ†æ”¯ï¼Œåªåœ¨è¿™ä¸ªåˆ†æ”¯å·²ç»è¢«åˆå¹¶åˆ°å½“å‰åˆ†æ”¯æ—¶å…è®¸åˆ é™¤ã€‚å¦‚æœåˆ†æ”¯è¿˜æœ‰æœªåˆå¹¶çš„æ›´æ”¹ï¼Œéœ€è¦å¼ºåˆ¶åˆ é™¤å¯ä»¥ä½¿ç”¨-Dé€‰é¡¹ï¼š\ngit branch -D feature-x 6. é‡å‘½ååˆ†æ”¯ å¦‚æœä½ éœ€è¦é‡å‘½åå½“å‰åˆ†æ”¯ï¼š\ngit branch -m new-branch-name å¦‚æœè¦é‡å‘½åå…¶ä»–åˆ†æ”¯ï¼ˆä¸åœ¨è¯¥åˆ†æ”¯ä¸Šæ—¶ï¼‰ï¼š\ngit branch -m old-branch-name new-branch-name å®é™…æ“ä½œä¸­çš„åº”ç”¨ é€šå¸¸ä¼šè¿™æ ·ä½¿ç”¨git branchæ¥åˆ›å»ºæ–°åˆ†æ”¯ï¼š\ngit checkout develop # ç¡®ä¿ä½ åœ¨developåˆ†æ”¯ git pull origin develop # æ‹‰å–æœ€æ–°çš„developåˆ†æ”¯ git branch feature-x # åˆ›å»ºæ–°åˆ†æ”¯feature-x git checkout feature-x # åˆ‡æ¢åˆ°æ–°åˆ†æ”¯feature-x è¿™é‡Œçš„æ­¥éª¤å¯ä»¥ç®€åŒ–ä¸ºä¸€ä¸ªå‘½ä»¤ï¼Œä½¿ç”¨git checkout -båŒæ—¶åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼š\ngit checkout -b feature-x develop è¿™æ¡å‘½ä»¤ç›´æ¥åŸºäºdevelopåˆ†æ”¯åˆ›å»ºå¹¶åˆ‡æ¢åˆ°feature-xåˆ†æ”¯ã€‚\n","permalink":"https://ahaknow.com/posts/know/note-git-branch-basic/","summary":"ä½¿ç”¨Gitï¼Œåœ¨developåˆ†æ”¯ä¸‹åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œç„¶ååœ¨è¿™ä¸ªæ–°åˆ†æ”¯ä¸Šè¿›è¡Œæ–°åŠŸèƒ½å¼€å‘ã€‚ git branchç³»åˆ—æ“ä½œ 1. åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch 2. åˆ—å‡ºæ‰€æœ‰è¿œ","title":"Gitï¼šåˆ†æ”¯çš„åŸºæœ¬æ“ä½œ"},{"content":" é—®é¢˜æè¿°ï¼š\nLinuxåŒæ—¶è¿æ¥å±€åŸŸç½‘ï¼Œç½‘æ®µæ˜¯172.27.0.xï¼Œä»¥åŠè¿æ¥ç½‘å£çš„ç›¸æœºè®¾å¤‡ï¼Œç½‘æ®µæ˜¯192.168.80.xã€‚\nLinuxå¯åŠ¨åå‡ºç°è¿™ç§æƒ…å†µï¼š\nå¯ä»¥è¿æ¥ç›¸æœºï¼Œä½†æ— æ³•ä¸Šç½‘ å°†ç›¸æœºçš„ç½‘çº¿æ‹”æ‰åï¼Œå°±èƒ½å¤Ÿä¸Šç½‘äº† ç®€å•çš„åˆ†æä¸€ä¸‹ï¼Œåº”è¯¥æ˜¯ç½‘ç»œå ç”¨çš„é—®é¢˜ã€‚\nå…ˆæŠŠé—®é¢˜è§£å†³äº† sudo apt-get install net-tools ä¸‹é¢å…·ä½“æ¥åˆ†æ\né€šè¿‡route -næ¥æŸ¥çœ‹è·¯ç”±è¡¨ä¿¡æ¯ï¼š\nâ¯ route -n Kernel IP routing table Destination Gateway Genmask Flags Metric Ref Use Iface 0.0.0.0 192.168.80.1 0.0.0.0 UG 0 0 0 eno1 0.0.0.0 172.27.0.1 0.0.0.0 UG 101 0 0 eno1 169.254.0.0 0.0.0.0 255.255.0.0 U 1000 0 0 enx0826ae3c0c7b 172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 docker0 172.27.0.0 0.0.0.0 255.255.255.0 U 101 0 0 eno1 192.168.80.0 0.0.0.0 255.255.255.0 U 100 0 0 enx0826ae3c0c7b å¯ä»¥çœ‹å‡ºæ¥æœ‰ä¸¤ä¸ªè®¾å¤‡ï¼Œä¸€ä¸ªæ˜¯eno1ï¼Œå±€åŸŸç½‘ç½‘çº¿ï¼Œå¦ä¸€ä¸ªæ˜¯enx0826ae3c0c7bï¼Œç½‘å£çš„ç›¸æœºã€‚\nä¸ºå•¥ä¼šä¸Šä¸äº†ç½‘æï¼Ÿ\nè§‚å¯Ÿè¿™ä¸ªè·¯ç”±è¡¨çš„å¯ä»¥å‘ç°æœ‰ä¸€ä¸ªé‡å¤çš„æ··ä¹±é¡¹ï¼š\nDestination ä¸º 0.0.0.0 ä½†æ˜¯ Gateway å´æœ‰ä¸¤ä¸ªï¼Œå°±æ˜¯è¿™é‡Œå¯¼è‡´çš„ï¼Œè¿™æ—¶å€™çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œå…ˆæ¸…é™¤é»˜è®¤è·¯ç”±ï¼Œç„¶åå†é…ç½®ä¸€ä¸ªæ­£ç¡®çš„é»˜è®¤è·¯ç”±ã€‚\næ­¥éª¤1ï¼šæ¸…é™¤é”™è¯¯çš„é»˜è®¤è·¯ç”±\né¦–å…ˆï¼Œåˆ é™¤æ‰€æœ‰é»˜è®¤è·¯ç”±ï¼š\nsudo ip route del default æ­¥éª¤2ï¼šæ·»åŠ æ­£ç¡®çš„é»˜è®¤è·¯ç”±\nå°†é»˜è®¤è·¯ç”±è®¾ç½®ä¸ºé€šè¿‡ç½‘å…³`172.27.0.1ï¼Œå¹¶æŒ‡å®šåˆé€‚çš„åº¦é‡å€¼ï¼š\nsudo ip route add default via 172.27.0.1 dev eno1 metric 0 æ­¥éª¤3ï¼šéªŒè¯è·¯ç”±è¡¨\nå†æ¬¡æ£€æŸ¥è·¯ç”±è¡¨ï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªé»˜è®¤è·¯ç”±ï¼Œå¹¶ä¸”å…¶ä»–è·¯ç”±æŒ‰é¢„æœŸé…ç½®ï¼š\nroute -n è¿™ä¸ªæ—¶å€™å¾—åˆ°çš„åº”è¯¥å°±æ˜¯æ­£ç¡®çš„è·¯ç”±è¡¨äº†ï¼š\nâ¯ route -n Kernel IP routing table Destination Gateway Genmask Flags Metric Ref Use Iface 0.0.0.0 172.27.0.1 0.0.0.0 UG 0 0 0 eno1 0.0.0.0 172.27.0.1 0.0.0.0 UG 101 0 0 eno1 169.254.0.0 0.0.0.0 255.255.0.0 U 1000 0 0 enx0826ae3c0c7b 172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 docker0 172.27.0.0 0.0.0.0 255.255.255.0 U 101 0 0 eno1 192.168.80.0 0.0.0.0 255.255.255.0 U 100 0 0 enx0826ae3c0c7b å¦ä¸€ç§æ€è·¯ åœ¨è·¯ç”±è¡¨ä¸­ï¼Œmetricå€¼ç”¨äºå®šä¹‰è·¯ç”±çš„ä¼˜å…ˆçº§ã€‚å½“å­˜åœ¨å¤šæ¡åˆ°è¾¾åŒä¸€ä¸ªç›®çš„åœ°çš„è·¯ç”±æ—¶ï¼Œmetricå€¼è¾ƒå°çš„è·¯ç”±å°†è¢«ä¼˜å…ˆé€‰æ‹©ç”¨äºæ•°æ®ä¼ è¾“ã€‚å› æ­¤ï¼Œmetricæ˜¯ä¸€ç§å†³å®šè·¯å¾„é€‰æ‹©çš„æ–¹æ³•ï¼Œå°¤å…¶åœ¨å¤šä¸ªç½‘ç»œæ¥å£å¯ç”¨æ—¶è¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚\nMetric çš„å«ä¹‰å’Œä½œç”¨ å«ä¹‰ï¼šmetricå€¼æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œç”¨äºè¡¨ç¤ºè·¯ç”±çš„ä¼˜å…ˆçº§ã€‚æ•°å­—è¶Šå°ï¼Œè¯¥è·¯ç”±çš„ä¼˜å…ˆçº§è¶Šé«˜ã€‚ ä½œç”¨ï¼š é€‰æ‹©æœ€ä¼˜è·¯å¾„ï¼šåœ¨å¤šæ¡è·¯ç”±å¯è¾¾åŒä¸€ç›®çš„åœ°çš„æƒ…å†µä¸‹ï¼Œè·¯ç”±å™¨æ ¹æ®metricå€¼é€‰æ‹©metricæœ€å°çš„è·¯ç”±ä½œä¸ºæœ€ä½³è·¯å¾„ã€‚ è´Ÿè½½å‡è¡¡ï¼šåœ¨æŸäº›é…ç½®ä¸­ï¼Œå¯ä»¥æ•…æ„è®¾ç½®ç›¸åŒçš„metricå€¼ç»™ä¸åŒçš„è·¯ç”±ï¼Œä»¥å®ç°è´Ÿè½½å‡è¡¡ã€‚ é¿å…è·¯ç”±å¾ªç¯ï¼šé€‚å½“çš„metricå€¼é…ç½®å¯ä»¥å¸®åŠ©é¿å…è·¯ç”±å¾ªç¯ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤æ‚çš„ç½‘ç»œæ‹“æ‰‘ä¸­ã€‚ Metric å€¼çš„é€‰æ‹© æ¯”å¦‚ï¼Œmetricå€¼ä¸º0, 101, 100, 1000ç­‰ï¼Œè¿™äº›éƒ½æ˜¯ç”¨æ¥åŒºåˆ†ä¸åŒè·¯ç”±æ¡ç›®çš„ç›¸å¯¹ä¼˜å…ˆçº§ã€‚ä¾‹å¦‚ï¼š\nMetric ä¸º 0ï¼šé€šå¸¸è¡¨ç¤ºè¯¥è·¯ç”±å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œç³»ç»Ÿå°†ä¼˜å…ˆé€šè¿‡è¿™ä¸ªè·¯ç”±å‘é€æ•°æ®ã€‚ Metric ä¸º 101 æˆ– 100ï¼šè¿™äº›å€¼è¾ƒé«˜ï¼Œè¡¨ç¤ºè·¯ç”±çš„ä¼˜å…ˆçº§è¾ƒä½ã€‚å¦‚æœé»˜è®¤è·¯ç”±ï¼ˆmetric ä¸º 0 çš„è·¯ç”±ï¼‰ä¸å¯ç”¨ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨è¿™äº›è·¯ç”±ã€‚ Metric ä¸º 1000ï¼šæ›´é«˜çš„metricå€¼ï¼Œé€šå¸¸ç”¨äºå¤‡ä»½è·¯ç”±ï¼Œåªæœ‰åœ¨å…¶ä»–è¾ƒä½metricå€¼çš„è·¯ç”±å…¨éƒ½ä¸å¯ç”¨æ—¶ï¼Œæ‰ä¼šè¢«ä½¿ç”¨ã€‚ å› æ­¤ä¸Šè¿°çš„é—®é¢˜è¿˜å¯ä»¥é€šè¿‡æ›´æ”¹è·¯ç”±çš„ä¼˜å…ˆçº§æ¥è§£å†³\nç°åœ¨é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯è§£å†³äº†ä¸€æ—¶ï¼Œè§£å†³ä¸äº†ä¸€ä¸–ï¼Œå¦‚æœLinuxä¸»æœºé‡æ–°å¯åŠ¨ï¼Œé‚£ä¹ˆåˆä¼šæ¢å¤ä¸ºåŸæ¥çš„è®¾ç½®ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ\né‚£å°±è®¾ç½®ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„å¯åŠ¨é¡¹ï¼\nè‡ªåŠ¨åŒ–çš„â€œä¸€åŠ³æ°¸é€¸â€ åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„systemdæœåŠ¡ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´systemdæœåŠ¡æ¥ç¡®ä¿åœ¨æ‰§è¡Œè·¯ç”±åˆ é™¤å’Œæ·»åŠ æ“ä½œä¹‹å‰ï¼Œç½‘ç»œæ¥å£å·²ç»æ­£ç¡®åˆå§‹åŒ–ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥åŠ å…¥æ¡ä»¶åˆ¤æ–­ï¼Œåªåœ¨é»˜è®¤è·¯ç”±å­˜åœ¨æ—¶å°è¯•åˆ é™¤å®ƒã€‚\nä¿®æ”¹ Systemd æœåŠ¡æ–‡ä»¶ï¼š ç¼–è¾‘ä¹‹å‰åˆ›å»ºçš„systemdæœåŠ¡æ–‡ä»¶ï¼Œæ·»åŠ æ¡ä»¶åˆ¤æ–­å’Œä¾èµ–å…³ç³»ï¼Œç¡®ä¿åœ¨æ‰§è¡Œè·¯ç”±æ“ä½œå‰ç½‘ç»œæ¥å£å·²å‡†å¤‡å¥½ã€‚\nsudo vim /etc/systemd/system/setdefaultgateway.service ä¿®æ”¹æœåŠ¡æ–‡ä»¶ï¼ŒåŠ å…¥ç½‘ç»œåœ¨çº¿çš„æ¡ä»¶å’Œæ‰§è¡Œå‘½ä»¤å‰çš„æ£€æŸ¥ï¼š\n[Unit] Description=Set default gateway Wants=network-online.target After=network-online.target [Service] Type=oneshot ExecStartPre=/bin/sh -c \u0026#39;ip route | grep -q default \u0026amp;\u0026amp; ip route del default\u0026#39; ExecStart=/sbin/ip route add default via 172.27.0.1 dev eno1 metric 0 RemainAfterExit=yes [Install] WantedBy=multi-user.target è¿™é‡ŒExecStartPreè¡Œç”¨äºæ£€æŸ¥æ˜¯å¦å­˜åœ¨é»˜è®¤è·¯ç”±ï¼Œå¹¶ä¸”åªæœ‰åœ¨å­˜åœ¨çš„æƒ…å†µä¸‹æ‰å°è¯•åˆ é™¤å®ƒã€‚è¿™æ ·å¯ä»¥é¿å…å› ä¸ºå°è¯•åˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯ç”±è€Œå¯¼è‡´æœåŠ¡å¤±è´¥ã€‚\né‡æ–°åŠ è½½å’Œå¯åŠ¨æœåŠ¡ï¼š åŠ è½½æ–°çš„é…ç½®å¹¶é‡æ–°å¯åŠ¨æœåŠ¡ï¼š\nsudo systemctl daemon-reload sudo systemctl restart setdefaultgateway æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š ç¡®ä¿æœåŠ¡ç°åœ¨èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼Œä¸å†æŠ¥é”™ï¼š\nsudo systemctl status setdefaultgateway é€šè¿‡ç¡®ä¿åœ¨ç½‘ç»œæ¥å£å‡†å¤‡å¥½åæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”åªåœ¨é»˜è®¤è·¯ç”±å­˜åœ¨æ—¶å°è¯•åˆ é™¤å®ƒï¼Œèƒ½å¤Ÿé¿å…æœåŠ¡å¯åŠ¨æ—¶é‡åˆ°çš„â€œRTNETLINK answers: No such processâ€é”™è¯¯ã€‚\næœåŠ¡æ–‡ä»¶çš„éƒ¨åˆ†è§£é‡Š [Unit]éƒ¨åˆ†ï¼š Description: ä»…ä¸ºæ­¤æœåŠ¡æä¾›æè¿°ï¼Œè¯´æ˜å…¶ç”¨é€”ã€‚ Wants: è¿™ä¸€è¡ŒæŒ‡å®šäº†æ­¤æœåŠ¡æƒ³è¦çš„å…¶ä»–å•ä½ï¼ˆunitï¼‰ã€‚network-online.targetæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç›®æ ‡ï¼Œä»£è¡¨ç½‘ç»œé…ç½®å·²å®Œå…¨å®Œæˆä¸”äº’è”ç½‘è¿æ¥å·²å»ºç«‹ã€‚ After: è¿™ä¸€è¡Œç¡®ä¿äº†åœ¨network-online.targetä¹‹åæ‰å¯åŠ¨è¿™ä¸ªæœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨ç½‘ç»œç¡®å®å¯ç”¨ä¹‹åï¼Œæ­¤æœåŠ¡æ‰ä¼šè¿è¡Œå…¶å‘½ä»¤ã€‚ è¿™ä¸¤ä¸ªè®¾ç½®ï¼ˆWantså’ŒAfterï¼‰ç¡®ä¿äº†ç½‘ç»œæœåŠ¡åœ¨å°è¯•ä¿®æ”¹è·¯ç”±è¡¨ä¹‹å‰å·²ç»å®Œå…¨å¯åŠ¨å’Œæ¿€æ´»ã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå¦‚æœåœ¨ç½‘ç»œæ¥å£è¿˜æ²¡æœ‰æ¿€æ´»çš„æƒ…å†µä¸‹å°è¯•è®¾ç½®è·¯ç”±ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‘½ä»¤å¤±è´¥ã€‚\n[Service]éƒ¨åˆ†ï¼š Type=oneshot: è¿™æ„å‘³ç€è¿™ä¸ªæœåŠ¡åœ¨å¯åŠ¨æ—¶è¿è¡Œä¸€æ¬¡ç„¶åç»“æŸï¼Œä¸ä¼šæŒç»­è¿è¡Œã€‚ ExecStartPre: è¿™æ˜¯åœ¨ä¸»å‘½ä»¤ï¼ˆExecStartï¼‰æ‰§è¡Œä¹‹å‰è¿è¡Œçš„å‘½ä»¤ã€‚å®ƒçš„ä½œç”¨æ˜¯æ£€æŸ¥å½“å‰è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨é»˜è®¤è·¯ç”±ï¼š /bin/sh -c 'ip route | grep -q default \u0026amp;\u0026amp; ip route del default'ï¼šè¿™æ¡å‘½ä»¤ä¼šé¦–å…ˆæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨é»˜è®¤è·¯ç”±ï¼Œå¦‚æœå­˜åœ¨ï¼ˆgrep -q default è¿”å›0ï¼‰ï¼Œåˆ™æ‰§è¡Œåˆ é™¤é»˜è®¤è·¯ç”±çš„å‘½ä»¤ï¼ˆip route del defaultï¼‰ã€‚è¿™é‡Œä½¿ç”¨grep -qæ˜¯ä¸ºäº†é™é»˜æ¨¡å¼ï¼Œåªè¿”å›å­˜åœ¨ä¸å¦çš„çŠ¶æ€ç è€Œä¸è¾“å‡ºæ–‡æœ¬ã€‚ ExecStart: è¿™æ˜¯æœåŠ¡çš„ä¸»å‘½ä»¤ï¼Œç”¨äºæ·»åŠ æ–°çš„é»˜è®¤è·¯ç”±ã€‚å¦‚æœå‰é¢çš„é»˜è®¤è·¯ç”±å·²è¢«åˆ é™¤ï¼Œè¿™æ¡å‘½ä»¤ä¼šæ— éšœç¢åœ°è®¾ç½®æ–°çš„é»˜è®¤è·¯ç”±ã€‚ RemainAfterExit=yes: é€šå¸¸ç”¨äºType=oneshotçš„æœåŠ¡ï¼ŒæŒ‡ç¤ºå³ä½¿æœåŠ¡çš„ä¸»è¿›ç¨‹å·²ç»ç»“æŸï¼Œæ­¤æœåŠ¡çš„çŠ¶æ€ä¾æ—§è¢«è§†ä¸ºæ¿€æ´»ã€‚ è¿™ç§é…ç½®æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯ExecStartPreå‘½ä»¤çš„ä½¿ç”¨ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿ä¿®æ”¹é»˜è®¤è·¯ç”±æ—¶ä¸ä¼šå› ä¸ºæ—§çš„è·¯ç”±è®¾ç½®å­˜åœ¨è€Œå‡ºç°å†²çªæˆ–é”™è¯¯ã€‚é€šè¿‡è¿™æ ·çš„å®‰æ’ï¼ŒæœåŠ¡åœ¨æ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰ç¡®ä¿äº†ç½‘ç»œæ¥å£çš„å¯ç”¨æ€§å’Œæ¸…ç†äº†å¯èƒ½å­˜åœ¨çš„å†²çªé…ç½®ï¼Œä»è€Œä½¿å¾—é»˜è®¤ç½‘å…³çš„è®¾ç½®æ›´åŠ å¯é å’Œç¨³å®šã€‚\n","permalink":"https://ahaknow.com/posts/know/linux-repair-routing-table/","summary":"é—®é¢˜æè¿°ï¼š LinuxåŒæ—¶è¿æ¥å±€åŸŸç½‘ï¼Œç½‘æ®µæ˜¯172.27.0.xï¼Œä»¥åŠè¿æ¥ç½‘å£çš„ç›¸æœºè®¾å¤‡ï¼Œç½‘æ®µæ˜¯192.168.80.xã€‚ Linuxå¯åŠ¨åå‡ºç°","title":"Linuxï¼šä¸Šä¸äº†ç½‘äº†ä¹‹è·¯ç”±è¡¨ä¿®å¤"},{"content":"Given an integer array nums, rotate the array to the right by k steps, where k is non-negative.\nExample 1:\nInput: nums = [1,2,3,4,5,6,7], k = 3 Output: [5,6,7,1,2,3,4] Explanation: rotate 1 steps to the right: [7,1,2,3,4,5,6] rotate 2 steps to the right: [6,7,1,2,3,4,5] rotate 3 steps to the right: [5,6,7,1,2,3,4] Example 2:\nInput: nums = [-1,-100,3,99], k = 2 Output: [3,99,-1,-100] Explanation: rotate 1 steps to the right: [99,-1,-100,3] rotate 2 steps to the right: [3,99,-1,-100] Constraints:\n1 \u0026lt;= nums.length \u0026lt;= 105 -231 \u0026lt;= nums[i] \u0026lt;= 231 - 1 0 \u0026lt;= k \u0026lt;= 105 Follow up:\nTry to come up with as many solutions as you can. There are at least three different ways to solve this problem. Could you do it in-place with O(1) extra space? ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥: nums = [1,2,3,4,5,6,7], k = 3 è¾“å‡º: [5,6,7,1,2,3,4] è§£é‡Š: å‘å³è½®è½¬ 1 æ­¥: [7,1,2,3,4,5,6] å‘å³è½®è½¬ 2 æ­¥: [6,7,1,2,3,4,5] å‘å³è½®è½¬ 3 æ­¥: [5,6,7,1,2,3,4] ç¤ºä¾‹ 2:\nè¾“å…¥ï¼šnums = [-1,-100,3,99], k = 2 è¾“å‡ºï¼š[3,99,-1,-100] è§£é‡Š: å‘å³è½®è½¬ 1 æ­¥: [99,-1,-100,3] å‘å³è½®è½¬ 2 æ­¥: [3,99,-1,-100] æç¤ºï¼š\n1 \u0026lt;= nums.length \u0026lt;= 105 -231 \u0026lt;= nums[i] \u0026lt;= 231 - 1 0 \u0026lt;= k \u0026lt;= 105 è¿›é˜¶ï¼š\nå°½å¯èƒ½æƒ³å‡ºæ›´å¤šçš„è§£å†³æ–¹æ¡ˆï¼Œè‡³å°‘æœ‰ ä¸‰ç§ ä¸åŒçš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä½ å¯ä»¥ä½¿ç”¨ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ åŸåœ° ç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ è½®è½¬æ•°ç»„ï¼Œæ¯”è¾ƒç›´æ¥çš„æ–¹æ³•å°±æ˜¯é‡æ–°å¼€è¾Ÿäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œç„¶åå¤åˆ¶è¿‡å»ï¼Œè¿™ç§æ–¹æ³•èƒ½å¤Ÿè§£å†³é—®é¢˜ï¼Œä½†æ˜¯ä¸å¤Ÿå·§å¦™ã€‚\nå†è¿›ä¸€æ­¥æƒ³ï¼Œå¯ä»¥ç¯çŠ¶æ›¿æ¢ï¼Œè¿™ç§æ–¹æ³•å°±æ¯”è¾ƒæœ‰æ„æ€ï¼Œéœ€è¦ä¸€ä¸ªé¢å¤–çš„ä¸­é—´å˜é‡ï¼Œç„¶åå®ç°ä¸€ç§ç¯çŠ¶çš„ï¼Œå‰åè¡”æ¥çš„ï¼Œä¾æ¬¡äº¤æ›¿çš„æ›´æ¢ï¼ˆè¿™ç§æ–¹æ³•ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼ŒåŠ¨æ‰‹ç¬”ç”»ç†è§£å¾—å¯èƒ½æ›´å¥½ï¼‰ã€‚\nå¦å¤–ä¸€ç§å°±æ¯”è¾ƒå¥‡ç‰¹ï¼Œ**é€šè¿‡å¤šæ¬¡æ•´ä½“ç¿»è½¬çš„ç­–ç•¥ï¼Œ**è¿™ä¸ªç®—æ³•å°†åœ¨ä¸‹æ–‡ä¸­ä»”ç»†è¯´æ˜ã€‚\nğŸŒ½ä¸Šèœ æ–¹æ³•ä¸€ï¼šä½¿ç”¨é¢å¤–æ•°ç»„ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æ¥é‡æ–°æ’åˆ—å…ƒç´ ã€‚\néå†åŸæ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´ æ”¾ç½®åˆ° (i + k) % n çš„ä½ç½®ä¸Šã€‚ å°†æ–°æ•°ç»„å¤åˆ¶å›åŸæ•°ç»„ã€‚ è¿™ç§æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚\næ–¹æ³•äºŒï¼šç¯çŠ¶æ›¿æ¢ è¿™ç§æ–¹æ³•å¯ä»¥ä¸ä½¿ç”¨é¢å¤–çš„ç©ºé—´ï¼Œç›´æ¥åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼š\nä»æŸä¸ªä½ç½®å¼€å§‹ï¼Œå°†å…¶å…ƒç´ æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ä¸Šï¼ŒåŒæ—¶æŠŠç›®æ ‡ä½ç½®çš„åŸå…ƒç´ ä¿å­˜ä¸‹æ¥ã€‚ ç»§ç»­æ“ä½œæ–°ä½ç½®çš„å…ƒç´ ï¼Œç›´åˆ°å›åˆ°èµ·å§‹ä½ç½®ã€‚ å¦‚æœæ•°ç»„æœ‰å¤šäºä¸€ä¸ªçš„ç‹¬ç«‹å¾ªç¯ï¼ˆä¾‹å¦‚ï¼Œæ•°ç»„é•¿åº¦å’Œ k çš„æœ€å¤§å…¬çº¦æ•°å¤§äº1ï¼‰ï¼Œéœ€è¦ä»æ•°ç»„ä¸­ä¸åŒçš„ä½ç½®å¼€å§‹ï¼Œç›´åˆ°æ¯ä¸ªå…ƒç´ éƒ½è¢«ç§»åŠ¨è¿‡ã€‚ è¿™ç§æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œå› ä¸ºå®ƒæ˜¯åŸåœ°æ“ä½œã€‚\nç”¨å®é™…çš„ä¾‹å­æ¥ç†è§£â€œç¯çŠ¶æ›¿æ¢â€ï¼š\nç¯çŠ¶æ›¿æ¢ä¸¾ä¾‹ 1 2 3 4 éœ€è¦ç§»åŠ¨ 2 ä½ï¼Œå˜æˆ 3 4 1 2\nä»ä¸‹æ ‡0å¼€å§‹ï¼Œstart = 0ï¼Œprev = nums[0] = 1ï¼›ï¼ˆèµ·ç‚¹ï¼‰\néœ€è¦æ›¿æ¢çš„åœ¨0 + 2çš„ä½ç½®ï¼Œnext = 2ï¼Œtemp = nums[2] = 3ï¼›\nå‘ç”Ÿæ›¿æ¢ï¼ˆä½¿ç”¨prevï¼‰ï¼š1 2 1 4ï¼›æ›´æ–°ï¼šprev = temp = 3ï¼›current = next = 2ï¼›\nå¾ªç¯ç»§ç»­ï¼›\ncurrent = 2ï¼›éœ€è¦æ›¿æ¢çš„åœ¨0 + 2çš„ä½ç½®ï¼ˆä¸nums.size()å–æ¨¡ï¼‰ï¼Œcurrent = 0ï¼›temp = nums[0] = 1ï¼›ï¼ˆç»ˆç‚¹ï¼Œè¿™é‡Œå°±åˆå›åˆ°äº†èµ·ç‚¹ï¼Œå½¢æˆäº†é—­ç¯ï¼‰\nå‘ç”Ÿæ›¿æ¢ï¼ˆä½¿ç”¨prevï¼‰ï¼š3 2 1 4ï¼›\næ­¤æ—¶current == startï¼Œè¯´æ˜è¿™ä¸€è½®éå†ç»“æŸï¼Œstart éœ€è¦æ›´æ–°ï¼›\nå¾ªç¯ä¸­æ­¢ï¼Œstart + 1ï¼›\nä»ä¸‹æ ‡1å¼€å§‹ï¼Œstart = 1ï¼Œprev = nums[1] = 2ï¼›ï¼ˆèµ·ç‚¹ï¼‰\néœ€è¦æ›¿æ¢çš„åœ¨1 + 2çš„ä½ç½®ï¼Œnext = 3ï¼Œtemp = nums[3] = 4ï¼›\nå‘ç”Ÿæ›¿æ¢ï¼ˆä½¿ç”¨prevï¼‰ï¼š3 2 1 2ï¼›æ›´æ–°ï¼šprev = temp = 4ï¼›current = next = 3ï¼›\nå¾ªç¯ç»§ç»­ï¼›\ncurrent = 3ï¼›éœ€è¦æ›¿æ¢çš„åœ¨3 + 2çš„ä½ç½®ï¼ˆä¸nums.size()å–æ¨¡ï¼‰ï¼Œcurrent = 1ï¼›temp = nums[1] = 2ï¼›ï¼ˆç»ˆç‚¹ï¼Œåˆå›åˆ°äº†èµ·ç‚¹ï¼Œå½¢æˆäº†é—­ç¯ï¼‰\nå‘ç”Ÿæ›¿æ¢ï¼ˆä½¿ç”¨prevï¼‰ï¼š3 4 1 2ï¼›\næ­¤æ—¶current == startï¼Œè¯´æ˜è¿™ä¸€è½®éå†ç»“æŸï¼Œstart éœ€è¦æ›´æ–°ï¼›\nå¾ªç¯ä¸­æ­¢ï¼Œstart + 1ï¼›\næ­¤æ—¶å·²ç»å®Œæˆæ’åºäº†ï¼Œå¯ä»¥é€€å‡ºç¨‹åºäº†ã€‚\nå…·ä½“çš„å¾ªç¯é€€å‡ºä¾æ®å¯ä»¥é€šè¿‡æ•°ç»„é•¿åº¦å’Œè½®è½¬æ¬¡æ•°çš„æœ€å¤§å…¬çº¦æ•°å¾—åˆ°ã€‚\nç¯çŠ¶æ›¿æ¢ä¸­çš„GCDï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰ å½“å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®æ—¶ï¼Œå¯ä»¥é€šè¿‡ $i \\rightarrow (i + k) % n$ çš„æ˜ å°„å…³ç³»æ¥ç†è§£æ¯ä¸ªå…ƒç´ çš„æ–°ä½ç½®ï¼Œå…¶ä¸­ i æ˜¯åŸå§‹ç´¢å¼•ï¼Œn æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚\nä½†æ˜¯ä½¿ç”¨è¿™ç§æ˜ å°„ï¼Œå¾—éœ€è¦çŸ¥é“è¿™ç§å¾ªç¯ç»“æ„ä½•æ—¶ä¼šå›åˆ°èµ·ç‚¹ï¼Œä¹Ÿå°±æ˜¯å½¢æˆä¸€ä¸ªé—­åˆçš„å¾ªç¯ã€‚\nå¾ªç¯é•¿åº¦å’Œè¿”å›èµ·ç‚¹ï¼š\nå½“ä»æŸä¸ªç´¢å¼• start å¼€å§‹ï¼Œä¸æ–­åº”ç”¨ $i \\rightarrow (i + k) % n$ æ˜ å°„ï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šå›åˆ° start ç´¢å¼•ã€‚è¿™å°±æ„å‘³ç€å¯»æ‰¾æœ€å°çš„æ­£æ•´æ•° mï¼Œä½¿å¾— $(start + m \\cdot k) % n = start$ã€‚ç®€åŒ–åå¾—åˆ° $(m \\cdot k) % n = 0$ï¼Œå³ $m \\cdot k$ åº”è¯¥æ˜¯ n çš„å€æ•°ã€‚ æœ€å°çš„ m å€¼ï¼š\nè¦æ‰¾åˆ°æœ€å°çš„ mï¼Œä½¿å¾— $m \\cdot k$ æ˜¯ n çš„å€æ•°ï¼Œç­‰ä»·äºæ‰¾åˆ°æœ€å°çš„ m ä½¿å¾— $\\frac{m \\cdot k}{n}$ æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚è¿™æ„å‘³ç€ m æ˜¯ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œä½¿å¾— $m \\cdot k$ èƒ½å¤Ÿæ•´é™¤ nã€‚è¿™å°±éœ€è¦ k ä¸­çš„ä»»ä½•å¯èƒ½å› å­å·²ç»åœ¨ n ä¸­æœ‰å¯¹åº”çš„å› å­ä»¥ä¿è¯æ•´é™¤ã€‚ GCDï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰æ˜¯ k å’Œ n çš„å…±åŒæœ€å¤§å› å­ã€‚å½“æˆ‘ä»¬é€šè¿‡ GCD æ¥é™¤ n å’Œ kï¼Œå®é™…ä¸Šæ˜¯åœ¨ç§»é™¤ä¸¤è€…å…±æœ‰çš„æ‰€æœ‰å› å­ï¼Œæ‰€å¾—çš„æ¯”ä¾‹ï¼ˆk/GCD å’Œ n/GCDï¼‰æ˜¯æœ€ç®€å½¢å¼ï¼Œæ²¡æœ‰æ›´å¤šçš„å…¬å…±å› å­ã€‚ ä½¿ç”¨ GCDï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°å®šä¹‰ k å’Œ nï¼š $k\u0026rsquo; = \\frac{k}{\\text{gcd}(k, n)}$ $n\u0026rsquo; = \\frac{n}{\\text{gcd}(k, n)}$ ç°åœ¨ $k\u0026rsquo;$ å’Œ $n\u0026rsquo;$ äº’è´¨ï¼ˆå³æ²¡æœ‰å…±åŒå› å­ï¼‰ï¼Œå› æ­¤æœ€å°çš„ m ä½¿å¾— $(m \\cdot k\u0026rsquo;) % n\u0026rsquo; = 0$ å°±æ˜¯ n'ï¼Œå³ $n / \\text{gcd}(k, n)$ã€‚ å› æ­¤ï¼Œ$m = \\frac{n}{\\text{gcd}(k, n)}$ æ˜¯ä½¿å¾— $(i + m \\cdot k) % n = i$ æˆç«‹çš„æœ€å° m å€¼ï¼Œè¿™é‡Œçš„ gcd è¡¨ç¤º k å’Œ n çš„æœ€å¤§å…¬çº¦æ•°ã€‚ å¾ªç¯çš„æ•°é‡ï¼š\nå¦‚æœä»æ•°ç»„ä¸­çš„æ¯ä¸ª start ç‚¹å¼€å§‹éƒ½è¿è¡Œä¸€ä¸ªå¾ªç¯ï¼Œé€šè¿‡ k å’Œ n çš„æœ€å¤§å…¬çº¦æ•°å¯ä»¥çŸ¥é“ï¼Œä»ä¸€ä¸ªç»™å®šçš„èµ·ç‚¹å¼€å§‹ï¼Œä¼šåœ¨ç»è¿‡ $n / \\text{gcd}(k, n)$ æ­¥åå›åˆ°èµ·ç‚¹ã€‚ å› æ­¤ï¼Œè¦éå†æ‰€æœ‰å¯èƒ½çš„èµ·ç‚¹ï¼ˆç¡®ä¿æ¯ä¸ªå…ƒç´ éƒ½è¢«ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®ï¼‰ï¼Œéœ€è¦ä» gcd(k, n) ä¸ªä¸åŒçš„èµ·ç‚¹å¼€å§‹ï¼Œæ¯ä¸ªèµ·ç‚¹æ‰€ç»å†çš„å¾ªç¯éƒ½æ˜¯è¿™ä¸ªå…¨è¦†ç›–å¾ªç¯çš„ç‹¬ç«‹çš„ä¸€éƒ¨åˆ†ã€‚ å‡è®¾ n = 12 å’Œ k = 8ï¼š\n$\\text{gcd}(12, 8) = 4$ã€‚ ä» 0 å¼€å§‹çš„å¾ªç¯ä¼šç»è¿‡ç´¢å¼• $0 \\rightarrow 8 \\rightarrow 4 \\rightarrow 0$ï¼Œå½¢æˆä¸€ä¸ªé•¿åº¦ä¸º3çš„å¾ªç¯ã€‚ å› ä¸º gcd æ˜¯ 4ï¼Œå¯ä»¥ä» 0, 1, 2, 3 è¿™å››ä¸ªèµ·ç‚¹å¼€å§‹ï¼ˆè¿™é‡Œä¹Ÿå¯ä»¥è§‚å¯Ÿå‡ºï¼šèµ·ç‚¹4æ˜¯æ²¡å¿…è¦ï¼Œå› ä¸ºå·²ç»å‡ºç°åœ¨èµ·ç‚¹ä¸º0çš„å¾ªç¯ä¸­äº†ï¼‰ï¼Œæ¯ä¸ªèµ·ç‚¹éƒ½ä¼šå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„å¾ªç¯ï¼Œè¿™äº›å¾ªç¯å…±åŒè¦†ç›–æ•´ä¸ªæ•°ç»„ã€‚ è®¡ç®— GCD çš„æ–¹æ³• GCD å¯ä»¥ä½¿ç”¨è¾—è½¬ç›¸é™¤æ³•ï¼ˆEuclidean algorithmï¼‰æ¥è®¡ç®—ï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„ç®—æ³•ã€‚\nè¾—è½¬ç›¸é™¤æ³•ï¼Œä¹Ÿè¢«ç§°ä¸ºæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean algorithmï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºè®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼ŒGreatest Common Divisorï¼‰çš„å¤è€ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•åŸºäºä¸€ä¸ªç®€å•çš„åŸç†ï¼šä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ä¸å˜ï¼Œå¦‚æœè¾ƒå¤§æ•°å‡å»è¾ƒå°æ•°ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œç»™å®šä¸¤ä¸ªæ­£æ•´æ•° $a$ å’Œ $b$ï¼Œå…¶ä¸­ $a \u0026gt; b$ï¼Œé‚£ä¹ˆ $gcd(a, b)$ ç­‰äº $gcd(b, a - b)$ã€‚ä½†ä¸ºäº†æ•ˆç‡ï¼Œé€šå¸¸ä½¿ç”¨é™¤æ³•ä»£æ›¿å‡æ³•ã€‚\nä»¥ä¸‹æ˜¯è®¡ç®— GCD çš„ç®€å•å‡½æ•°å®ç°ï¼š\nint gcd(int a, int b) { while (b != 0) { int temp = b; b = a % b; a = temp; } return a; } åŸºæœ¬æ­¥éª¤ï¼š\nå°†è¾ƒå¤§æ•°é™¤ä»¥è¾ƒå°æ•°ã€‚ å°†é™¤æ³•çš„ä½™æ•°æ›¿æ¢åˆ°è¾ƒå°æ•°çš„ä½ç½®ã€‚ é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªæ•°å˜æˆé›¶ã€‚ å½“ä½™æ•°ä¸ºé›¶æ—¶ï¼Œå¦ä¸€ä¸ªæ•°å°±æ˜¯æœ€å¤§å…¬çº¦æ•°ã€‚ å½¢å¼ä¸Šï¼Œç®—æ³•å¯ä»¥æè¿°ä¸ºï¼š\nè¾“å…¥ï¼šä¸¤ä¸ªæ­£æ•´æ•° $a$ å’Œ $b$ã€‚ è¾“å‡ºï¼š$a$ å’Œ $b$ çš„æœ€å¤§å…¬çº¦æ•° $gcd(a, b)$ã€‚ æ¯”å¦‚è®¡ç®— $252$ å’Œ $105$ çš„æœ€å¤§å…¬çº¦æ•°ï¼š\n$gcd(252, 105)$ $252 \\mod 105 = 42$ï¼Œç°åœ¨è®¡ç®— $gcd(105, 42)$ $105 \\mod 42 = 21$ï¼Œç°åœ¨è®¡ç®— $gcd(42, 21)$ $42 \\mod 21 = 0$ï¼Œç»“æŸã€‚æ‰€ä»¥ï¼Œæœ€å¤§å…¬çº¦æ•°æ˜¯ $21$ã€‚ â€¼ï¸æœ‰ä¸€ç‚¹é‡è¦çš„ç‚¹ï¼Œç®—æ³•æœ¬èº«å…·æœ‰è‡ªæ ¡æ­£çš„ç‰¹æ€§ï¼Œå³ä½¿ $b$ å¤§äº $a$ï¼Œå®ƒä»ç„¶å¯ä»¥æ­£ç¡®å·¥ä½œã€‚\nè¿™æ˜¯å› ä¸ºåœ¨ç®—æ³•çš„æ¯ä¸€æ­¥ä¸­ï¼Œéƒ½æ˜¯å–ä¸¤ä¸ªæ•°çš„ä½™æ•°æ¥è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šè‡ªåŠ¨è°ƒæ•´ä¸¤ä¸ªæ•°çš„é¡ºåºã€‚\nå¦‚æœåœ¨ç®—æ³•å¼€å§‹æ—¶ $b \u0026gt; a$ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œä½™æ•°å°†æ˜¯ $a$ï¼ˆå› ä¸º $a \\mod b = a$ å½“ $a \u0026lt; b$ï¼‰ï¼Œç„¶å $a$ å’Œ $b$ çš„è§’è‰²åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­å°±ä¼šäº¤æ¢ã€‚è¿™å°±è‡ªç„¶åœ°ä¿è¯äº†æ¥ä¸‹æ¥çš„è¿­ä»£ä¸­è¾ƒå¤§çš„æ•°æ€»æ˜¯è¢«è¾ƒå°çš„æ•°é™¤ï¼Œç®—æ³•çš„é€»è¾‘ä¸ä¼šå—åˆ°åˆå§‹æ¡ä»¶çš„å½±å“ã€‚\nä¸¾ä¾‹ï¼š\nå‡è®¾ $a = 18$ å’Œ $b = 24$ï¼Œéœ€è¦æ‰¾åˆ°å®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°ã€‚\nè¿­ä»£ 1:\n$b = 24, a = 18$ $a \\mod b = 18 \\mod 24 = 18$ï¼ˆå› ä¸º 18 å°äº 24ï¼‰ æ¥ä¸‹æ¥ï¼Œ$b$ å˜ä¸º 18ï¼Œ$a$ å˜ä¸º 24ã€‚ è¿­ä»£ 2:\n$b = 18, a = 24$ $a \\mod b = 24 \\mod 18 = 6$ï¼ˆç°åœ¨æŒ‰æ­£å¸¸çš„é€»è¾‘è¿›è¡Œï¼‰ $b$ å˜ä¸º 6ï¼Œ$a$ å˜ä¸º 18ã€‚ è¿­ä»£ 3:\n$b = 6, a = 18$ $a \\mod b = 18 \\mod 6 = 0$ï¼ˆä½™æ•°ä¸º 0ï¼Œç»“æŸï¼‰ $gcd$ æ˜¯ 6ã€‚ ä¸è®º $a$ å’Œ $b$ çš„åˆå§‹å¤§å°å…³ç³»å¦‚ä½•ï¼Œæ¬§å‡ é‡Œå¾—ç®—æ³•æ€»èƒ½æ­£ç¡®åœ°è°ƒæ•´å¹¶æ‰¾åˆ°æœ€å¤§å…¬çº¦æ•°ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¿™ç§ç®—æ³•éå¸¸å¼ºå¤§å’Œçµæ´»çš„åŸå› ä¹‹ä¸€ã€‚\næ¬§å‡ é‡Œå¾—ç®—æ³•è¿˜å¯ä»¥æ‰©å±•åˆ°æ›´ä¸€èˆ¬çš„æƒ…å†µï¼Œå¦‚æ±‚è§£çº¿æ€§æ–¹ç¨‹ã€å¤šé¡¹å¼çš„æœ€å¤§å…¬çº¦æ•°ï¼Œä»¥åŠéæ¬§å‡ é‡Œå¾—åŸŸï¼ˆå¦‚é«˜æ–¯æ•´æ•°ï¼‰çš„å…¬çº¦æ•°è®¡ç®—ç­‰ã€‚è¿˜æœ‰ä¸€äº›å˜ç§å’Œæ”¹è¿›æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š\næ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼š\nä¸ä»…è®¡ç®—æœ€å¤§å…¬çº¦æ•°ï¼Œè¿˜æ‰¾åˆ°æ•´æ•°è§£ $x$ å’Œ $y$ï¼Œä½¿å¾— $ax + by = gcd(a, b)$ã€‚è¿™åœ¨æŸäº›æ•°è®ºå’Œå¯†ç å­¦åº”ç”¨ä¸­éå¸¸é‡è¦ã€‚ äºŒè¿›åˆ¶GCDç®—æ³•ï¼š\nä¹Ÿç§°ä¸ºSteinç®—æ³•ï¼Œè¿™ç§æ–¹æ³•ä¸ä½¿ç”¨é™¤æ³•ï¼Œè€Œæ˜¯åŸºäºæ›´ç®€å•çš„ä½è¿ç®—æ¥è®¡ç®—æœ€å¤§å…¬çº¦æ•°ï¼Œæ•ˆç‡åœ¨æŸäº›ç¡¬ä»¶ä¸Šæ›´ä¼˜ã€‚ å¤šé¡¹å¼GCDï¼š\nä½¿ç”¨ç±»ä¼¼æ¬§å‡ é‡Œå¾—ç®—æ³•çš„æ–¹æ³•æ¥æ‰¾åˆ°ä¸¤ä¸ªå¤šé¡¹å¼çš„æœ€å¤§å…¬å…±å› å­ã€‚ ä½¿ç”¨è¿™ä¸ª gcd å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡º n å’Œ k çš„ GCDï¼Œä»è€Œç¡®å®šéœ€è¦è¿›è¡Œçš„ç¯çŠ¶æ›¿æ¢çš„èµ·å§‹ä½ç½®æ•°ã€‚\næ–¹æ³•ä¸‰ï¼šåè½¬æ•°ç»„ ä½¿ç”¨æ•°ç»„åè½¬å¯ä»¥å·§å¦™åœ°å®ç°æ—‹è½¬ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´ï¼š\nåè½¬æ•´ä¸ªæ•°ç»„ï¼šè¿™ä¸€æ­¥æŠŠæ•°ç»„çš„å¤´éƒ¨ç§»åˆ°å°¾éƒ¨ï¼Œå°¾éƒ¨ç§»åˆ°å¤´éƒ¨ã€‚ åè½¬å‰ k % n ä¸ªå…ƒç´ ï¼šç”±äºæ•´ä¸ªæ•°ç»„å·²ç»è¢«åè½¬ï¼Œæœ€åˆçš„æœ€å k % n ä¸ªå…ƒç´ ç°åœ¨ä½äºæ•°ç»„çš„å‰éƒ¨ã€‚å†æ¬¡åè½¬è¿™éƒ¨åˆ†å¯ä»¥æ¢å¤å®ƒä»¬çš„åŸå§‹é¡ºåºã€‚ åè½¬å‰©ä½™çš„ n - k % n ä¸ªå…ƒç´ ï¼šè¿™æ ·å¯ä»¥æ¢å¤è¿™éƒ¨åˆ†å…ƒç´ çš„åŸå§‹é¡ºåºã€‚ è¿™åŒæ ·æ˜¯ä¸€ä¸ªç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„åŸåœ°ç®—æ³•ã€‚\nä¸¾ä¾‹è¯´æ˜ å‡è®¾æ•°ç»„ä¸º [1,2,3,4,5,6,7]ï¼Œéœ€è¦å‘å³ç§»åŠ¨ k = 3 æ­¥ã€‚\nåˆå§‹æ•°ç»„ï¼š[1,2,3,4,5,6,7] åè½¬æ•´ä¸ªæ•°ç»„ï¼š[7,6,5,4,3,2,1] åè½¬å‰ k % n = 3 ä¸ªå…ƒç´ ï¼š[5,6,7,4,3,2,1] åè½¬å‰©ä½™ n - k = 4 ä¸ªå…ƒç´ ï¼š[5,6,7,1,2,3,4] ä¸å¤Ÿè½®è½¬çš„k æ˜¯å¤šå°‘ï¼Œæ•´ä¸ªæ“ä½œåªæ¶‰åŠä¸‰æ¬¡æ•°ç»„éå†ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œè€Œä¸”ä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€‚\næ ¸å¿ƒæ€æƒ³ è¿™é‡Œéœ€è¦ç»†å“çš„æ˜¯ï¼š\nåŒæ ·åè½¬ä¸¤æ¬¡ï¼Œå¯ä»¥å¤åŸæ“ä½œ æ‰€ä»¥å…ˆæ•´ä½“åè½¬ï¼Œå†å±€éƒ¨åè½¬ ä»£ç å®ç° // 189. Rotate Array #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; // æ–¹æ³•ä¸€ ä½¿ç”¨é¢å¤–çš„æ•°ç»„ class Solution { public: void rotate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { int n = nums.size(); // é”™è¯¯å†™æ³•ï¼Œè‡ªå·±åæ€ä¸€ä¸‹å§ // k = n % k; // å¤„ç†ç»™çš„kå¤§äºnçš„æƒ…å†µ k = k % n; vector\u0026lt;int\u0026gt; nums_new(n); for (int i = 0; i \u0026lt; n; i++) { // æ³¨æ„è¿™ç§é”™è¯¯å†™æ³• // nums_new[i] = nums[i + k]; // è‚¯å®šè¦ä»nums[0]å¼€å§‹ï¼Œä¸ç„¶ä¼šè¶Šç•Œçš„ nums_new[(i + k) % n] = nums[i]; } nums = nums_new; } }; // æ–¹æ³•äºŒ ç¯çŠ¶æ›¿æ¢ï¼ˆå¾ªç¯æ›¿æ¢ï¼‰ class Solution { public: // éœ€è¦è®¡ç®—æœ€å¤§å…¬çº¦æ•° int gcd(int a, int b) { while (b != 0) { int temp = b; b = a % b; a = temp; } return a; } void rotate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { int n = nums.size(); k = k % n; int end = gcd(n, k); for (int start = 0; start \u0026lt; end; start++) { int current = start; int prev = nums[start]; do { // æ³¨æ„è¿™é‡Œå†™é”™äº† // int next = (start + k) % n; // å› ä¸ºå·²ç»çŸ¥é“currentï¼Œstartæ ‡è®°çš„æ˜¯å¤§å¾ªç¯ int next = (current + k) % n; int temp = nums[next]; nums[next] = prev; prev = temp; // è¿˜éœ€è¦æ›´æ–°current current = next; } while (current != start); } } }; // æ–¹æ³•ä¸‰ åè½¬æ•°ç»„ // ç›´æ¥ä½¿ç”¨vectorçš„reverseæ–¹æ³• class Solution { public: void rotate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { int n = nums.size(); k = k % n; reverse(nums.begin(), nums.end()); // åè½¬ä¸¤æ¬¡ï¼Œé¡ºåºå°±ä¼šå¤åŸ // å·¦é—­å³å¼€åŒºé—´ reverse(nums.begin(), nums.begin() + k); reverse(nums.begin() + k, nums.end()); } }; ","permalink":"https://ahaknow.com/posts/know/leetcode-189-rotate-array/","summary":"Given an integer array nums, rotate the array to the right by k steps, where k is non-negative. Example 1: Input: nums = [1,2,3,4,5,6,7], k = 3 Output: [5,6,7,1,2,3,4] Explanation: rotate 1 steps to the right: [7,1,2,3,4,5,6] rotate 2 steps to the right: [6,7,1,2,3,4,5] rotate 3 steps to the right: [5,6,7,1,2,3,4] Example 2: Input: nums = [-1,-100,3,99], k = 2 Output: [3,99,-1,-100] Explanation: rotate 1 steps to the right: [99,-1,-100,3]","title":"Leetcodeï¼š189. è½®è½¬æ•°ç»„"},{"content":"Given an array nums of size n, return the majority element.\nThe majority element is the element that appears more than âŒŠn / 2âŒ‹ times. You may assume that the majority element always exists in the array.\nExample 1:\nInput: nums = [3,2,3] Output: 3 Example 2:\nInput: nums = [2,2,1,1,1,2,2] Output: 2 Constraints:\nn == nums.length 1 \u0026lt;= n \u0026lt;= 5 * 104 -109 \u0026lt;= nums[i] \u0026lt;= 109 Follow-up: Could you solve the problem in linear time and in O(1) space?\nç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•° å¤§äº âŒŠ n/2 âŒ‹ çš„å…ƒç´ ã€‚\nä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums = [3,2,3] è¾“å‡ºï¼š3 ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums = [2,2,1,1,1,2,2] è¾“å‡ºï¼š2 æç¤ºï¼š\nn == nums.length 1 \u0026lt;= n \u0026lt;= 5 * 104 -109 \u0026lt;= nums[i] \u0026lt;= 109 è¿›é˜¶ï¼š å°è¯•è®¾è®¡æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚\nç¬¬ä¸€ååº”æ˜¯åˆ†åˆ«è®¡æ•°ï¼Œè¿™ç§æ–¹æ³•æ˜¾ç„¶æœ‰ç‚¹ç¬¨ã€‚ã€‚ã€‚\nå› ä¸ºé¢˜ç›®æƒ³æ‰¾å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å­—ï¼ˆè¿™ç§é¢˜ç›®è¦æ±‚å¤§äºä¸€åŠæ•°é‡ï¼Œè¯´æ˜è‚¯å®šæœ‰å¤§äºä¸€åŠæ•°é‡å­˜åœ¨çš„ï¼‰ï¼Œå…¶å®å¯ä»¥è¿™æ ·ï¼Œä¸ç”¨åˆ†åˆ«è®¡æ•°ï¼Œè€Œæ˜¯æŒ‰ç…§é¡ºåºä¾æ¬¡â€œå¢å‡â€è®¡æ•°ï¼Œæ¯”å¦‚ï¼š\n1 1 2 2 1 1\næœ€å¼€å§‹é‡åˆ°1ï¼Œé‡åˆ°1å°±è®¡æ•°+1ï¼Œé‡åˆ°ä¸æ˜¯1å°±è®¡æ•°-1ï¼Œå¦‚æœè¿™ä¸ªæ•°å­—å¤§äºä¸€åŠæ•°é‡ï¼Œé‚£ä¹ˆå¢å¢å‡å‡ä¹‹åï¼Œä¸€å®šä¹Ÿè¿˜æ˜¯å¤§äºé›¶\nğŸ¥¬ä¸Šèœ åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªå‡ºç°æ¬¡æ•°è¶…è¿‡ âŒŠn/2âŒ‹ æ¬¡çš„å¤šæ•°å…ƒç´ ã€‚å¯¹äºè¿™ç§é—®é¢˜ï¼Œæœ‰ä¸€ç§éå¸¸é«˜æ•ˆçš„è§£å†³æ–¹æ³•ï¼Œç§°ä¸º Boyer-Moore æŠ•ç¥¨ç®—æ³•ã€‚è¿™ç§ç®—æ³•å¯ä»¥åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…æ‰¾åˆ°å¤šæ•°å…ƒç´ ï¼Œå¹¶ä¸”å…¶ç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚\nBoyer-Moore æŠ•ç¥¨ç®—æ³• å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¸€ç§å·§å¦™çš„æ–¹å¼å–æ¶ˆæ‰éå¤šæ•°å…ƒç´ çš„è®¡æ•°ï¼Œæ¥æ‰¾åˆ°å¤šæ•°å…ƒç´ ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆå§‹åŒ–ï¼šè®¾ç½®ä¸¤ä¸ªå˜é‡ï¼Œcandidateï¼ˆå€™é€‰äººï¼‰åˆå§‹åŒ–ä¸ºä»»æ„å€¼ï¼Œcountï¼ˆè®¡æ•°ï¼‰åˆå§‹åŒ–ä¸º 0ã€‚ ç¬¬ä¸€ééå†ï¼šéå†æ•°ç»„ numsã€‚ å¦‚æœ count ä¸º 0ï¼Œè®¾å½“å‰å…ƒç´ ä¸º candidateã€‚ å¦‚æœå½“å‰å…ƒç´ ç­‰äº candidateï¼Œå¢åŠ  countã€‚ å¦åˆ™å‡å°‘ countã€‚ ç¬¬äºŒééå†ï¼šéªŒè¯ candidate æ˜¯å¦ä¸ºå¤šæ•°å…ƒç´ ï¼ˆè¿™ä¸€æ­¥åœ¨é¢˜ç›®ä¸­å¯ä»¥çœç•¥ï¼Œå› ä¸ºé¢˜ç›®ä¿è¯äº†æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ï¼‰ã€‚ è®¡ç®— candidate çš„å‡ºç°æ¬¡æ•°ã€‚ å¦‚æœå‡ºç°æ¬¡æ•°å¤§äº âŒŠn/2âŒ‹ï¼Œè¿”å› candidateã€‚ ç›´è§‰çš„ç†è§£ï¼š\næ¯æ¬¡åœ¨æ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„å…ƒç´ æ—¶å°±å°†å®ƒä»¬â€œæŠµæ¶ˆâ€ã€‚å¦‚æœä¸€ä¸ªå…ƒç´ çš„æ•°é‡è¶…è¿‡æ€»æ•°çš„ä¸€åŠï¼Œé‚£ä¹ˆå³ä½¿å®ƒä¸å…¶ä»–æ‰€æœ‰ä¸åŒçš„å…ƒç´ è¿›è¡ŒæŠµæ¶ˆï¼Œæœ€åä»ç„¶ä¼šå‰©ä½™è¯¥å…ƒç´ ï¼Œå› ä¸ºå®ƒçš„æ•°é‡å¤šäºå…¶ä»–æ‰€æœ‰å…ƒç´ çš„æ€»å’Œã€‚\nä½†æ˜¯è¦æ³¨æ„è¿™ä¸ªç®—æ³•æˆç«‹çš„å…³é”®å‰æï¼šæ•°ç»„ä¸­å­˜åœ¨ä¸€ä¸ªå¤šæ•°å…ƒç´ ï¼Œå…¶å‡ºç°æ¬¡æ•°ä¸¥æ ¼å¤§äºæ•°ç»„é•¿åº¦çš„ä¸€åŠã€‚\nå®ç°ä»£ç ï¼ˆC++ï¼‰ // 169. Majority Element #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; class Solution { public: int majorityElement(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int candidate; int count = 0; for (int num : nums) { // è¯´æ˜å¢å¢å‡å‡ä¹‹ååˆå›åˆ°é›¶ if (count == 0) { candidate = num; } count += (candidate == num) ? 1 : -1; } // ç”±äºé¢˜ç›®é™åˆ¶ï¼Œä¸‹é¢çš„åˆ¤æ–­å¯ä»¥çœç•¥ï¼ˆä½†å…¶å®å¾ˆå¿…è¦ï¼‰ // count = 0; // for (int num : nums) { // if (num == candidate) { // count++; // } // } // if (count \u0026gt; nums.size() / 2) return candidate; return candidate; } }; ","permalink":"https://ahaknow.com/posts/know/leetcode-169-majority-element/","summary":"Given an array nums of size n, return the majority element. The majority element is the element that appears more than âŒŠn / 2âŒ‹ times. You may assume that the majority element always exists in the array. Example 1: Input: nums = [3,2,3] Output: 3 Example 2: Input: nums = [2,2,1,1,1,2,2] Output: 2 Constraints: n == nums.length 1 \u0026lt;= n \u0026lt;= 5 * 104 -109 \u0026lt;= nums[i] \u0026lt;=","title":"Leetcodeï¼š169. å¤šæ•°å…ƒç´ "},{"content":"Given an integer array nums sorted in non-decreasing order, remove some duplicates in-place such that each unique element appears at most twice. The relative order of the elements should be kept the same.\nSince it is impossible to change the length of the array in some languages, you must instead have the result be placed in the first part of the array nums. More formally, if there are k elements after removing the duplicates, then the first k elements of nums should hold the final result. It does not matter what you leave beyond the first k elements.\nReturn k after placing the final result in the first k slots of nums.\nDo not allocate extra space for another array. You must do this by modifying the input array in-place with O(1) extra memory.\nCustom Judge:\nThe judge will test your solution with the following code:\nint[] nums = [...]; // Input array int[] expectedNums = [...]; // The expected answer with correct length int k = removeDuplicates(nums); // Calls your implementation assert k == expectedNums.length; for (int i = 0; i \u0026lt; k; i++) { assert nums[i] == expectedNums[i]; } If all assertions pass, then your solution will be accepted.\nExample 1:\nInput: nums = [1,1,1,2,2,3] Output: 5, nums = [1,1,2,2,3,_] Explanation: Your function should return k = 5, with the first five elements of nums being 1, 1, 2, 2 and 3 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Example 2:\nInput: nums = [0,0,1,1,1,1,2,3,3] Output: 7, nums = [0,0,1,1,2,3,3,_,_] Explanation: Your function should return k = 7, with the first seven elements of nums being 0, 0, 1, 1, 2, 3 and 3 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Constraints:\n1 \u0026lt;= nums.length \u0026lt;= 3 * 104 -104 \u0026lt;= nums[i] \u0026lt;= 104 nums is sorted in non-decreasing order. ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸¤æ¬¡çš„å…ƒç´ åªå‡ºç°ä¸¤æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚\nä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚\nè¯´æ˜ï¼š\nä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢ï¼Ÿ\nè¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥ ã€Œå¼•ç”¨ã€ æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚\nä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:\n// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´ int len = removeDuplicates(nums); // åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ // æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚ for (int i = 0; i \u0026lt; len; i++) { print(nums[i]); } ç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums = [1,1,1,2,2,3] è¾“å‡ºï¼š5, nums = [1,1,2,2,3] è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums = [0,0,1,1,1,1,2,3,3] è¾“å‡ºï¼š7, nums = [0,0,1,1,2,3,3] è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰ä¸ƒä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 0, 1, 1, 2, 3, 3ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ æç¤ºï¼š\n1 \u0026lt;= nums.length \u0026lt;= 3 * 104 -104 \u0026lt;= nums[i] \u0026lt;= 104 nums å·²æŒ‰å‡åºæ’åˆ— è¿™å’Œä¸Šä¸€é¢˜çš„åŒºåˆ«å°±æ˜¯é‡å¤çš„å…ƒç´ åªå‡ºç°ä¸¤æ¬¡\nå…¶å®è§£é¢˜çš„æœ¬è´¨å’Œä¸Šä¸€é¢˜æ˜¯ä¸€æ ·çš„ï¼Œè¿˜æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä½†æ˜¯å®ç°é€»è¾‘ä¸Šç¨æœ‰ä¸åŒï¼Œéœ€è¦æ³¨æ„â€¼ï¸\nä¸ç®¡æ˜¯åªå‡ºç°ä¸¤æ¬¡è¿˜æ˜¯næ¬¡ï¼Œ\nå› ä¸ºæ˜¯å‡åºæ’åˆ—ï¼Œåªèƒ½å‡ºç°ä¸€æ¬¡æ˜¯æ¯”è¾ƒä¸€æ¬¡ï¼Œé‚£ä¹ˆåªèƒ½å‡ºç°ä¸¤æ¬¡é‚£å°±åˆ¤æ–­ä¸¤æ¬¡\nä½†æ¯”è¾ƒä¸€æ¬¡å¯ä»¥ç®€åŒ–ä¸ºæ¯”è¾ƒä¸åŒï¼Œæ¯”è¾ƒä¸¤æ¬¡åˆ™è¦ä¿è¯ä¸å—åˆ°åŸåœ°æ›¿æ¢çš„å½±å“ï¼Œåœ¨é€»è¾‘ä¸Šæœ‰å·§å¦™ä¹‹å¤„ã€‚\nğŸŒ½ä¸Šèœ è¿™ä¸ªé—®é¢˜æ˜¯å‰ä¸€ä¸ªé—®é¢˜çš„ä¸€ä¸ªå˜ä½“ï¼Œä¸åŒä¹‹å¤„åœ¨äºéœ€è¦ä¿ç•™æ¯ä¸ªå…ƒç´ æœ€å¤šä¸¤æ¬¡ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡ã€‚å› æ­¤ï¼Œä»ç„¶å¯ä»¥é‡‡ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªæ˜¯éœ€è¦å¯¹æ¯”è¾ƒé€»è¾‘åšä¸€äº›è°ƒæ•´ï¼Œä»¥ç¡®ä¿æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ã€‚\nè§£é¢˜æ€è·¯ï¼š\nä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ slow å’Œ fastã€‚å…¶ä¸­ slow æŒ‡é’ˆç”¨æ¥æŒ‡ç¤ºå¤„ç†åçš„æ•°ç»„çš„æœ«å°¾ä½ç½®ï¼Œè€Œ fast æŒ‡é’ˆç”¨æ¥éå†æ•´ä¸ªæ•°ç»„ã€‚ éœ€è¦ç¡®ä¿ slow æŒ‡å‘çš„æ–°æ•°ç»„ä¸­ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ã€‚è¿™å¯ä»¥é€šè¿‡æ¯”è¾ƒ nums[fast] ä¸ nums[slow-2]ï¼ˆè€Œä¸æ˜¯ nums[slow-1]ï¼‰æ¥å®ç°ï¼Œå› ä¸ºè¿™æ¬¡æ˜¯å…è®¸æ¯ä¸ªå…ƒç´ å‡ºç°ä¸¤æ¬¡ã€‚ å½“ fast æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸ slow-2 æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸åŒï¼Œæˆ–è€… slow å°äº2ï¼ˆæ„å‘³ç€è¿˜æ²¡æœ‰å¡«å……ä¸¤ä¸ªå…ƒç´ ï¼‰æ—¶ï¼Œå°† nums[fast] çš„å€¼å¤åˆ¶åˆ° nums[slow]ï¼Œç„¶åé€’å¢ slowã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š if (nums[fast] != nums[slow - 2])ï¼Œä¸ä¹‹å‰çš„å†™æ³•ä¸åŒï¼\nå…·ä½“ä»£ç å®ç°ï¼ˆC++ï¼‰å¦‚ä¸‹ï¼š\n#include \u0026lt;vector\u0026gt; using namespace std; int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { if (nums.size() \u0026lt;= 2) return nums.size(); int slow = 2; // å› ä¸ºå…è®¸å…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œæ‰€ä»¥ä»ç´¢å¼•2å¼€å§‹æ£€æŸ¥ for (int fast = 2; fast \u0026lt; nums.size(); ++fast) { if (nums[fast] != nums[slow - 2]) { nums[slow++] = nums[fast]; } } return slow; } è¿™æ®µä»£ç æœ‰æ•ˆåœ°åœ¨åŸåœ°ä¿®æ”¹äº†æ•°ç»„ï¼ŒåŒæ—¶åªä½¿ç”¨äº† O(1) çš„é¢å¤–ç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œå› ä¸ºåªéœ€è¦éœ€è¦éå†ä¸€æ¬¡æ•°ç»„ã€‚ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œåªæ˜¯åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œäº†æ“ä½œã€‚\nğŸ’£ç‰¹åˆ«æ³¨æ„ åœ¨å¤„ç†æœ‰åºæ•°ç»„ä¸­åˆ é™¤é‡å¤å…ƒç´ ï¼Œå¹¶ä¿ç•™æœ€å¤šä¸¤ä¸ªé‡å¤å…ƒç´ çš„æƒ…æ™¯ä¸­ï¼Œä½¿ç”¨ if (nums[fast] != nums[slow - 2]) å’Œä½¿ç”¨ if (nums[fast - 2] != nums[fast]) è¿›è¡Œåˆ¤æ–­æœ‰æœ¬è´¨çš„ä¸åŒï¼Œä¸»è¦å› ä¸ºè¿™ä¸¤ç§åˆ¤æ–­æ–¹å¼æ‰€ä¾èµ–çš„é€»è¾‘å’Œæ•°ç»„çš„ä¿®æ”¹æ–¹å¼ä¸åŒã€‚\nif (nums[fast] != nums[slow - 2]) è¿™ç§åˆ¤æ–­æ–¹å¼æ˜¯åœ¨åŸåœ°ä¿®æ”¹æ•°ç»„ï¼Œé€šè¿‡ä¿æŒä¸€ä¸ª slow æŒ‡é’ˆæ¥è·Ÿè¸ªåº”è¯¥å†™å…¥çš„ä½ç½®ã€‚è¿™ä¸ªæ¡ä»¶æ£€æŸ¥çš„æ˜¯å½“å‰æ­£åœ¨éå†çš„å…ƒç´ ï¼ˆç”± fast æŒ‡é’ˆæŒ‡ç¤ºï¼‰æ˜¯å¦ä¸ slow - 2 ä½ç½®çš„å…ƒç´ ä¸åŒã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ã€‚å½“æ•°ç»„ä¸­å‰ä¸¤ä¸ªå…ƒç´ å·²ç»å­˜åœ¨æ—¶ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥ä¿è¯ä¸ä¼šè¶…è¿‡ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ è¢«è¿ç»­ä¿ç•™ã€‚\nä¼˜ç‚¹ï¼š\nå®ƒå…è®¸åœ¨å·²ç»æœ‰ä¸¤ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ç»§ç»­æ”¾ç½®æ–°å…ƒç´ ï¼Œåªè¦æ–°å…ƒç´ ä¸ slow - 2 çš„å…ƒç´ ä¸åŒã€‚ if (nums[fast - 2] != nums[fast]) è¿™ç§æ–¹æ³•çš„å…³é”®åœ¨äºæ¯”è¾ƒå½“å‰å…ƒç´ ä¸å®ƒå‰é¢ç¬¬äºŒä¸ªå…ƒç´ æ˜¯å¦ä¸åŒã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºæ£€æŸ¥æ•´ä¸ªæ•°ç»„å¹¶åˆ¤æ–­å“ªäº›å…ƒç´ åº”è¯¥è¢«ä¿ç•™ï¼Œä¸é€‚åˆåœ¨ä½¿ç”¨ slow å’Œ fast æŒ‡é’ˆåŸåœ°ä¿®æ”¹æ•°ç»„çš„æƒ…å¢ƒã€‚åœ¨åˆå§‹æ•°ç»„ä¸­ï¼Œå¦‚æœç”¨è¿™ç§åˆ¤æ–­æ–¹æ³•ï¼Œé‚£ä¹ˆä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è¦ä¸å®ƒå‰é¢çš„ç¬¬äºŒä¸ªå…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¯´æ˜å®ƒæ˜¯ç¬¬ä¸‰æ¬¡æˆ–æ›´å¤šæ¬¡é‡å¤å‡ºç°ã€‚\né—®é¢˜ï¼š\nè¿™ç§æ–¹æ³•å‡è®¾æ¯ä¸ªå…ƒç´ çš„å‰ä¸¤ä¸ªå…ƒç´ å·²ç»ç¡®å®šå¹¶ä¸”æ­£ç¡®åœ°å¤„ç†è¿‡ï¼Œè¿™åœ¨åˆå§‹åŒ–é˜¶æ®µå¹¶ä¸æ€»æ˜¯æˆç«‹ã€‚ åœ¨ä½¿ç”¨åŒæŒ‡é’ˆè¿›è¡ŒåŸåœ°æ“ä½œæ—¶ï¼Œè¿™ç§åˆ¤æ–­ä¸èƒ½æ­£ç¡®åœ°æ›´æ–° slow æŒ‡é’ˆçš„ä½ç½®ï¼Œå› ä¸ºå®ƒåŸºäºéå†è¿‡ç¨‹ä¸­ä¹‹å‰çš„å…ƒç´ çš„çŠ¶æ€ï¼Œè€Œåœ¨ slow å’Œ fast æŒ‡é’ˆæ“ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦åŸºäºåŠ¨æ€æ›´æ–°çš„æ•°ç»„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ã€‚ if (nums[fast] != nums[slow - 2]) æ˜¯é’ˆå¯¹åŒæŒ‡é’ˆåŸåœ°ä¿®æ”¹æ•°ç»„è®¾è®¡çš„ï¼Œèƒ½æœ‰æ•ˆå¤„ç†åªä¿ç•™æœ€å¤šä¸¤ä¸ªé‡å¤å…ƒç´ çš„è¦æ±‚ï¼Œè€Œ if (nums[fast - 2] != nums[fast]) æ›´å¤šçš„æ˜¯ä¸€ç§æ£€æŸ¥æ–¹å¼ï¼Œç”¨äºç†è§£å’Œåˆ†æï¼Œä½†ä¸é€‚åˆç›´æ¥ç”¨äºåŒæŒ‡é’ˆåŸåœ°ä¿®æ”¹æ•°ç»„çš„å…·ä½“å®ç°ã€‚\nä¸¾ä¾‹è¯´æ˜ å¦‚æœæ˜¯if (nums[fast - 2] != nums[fast]):\n1 1 1 2 2 3 â¬†å¿« â¬†å¿«-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸å¿«-2æŒ‡é’ˆç›¸åŒï¼Œå¿«æŒ‡é’ˆç»§ç»­å¾ªç¯ï¼Œæ…¢æŒ‡é’ˆä½ç½®ä¸å˜ 1 1 1 2 2 3 â¬†å¿« â¬†å¿«-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸å¿«-2æŒ‡é’ˆä¸ç›¸åŒï¼Œå‘ç”Ÿæ›¿æ¢ï¼Œå¹¶è§¦å‘ä¸€æ¬¡æ…¢æŒ‡é’ˆçš„å¢åŠ  1 1 2 2 2 3 â¬†æ…¢ 1 1 2 2 2 3 æ³¨æ„ç”±äºæ…¢æŒ‡é’ˆçš„æ›¿æ¢ï¼Œå¯¼è‡´æ­¤æ—¶åŸå§‹æ•°ç»„å‘ç”Ÿå˜åŒ– â¬†å¿« â¬†å¿«-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸å¿«-2æŒ‡é’ˆç›¸åŒï¼Œå¿«æŒ‡é’ˆç»§ç»­å¾ªç¯ï¼Œæ…¢æŒ‡é’ˆä½ç½®ä¸å˜ 1 1 2 2 2 3 â¬†å¿« â¬†å¿«-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸å¿«-2æŒ‡é’ˆä¸ç›¸åŒï¼Œå‘ç”Ÿæ›¿æ¢ï¼Œå¹¶è§¦å‘ä¸€æ¬¡æ…¢æŒ‡é’ˆçš„å¢åŠ  1 1 2 3 2 3 â¬†æ…¢ ç»“æœé”™è¯¯âŒ å¦‚æœæ˜¯if (nums[fast] != nums[slow - 2])ï¼š\n1 1 1 2 2 3 â¬†å¿« â¬†æ…¢-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸æ…¢-2æŒ‡é’ˆç›¸åŒï¼Œå¿«æŒ‡é’ˆç»§ç»­å¾ªç¯ï¼Œæ…¢æŒ‡é’ˆä½ç½®ä¸å˜ 1 1 1 2 2 3 â¬†å¿« â¬†æ…¢-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸æ…¢-2æŒ‡é’ˆä¸ç›¸åŒï¼Œå‘ç”Ÿæ›¿æ¢ï¼Œå¹¶è§¦å‘ä¸€æ¬¡æ…¢æŒ‡é’ˆçš„å¢åŠ  1 1 2 2 2 3 â¬†æ…¢ 1 1 2 2 2 3 æ³¨æ„ç”±äºæ…¢æŒ‡é’ˆçš„æ›¿æ¢ï¼Œå¯¼è‡´æ­¤æ—¶åŸå§‹æ•°ç»„å‘ç”Ÿå˜åŒ– â¬†å¿« â¬†æ…¢-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸æ…¢-2æŒ‡é’ˆä¸ç›¸åŒï¼Œå‘ç”Ÿæ›¿æ¢ï¼Œå¹¶è§¦å‘ä¸€æ¬¡æ…¢æŒ‡é’ˆçš„å¢åŠ  1 1 2 2 2 3 â¬†æ…¢ 1 1 2 2 2 3 â¬†å¿« â¬†æ…¢-2 â¬†æ…¢ å¿«æŒ‡é’ˆä¸æ…¢-2æŒ‡é’ˆä¸ç›¸åŒï¼Œå‘ç”Ÿæ›¿æ¢ï¼Œå¹¶è§¦å‘ä¸€æ¬¡æ…¢æŒ‡é’ˆçš„å¢åŠ  1 1 2 2 3 3 â¬†æ…¢ å¿«æŒ‡é’ˆåˆ°å¤´ï¼Œå¾ªç¯ç»“æŸ ç»“æœæ­£ç¡®âœ… ğŸŒŸä¸ä¸Šä¸€é¢˜çš„åŒºåˆ« å¯¹äºä¸Šä¸€é¢˜ï¼Œå³ç§»é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡çš„æƒ…å†µï¼Œä½¿ç”¨ if (nums[fast] != nums[fast - 1]) å¯¹ç»“æœæ²¡æœ‰å½±å“ï¼Œåˆ†æå¦‚ä¸‹ï¼š\nåŸåœ°æ“ä½œ åœ¨æ•°ç»„æ“ä½œä¸­ï¼Œâ€œåŸåœ°â€æ„å‘³ç€ä¸éœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨è¾“å‡ºï¼Œä»…å…è®¸ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚åœ¨ä½¿ç”¨ if (nums[fast] != nums[fast - 1]) çš„åŒæŒ‡é’ˆç­–ç•¥ä¸­ï¼Œç›´æ¥åœ¨è¾“å…¥æ•°ç»„ nums ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼ˆé™¤äº†å‡ ä¸ªæŒ‡é’ˆå˜é‡ï¼‰ã€‚è¿™æ˜¯ä¸€ç§åŸåœ°æ“ä½œï¼Œå› ä¸ºå®ƒç›´æ¥åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œå…ƒç´ çš„é‡å†™å’Œè¦†ç›–ï¼Œæ²¡æœ‰ä½¿ç”¨æ–°çš„æ•°ç»„ç»“æ„æ¥å­˜å‚¨ç»“æœã€‚\nä½¿ç”¨ if (nums[fast] != nums[fast - 1])ä¹Ÿå¯ä»¥çš„åŸå›  è¿™ä¸ªæ¡ä»¶æ˜¯ç”¨æ¥æ£€æŸ¥å½“å‰å¿«æŒ‡é’ˆ fast æŒ‡å‘çš„å…ƒç´ æ˜¯å¦ä¸å®ƒå‰ä¸€ä¸ªå…ƒç´ ç›¸åŒã€‚è¿™é‡Œçš„å…³é”®æ˜¯ç†è§£æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¿è¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ã€‚ç”±äºæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæ‰€æœ‰çš„é‡å¤å…ƒç´ éƒ½ä¼šè¿ç»­å‡ºç°ã€‚å› æ­¤ï¼Œåªéœ€è¦æ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦ä¸å‰ä¸€ä¸ªå…ƒç´ ä¸åŒï¼š\nå¦‚æœ ä¸åŒï¼Œåˆ™è¡¨ç¤ºå½“å‰å…ƒç´ æ˜¯ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œåº”è¯¥è¢«ä¿ç•™ã€‚è¿™æ—¶ä½ å°±å°†å½“å‰ fast æŒ‡å‘çš„å…ƒç´ å¤åˆ¶åˆ° slow æŒ‡é’ˆçš„ä½ç½®ï¼Œç„¶åé€’å¢ slowã€‚ å¦‚æœ ç›¸åŒï¼Œåˆ™å¿«æŒ‡é’ˆ fast ç»§ç»­å‘å‰ç§»åŠ¨ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªä¸åŒçš„å…ƒç´ ã€‚ å¦‚æœæ˜¯ if (nums[fast] != nums[slow - 1]) æ•ˆæœä¹Ÿä¸€æ ·ã€‚\nåœ¨åªå…è®¸æ¯ä¸ªå…ƒç´ å‡ºç°ä¸€æ¬¡çš„é—®é¢˜ä¸­ï¼Œå…³æ³¨çš„æ˜¯ç¡®ä¿ä¸å¤åˆ¶ç›¸åŒçš„å…ƒç´ åˆ° slow æŒ‡å‘çš„ä½ç½®ã€‚è€Œåœ¨å…è®¸æ¯ä¸ªå…ƒç´ å‡ºç°ä¸¤æ¬¡çš„é—®é¢˜ä¸­ï¼Œå…³æ³¨ç‚¹åˆ™æ˜¯å…è®¸è‡³å¤šä¸¤ä¸ªé‡å¤å…ƒç´ ã€‚\nslow - 2çš„å…³é”®åœ¨äºï¼šä¿è¯slow-2åˆ°slowä¹‹é—´æ˜¯ç›¸åŒçš„å…ƒç´ ï¼Œå¹¶ä¸”ç”¨fastæŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œæ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒå‚è€ƒï¼Œè€Œä¸æ˜¯è‡ªå·±å’Œè‡ªå·±æ¯”ï¼ˆæœ‰ç‚¹éœ€è¦æ„ä¼šçš„æ„æ€ï¼Œæ…¢æ…¢å“ï¼‰\n","permalink":"https://ahaknow.com/posts/know/leetcode-80-remove-duplicates-from-sorted-array-ii/","summary":"Given an integer array nums sorted in non-decreasing order, remove some duplicates in-place such that each unique element appears at most twice. The relative order of the elements should be kept the same. Since it is impossible to change the length of the array in some languages, you must instead have the result be placed in the first part of the array nums. More formally, if there are k elements","title":"Leetcodeï¼š80. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II"},{"content":" æˆ‘å‘ç°æˆ‘çš„æ€ç»´ç‰¹åˆ«å®¹æ˜“å‘æ•£ï¼Œå°±æ˜¯å¹²è¿™ä¸€ä»¶äº‹ï¼Œè„‘æµ·ä¸­çªç„¶æœ‰äº†å…¶ä»–çµæ„Ÿï¼Œæ­¤å‰çš„åšæ³•æ˜¯â€œç›´æ¥æ’é˜Ÿçš„ä¼˜å…ˆé˜Ÿåˆ—â€ï¼Œå°±æ˜¯æ”¾ä¸‹æ‰‹ä¸­æ´»ï¼ŒæŠŠçªç„¶æƒ³åˆ°å»åŠäº†ï¼Œå…¶å®è¿™ç§æ–¹æ³•æœ‰æ—¶å€™å¹¶ä¸å¥½ï¼Œå®¹æ˜“â€œæœ¬æœ«å€’ç½®â€ï¼ŒåŸæœ¬çš„äº‹åˆ°æœ€åæ²¡åšå¥½ã€‚\næ‰€ä»¥ï¼Œå†æ¬¡æŠŠä¸€å†™åšå®¢çš„çµæ„Ÿè®°å½•ä¸‹æ¥ï¼Œç„¶åä¸€ä»¶ä¸€ä»¶äº‹æƒ…æŒ‰éƒ¨å°±ç­å®Œæˆäº†å†æ¥å¤„ç†è¿™é‡Œã€‚\nåœ¨æ­¤ä¹‹å‰å·²ç»å®ç°äº†å¾ˆå¤šæƒ³æ³•ï¼Œæ¯”å¦‚ä¸€äº›ç¾åŒ–æ“ä½œï¼ˆå“¼ï¼Œå¾’æœ‰å¤–è¡¨ï¼Œåè€Œä¸å®ï¼ï¼ï¼‰ï¼Œå°±ä¸è®°å½•äº†ï¼›ä¹‹åæ–°äº§ç”Ÿçš„ï¼Œåœ¨æ­¤è®°å½•ã€‚\næ–‡ç« å…ƒæ•°æ®æ˜¾ç¤ºç­‰ç¾åŒ– å­—ä½“æ›¿æ¢ä¸åŠ é€Ÿ æ—¶é—´çº¿æŒ‰ç…§æœ€è¿‘æ›´æ–°æ—¶é—´æ’åº Hugoé‡Œé¢æ—¶é—´è®¡ç®—çš„åŸç†éœ€è¦ä¼˜åŒ–ï¼ˆå…¬å¼ä¼˜åŒ–ï¼‰ Hugoçš„æ¨¡ç‰ˆé¡µé¢è‡ªå®šä¹‰ ä½¿ç”¨jsDelivré…åˆGithubå®ç°æ–‡ä»¶è¯»å–åŠ é€Ÿ æ–‡ç« ç¼©ç•¥æˆªæ–­çš„å­—æ•°ä¿®æ”¹ æ·»åŠ è®¿é—®æ¬¡æ•° paginavçš„éƒ¨åˆ†æ˜¾ç¤ºä¸ä¸‹çš„æ–‡å­—ç”¨çœç•¥å· ","permalink":"https://ahaknow.com/posts/know/blog-todo/","summary":"æˆ‘å‘ç°æˆ‘çš„æ€ç»´ç‰¹åˆ«å®¹æ˜“å‘æ•£ï¼Œå°±æ˜¯å¹²è¿™ä¸€ä»¶äº‹ï¼Œè„‘æµ·ä¸­çªç„¶æœ‰äº†å…¶ä»–çµæ„Ÿï¼Œæ­¤å‰çš„åšæ³•æ˜¯â€œç›´æ¥æ’é˜Ÿçš„ä¼˜å…ˆé˜Ÿåˆ—â€ï¼Œå°±æ˜¯æ”¾ä¸‹æ‰‹ä¸­æ´»ï¼ŒæŠŠçªç„¶æƒ³åˆ°å»åŠäº†ï¼Œå…¶","title":"Blogï¼šå¥‡æ€å¦™æƒ³å¾…åŠé¡¹"},{"content":" è®°å½•ä¸€äº›å®ç”¨Hugoå†™åšå®¢çš„å°æŠ€å·§ã€‚\nâ€”â€” å› ä¸ºå¦‚æœå½“æ—¶ä¸è®°å½•ï¼Œé‚£ä¹ˆæ—¥åè‚¯å®šä¸ä¼šå†è®°å½•çš„ï¼ï¼ˆæ‡’ï¼ï¼‰\nä½¿ç”¨Archetypeé¢„è®¾æ¨¡ç‰ˆ åœ¨ä½¿ç”¨ hugo new å‘½ä»¤åˆ›å»ºæ–°å†…å®¹æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šä½¿ç”¨ç‰¹å®šçš„ archetypeã€‚Archetype æ˜¯ Hugo ä¸­çš„æ¨¡æ¿æ–‡ä»¶ï¼Œç”¨äºé¢„è®¾æ–°å†…å®¹æ–‡ä»¶çš„å…ƒæ•°æ®å’Œç»“æ„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒHugo ä¼šä½¿ç”¨åä¸º default.md çš„ archetypeï¼Œä½†å¯ä»¥åˆ›å»ºå’ŒæŒ‡å®šå…¶ä»– archetype æ¥æ»¡è¶³ä¸åŒç±»å‹å†…å®¹çš„éœ€æ±‚ã€‚\nåˆ›å»ºè‡ªå®šä¹‰ Archetype åœ¨ Hugo ç«™ç‚¹çš„æ ¹ç›®å½•ä¸­ï¼Œarchetypes ç›®å½•ç”¨äºå­˜æ”¾ archetype æ–‡ä»¶ã€‚\nå¯ä»¥åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºæ–°çš„ archetype æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º blog.md çš„æ–‡ä»¶ï¼Œç”¨äºåšå®¢å¸–å­ï¼š\narchetypes/blog.md ç¼–è¾‘ blog.md æ–‡ä»¶ï¼Œå®šä¹‰ä½ æƒ³è¦é¢„ç½®çš„å†…å®¹å’Œ Front Matterï¼Œä¾‹å¦‚ï¼š\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: {{ .Date }} draft: true tags: [] --- åœ¨è¿™é‡Œå†™åšå®¢å†…å®¹... ä½¿ç”¨è‡ªå®šä¹‰ Archetype åˆ›å»ºå†…å®¹ å½“åˆ›å»ºæ–°å†…å®¹æ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š archetype çš„åç§°æ¥ä½¿ç”¨å®ƒã€‚æ ¼å¼å¦‚ä¸‹ï¼š\nhugo new \u0026lt;è·¯å¾„\u0026gt;/\u0026lt;æ–‡ä»¶å\u0026gt;.\u0026lt;æ‰©å±•å\u0026gt; --kind \u0026lt;archetypeåç§°\u0026gt; æˆ–è€…ï¼Œå¦‚æœåˆ›å»ºçš„å†…å®¹ç›´æ¥ä½äº archetypes ä¸‹çš„åŒåç›®å½•ä¸­ï¼Œä½ åªéœ€æŒ‡å®šè·¯å¾„ï¼ŒHugo ä¼šè‡ªåŠ¨å¯»æ‰¾åŒ¹é…çš„ archetypeã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªåä¸º blog.md çš„ archetypeï¼Œå°±å¯ä»¥è¿™æ ·åˆ›å»ºæ–°çš„åšå®¢å¸–å­ï¼š\nhugo new blog/æˆ‘çš„æ–°åšå®¢å¸–å­.md è¿™é‡Œï¼ŒHugo ä¼šåœ¨ archetypes ç›®å½•ä¸‹å¯»æ‰¾åä¸º blog.md çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨å®ƒä½œä¸ºæ–°å†…å®¹æ–‡ä»¶çš„æ¨¡æ¿ã€‚\nå¦‚æœæƒ³æ˜¾å¼åœ°ä½¿ç”¨ç‰¹å®šçš„ archetype è€Œä¸ä¾èµ–äºç›®å½•ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨ --kind å‚æ•°ï¼Œåƒè¿™æ ·ï¼š\nhugo new posts/æˆ‘çš„æ–°åšå®¢å¸–å­.md --kind blog è¿™å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å®¹æ–‡ä»¶ posts/æˆ‘çš„æ–°åšå®¢å¸–å­.mdï¼Œå¹¶ä½¿ç”¨ archetypes/blog.md ä½œä¸ºæ¨¡æ¿ã€‚\nåœ¨æ–‡ç« å†…é“¾æ¥å¯¼èˆªå…¶ä»–æ–‡ç«  åœ¨Hugoä¸­åˆ›å»ºæ–‡ç« é—´çš„è¶…é“¾æ¥ï¼Œæœ€ä½³å®è·µæ˜¯ä½¿ç”¨ç›¸å¯¹URLæˆ–è€…Hugoçš„å†…ç½®å‡½æ•°æ¥ç”ŸæˆURLã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥ä¿æŒé“¾æ¥çš„æŒä¹…æ€§ï¼Œå³ä½¿ä½ çš„ç«™ç‚¹URLå‘ç”Ÿå˜åŒ–ï¼Œé“¾æ¥ä¹Ÿä¸ä¼šæ–­è£‚ã€‚ä»¥ä¸‹æ˜¯å‡ ç§åœ¨Hugoä¸­é“¾æ¥åˆ°å¦ä¸€ä¸ªæœ¬åœ°æ–‡ç« çš„æ–¹æ³•ï¼š\n1. ä½¿ç”¨ç›¸å¯¹URL å¦‚æœçŸ¥é“ç›®æ ‡æ–‡ç« çš„è·¯å¾„ï¼Œå¯ä»¥ç›´æ¥åœ¨Markdownæ–‡ä»¶ä¸­ä½¿ç”¨ç›¸å¯¹URLåˆ›å»ºé“¾æ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³ä»ä½äº /content/posts/my-first-post.md çš„æ–‡ç« é“¾æ¥åˆ° /content/posts/my-second-post.mdï¼Œå¯ä»¥è¿™æ ·å†™ï¼š\nè¯·æŸ¥çœ‹æˆ‘çš„[ç¬¬äºŒç¯‡æ–‡ç« ](../my-second-post/) è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›¸å¯¹äºå½“å‰æ–‡ä»¶çš„è·¯å¾„ã€‚æ³¨æ„ï¼Œé“¾æ¥çš„è·¯å¾„éƒ¨åˆ†åº”è¯¥ä¸ç›®æ ‡Markdownæ–‡ä»¶çš„ä½ç½®ç›¸å¯¹åº”ï¼Œä¸”é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸åŒ…æ‹¬æ–‡ä»¶æ‰©å±•å.mdã€‚\n2. ä½¿ç”¨Hugoçš„refå’ŒrelrefçŸ­ä»£ç  Hugoæä¾›äº†refå’ŒrelrefçŸ­ä»£ç ï¼Œè¿™ä¸¤ä¸ªçŸ­ä»£ç å¯ä»¥ç”Ÿæˆåˆ°ç«™ç‚¹å†…ä»»ä½•é¡µé¢çš„æ°¸ä¹…é“¾æ¥ã€‚è¿™æ˜¯ä¸€ç§æ›´å¥å£®çš„é“¾æ¥æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸ä¾èµ–äºç«™ç‚¹çš„éƒ¨ç½²è·¯å¾„ã€‚è¿™ä¸¤ä¸ªçŸ­ä»£ç çš„åŒºåˆ«åœ¨äºrefå¯ä»¥ç”¨äºä»»ä½•ç«™ç‚¹ï¼ˆå¾—åˆ°ç»å¯¹è·¯å¾„ï¼‰é¡µé¢ï¼Œè€Œrelrefä»…ç”¨äºç›¸åŒè¯­è¨€ï¼ˆå¾—åˆ°ç›¸å¯¹è·¯å¾„ï¼‰çš„é¡µé¢ã€‚\nå‡è®¾æƒ³é“¾æ¥åˆ°ä½äº/content/posts/know/blog-tips.mdçš„æ–‡ç« ï¼Œå¯ä»¥åœ¨ä»»ä½•Markdownæ–‡ä»¶ä¸­è¿™æ ·å†™ï¼š\nè¯·æŸ¥çœ‹æˆ‘çš„[ç¬¬äºŒç¯‡æ–‡ç« ](ä¸¤ä¸ª{\u0026lt; relref \u0026#34;/posts/know/blog-mac-style-code.md\u0026#34; \u0026gt;ä¸¤ä¸ª}) å®é™…æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š\nè¯·æŸ¥çœ‹æˆ‘çš„[ç¬¬äºŒç¯‡æ–‡ç« ](/posts/know/blog-mac-style-code/) æˆ–è€…\nè¯·æŸ¥çœ‹æˆ‘çš„[ç¬¬äºŒç¯‡æ–‡ç« ](ä¸¤ä¸ª{\u0026lt; ref \u0026#34;/posts/know/blog-mac-style-code.md\u0026#34; \u0026gt;ä¸¤ä¸ª}) å®é™…æ•ˆæœå¦‚ä¸‹ï¼š\nè¯·æŸ¥çœ‹æˆ‘çš„[ç¬¬äºŒç¯‡æ–‡ç« ](https://ahaknow.com/posts/know/blog-mac-style-code/) ä½¿ç”¨refæˆ–relrefçŸ­ä»£ç æ—¶ï¼Œéœ€è¦æŒ‡å®šç›®æ ‡æ–‡ä»¶çš„è·¯å¾„ä»contentç›®å½•çš„ä¸‹ä¸€ä¸ªç›®å½•å¼€å§‹ï¼ˆä¹Ÿå°±æ˜¯hugo newæ—¶ä½¿ç”¨çš„è·¯å¾„æ–‡ä»¶åï¼‰ã€‚\nå½“ä½¿ç”¨refå’ŒrelrefçŸ­ä»£ç æ—¶ï¼Œç¡®ä¿è·¯å¾„æ˜¯ä»contentæ–‡ä»¶å¤¹å¼€å§‹çš„ç›¸å¯¹è·¯å¾„ï¼Œå¹¶ä¸”åŒ…æ‹¬æ–‡ä»¶çš„æ‰©å±•å.mdã€‚ å¦‚æœç«™ç‚¹æ”¯æŒå¤šè¯­è¨€ï¼Œrelrefæ˜¯é“¾æ¥åˆ°å½“å‰è¯­è¨€ä¸‹çš„ç›¸å¯¹å†…å®¹ï¼Œè€Œrefå¯ç”¨äºé“¾æ¥åˆ°ä»»ä½•è¯­è¨€çš„å†…å®¹ï¼ˆå› ä¸ºhugoçš„ä¸åŒè¯­è¨€é€šè¿‡urlåŒºåˆ†ï¼‰ã€‚ ä½¿ç”¨refå’Œrelrefçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœç›®æ ‡é“¾æ¥ä¸å­˜åœ¨ï¼ŒHugoåœ¨æ„å»ºç«™ç‚¹æ—¶ä¼šæŠ¥é”™ï¼Œè¿™æœ‰åŠ©äºä½ åŠæ—¶å‘ç°å¹¶ä¿®æ­£æ­»é“¾ï¼ˆæ‰€ä»¥ä¸Šè¿°ä½¿ç”¨çš„æ˜¯çœŸå®å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„ï¼‰ã€‚ ","permalink":"https://ahaknow.com/posts/know/blog-tips/","summary":"è®°å½•ä¸€äº›å®ç”¨Hugoå†™åšå®¢çš„å°æŠ€å·§ã€‚ â€”â€” å› ä¸ºå¦‚æœå½“æ—¶ä¸è®°å½•ï¼Œé‚£ä¹ˆæ—¥åè‚¯å®šä¸ä¼šå†è®°å½•çš„ï¼ï¼ˆæ‡’ï¼ï¼‰ ä½¿ç”¨Archetypeé¢„è®¾æ¨¡ç‰ˆ åœ¨ä½¿ç”¨ hugo new å‘½ä»¤åˆ›","title":"Blogï¼šHugoå†™ä½œå°æŠ€å·§ "},{"content":"Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums.\nConsider the number of unique elements of nums to be k, to get accepted, you need to do the following things:\nChange the array nums such that the first k elements of nums contain the unique elements in the order they were present in nums initially. The remaining elements of nums are not important as well as the size of nums. Return k. Custom Judge:\nThe judge will test your solution with the following code:\nint[] nums = [...]; // Input array int[] expectedNums = [...]; // The expected answer with correct length int k = removeDuplicates(nums); // Calls your implementation assert k == expectedNums.length; for (int i = 0; i \u0026lt; k; i++) { assert nums[i] == expectedNums[i]; } If all assertions pass, then your solution will be accepted.\nExample 1:\nInput: nums = [1,1,2] Output: 2, nums = [1,2,_] Explanation: Your function should return k = 2, with the first two elements of nums being 1 and 2 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Example 2:\nInput: nums = [0,0,1,1,1,2,2,3,3,4] Output: 5, nums = [0,1,2,3,4,_,_,_,_,_] Explanation: Your function should return k = 5, with the first five elements of nums being 0, 1, 2, 3, and 4 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Constraints:\n1 \u0026lt;= nums.length \u0026lt;= 3 * 104 -100 \u0026lt;= nums[i] \u0026lt;= 100 nums is sorted in non-decreasing order. ç»™ä½ ä¸€ä¸ª éä¸¥æ ¼é€’å¢æ’åˆ— çš„æ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  åªå‡ºç°ä¸€æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚å…ƒç´ çš„ ç›¸å¯¹é¡ºåº åº”è¯¥ä¿æŒ ä¸€è‡´ ã€‚ç„¶åè¿”å› nums ä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ã€‚\nè€ƒè™‘ nums çš„å”¯ä¸€å…ƒç´ çš„æ•°é‡ä¸º k ï¼Œä½ éœ€è¦åšä»¥ä¸‹äº‹æƒ…ç¡®ä¿ä½ çš„é¢˜è§£å¯ä»¥è¢«é€šè¿‡ï¼š\næ›´æ”¹æ•°ç»„ nums ï¼Œä½¿ nums çš„å‰ k ä¸ªå…ƒç´ åŒ…å«å”¯ä¸€å…ƒç´ ï¼Œå¹¶æŒ‰ç…§å®ƒä»¬æœ€åˆåœ¨ nums ä¸­å‡ºç°çš„é¡ºåºæ’åˆ—ã€‚nums çš„å…¶ä½™å…ƒç´ ä¸ nums çš„å¤§å°ä¸é‡è¦ã€‚ è¿”å› k ã€‚ åˆ¤é¢˜æ ‡å‡†:\nç³»ç»Ÿä¼šç”¨ä¸‹é¢çš„ä»£ç æ¥æµ‹è¯•ä½ çš„é¢˜è§£:\nint[] nums = [...]; // è¾“å…¥æ•°ç»„ int[] expectedNums = [...]; // é•¿åº¦æ­£ç¡®çš„æœŸæœ›ç­”æ¡ˆ int k = removeDuplicates(nums); // è°ƒç”¨ assert k == expectedNums.length; for (int i = 0; i \u0026lt; k; i++) { assert nums[i] == expectedNums[i]; } å¦‚æœæ‰€æœ‰æ–­è¨€éƒ½é€šè¿‡ï¼Œé‚£ä¹ˆæ‚¨çš„é¢˜è§£å°†è¢« é€šè¿‡ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums = [1,1,2] è¾“å‡ºï¼š2, nums = [1,2,_] è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2 ï¼Œå¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums = [0,0,1,1,1,2,2,3,3,4] è¾“å‡ºï¼š5, nums = [0,1,2,3,4] è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5 ï¼Œ å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ æç¤ºï¼š\n1 \u0026lt;= nums.length \u0026lt;= 3 * 104 -104 \u0026lt;= nums[i] \u0026lt;= 104 nums å·²æŒ‰ éä¸¥æ ¼é€’å¢ æ’åˆ— â€œéä¸¥æ ¼é€’å¢â€çš„æ„æ€æ˜¯æŒ‡ï¼šåºåˆ—å·²ç»æŒ‰ç…§ä»å°åˆ°å¤§æ’åºäº†ï¼Œåªä¸è¿‡æœ‰äº›å…ƒç´ é‡å¤äº†ï¼Œæ‰€ä»¥æ˜¯éä¸¥æ ¼é€’å¢ï¼›\næœ‰åºæ•°åˆ—çš„é—®é¢˜ï¼Œè¿˜æ˜¯ç”¨åŒæŒ‡é’ˆï¼Œåªä¸è¿‡æŒ‡é’ˆçš„ç”¨å¤„ç¨å¾®ä¸åŒã€‚\nå¿«æŒ‡é’ˆç”¨æ¥åˆ¤æ–­å‰åå…ƒç´ æ˜¯å¦ç›¸åŒï¼Œæ…¢æŒ‡é’ˆç”¨æ¥æŒ‰ç…§éœ€æ±‚ä¿ç•™ã€‚\nğŸ¥¬ä¸Šèœ è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼äºLeetCode26çš„è§£å†³æ–¹æ¡ˆï¼Œå³ä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚è¿™æ¬¡ä¹Ÿæ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒï¼šå½“å¿«æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸æ…¢æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ç›¸åŒæ—¶ï¼Œåªç§»åŠ¨å¿«æŒ‡é’ˆï¼Œä»¥è·³è¿‡é‡å¤çš„å…ƒç´ ï¼›å½“å¿«æ…¢æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸åŒï¼Œå°†å¿«æŒ‡é’ˆçš„å…ƒç´ å¤åˆ¶åˆ°æ…¢æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œç„¶ååŒæ—¶ç§»åŠ¨å¿«æ…¢æŒ‡é’ˆã€‚\nè¿™æ ·å¤„ç†åï¼Œæ•°ç»„çš„å‰ k ä¸ªå…ƒç´ å°±æ˜¯å”¯ä¸€çš„å…ƒç´ ï¼Œå¹¶ä¸”ä¿æŒäº†å®ƒä»¬æœ€åˆçš„ç›¸å¯¹é¡ºåºï¼Œå…¶ä¸­ k æ˜¯è¿”å›çš„æ•°ç»„é•¿åº¦ã€‚\nä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š\nå¦‚æœæ•°ç»„çš„é•¿åº¦ n å°äºç­‰äº1ï¼Œåˆ™ç›´æ¥è¿”å› nï¼ˆå› ä¸ºæ²¡æœ‰é‡å¤å…ƒç´ éœ€è¦åˆ é™¤ï¼‰ã€‚ åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ slow = 1 å’Œ fast = 1ã€‚ å½“ fast å°äºæ•°ç»„é•¿åº¦æ—¶ï¼Œæ¯”è¾ƒ nums[fast] å’Œ nums[fast - 1]ï¼š å¦‚æœ nums[fast] ä¸ç­‰äº nums[fast - 1]ï¼Œè¯´æ˜é‡åˆ°äº†ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œå°±å°† nums[fast] çš„å€¼å¤åˆ¶åˆ° nums[slow]ï¼Œç„¶å slow å¢åŠ 1ã€‚ å¦åˆ™ï¼Œå¿«æŒ‡é’ˆ fast ç»§ç»­å‰è¿›ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªä¸åŒçš„å…ƒç´ ã€‚ å½“æ•°ç»„éå†å®Œæˆåï¼Œslow æŒ‡é’ˆçš„ä½ç½®å°±æ˜¯æ–°æ•°ç»„çš„é•¿åº¦ã€‚ ä¸‹é¢æ˜¯ç”¨C++å®ç°çš„ä»£ç ç¤ºä¾‹ï¼š\n// 26. Remove Duplicates from Sorted Array #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { if (nums.size() \u0026lt;= 1) return nums.size(); int slow = 1; for (int fast = 1; fast \u0026lt; nums.size(); fast++) { if (nums[fast - 1] != nums[fast]) { nums[slow++] = nums[fast]; } } return slow; } }; // è¿™é“é¢˜ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨vectorçš„earse()å’Œunique() // nums.erase(unique(nums.begin(), nums.end()), nums.end()); è¿™æ®µä»£ç é€šè¿‡åŒæŒ‡é’ˆæ³•é«˜æ•ˆåœ°å®ç°äº†åŸåœ°åˆ é™¤æ•°ç»„ä¸­çš„é‡å¤é¡¹ï¼Œä¸”åªä½¿ç”¨äº† O(1) çš„é¢å¤–ç©ºé—´ã€‚ç”±äº nums æ˜¯éä¸¥æ ¼é€’å¢æ’åˆ—çš„ï¼Œå¯ä»¥ç¡®ä¿æ‰€æœ‰çš„é‡å¤é¡¹éƒ½æ˜¯è¿ç»­å‡ºç°çš„ï¼Œè¿™è®©é—®é¢˜å˜å¾—æ›´åŠ ç®€å•ã€‚\n","permalink":"https://ahaknow.com/posts/know/leetcode-26-remove-duplicates-from-sorted-array/","summary":"Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums. Consider the number of unique elements of nums to be k, to get accepted, you need to do the following things: Change the array nums such that the first","title":"Leetcodeï¼š26åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹"},{"content":"Given an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val.\nConsider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things:\nChange the array nums such that the first k elements of nums contain the elements which are not equal to val. The remaining elements of nums are not important as well as the size of nums. Return k. Custom Judge:\nThe judge will test your solution with the following code:\nint[] nums = [...]; // Input array int val = ...; // Value to remove int[] expectedNums = [...]; // The expected answer with correct length. // It is sorted with no values equaling val. int k = removeElement(nums, val); // Calls your implementation assert k == expectedNums.length; sort(nums, 0, k); // Sort the first k elements of nums for (int i = 0; i \u0026lt; actualLength; i++) { assert nums[i] == expectedNums[i]; } If all assertions pass, then your solution will be accepted.\nExample 1:\nInput: nums = [3,2,2,3], val = 3 Output: 2, nums = [2,2,_,_] Explanation: Your function should return k = 2, with the first two elements of nums being 2. It does not matter what you leave beyond the returned k (hence they are underscores). Example 2:\nInput: nums = [0,1,2,2,3,0,4,2], val = 2 Output: 5, nums = [0,1,4,0,3,_,_,_] Explanation: Your function should return k = 5, with the first five elements of nums containing 0, 0, 1, 3, and 4. Note that the five elements can be returned in any order. It does not matter what you leave beyond the returned k (hence they are underscores). Constraints:\n0 \u0026lt;= nums.length \u0026lt;= 100 0 \u0026lt;= nums[i] \u0026lt;= 50 0 \u0026lt;= val \u0026lt;= 100 ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚\nä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚\nå…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\nè¯´æ˜:\nä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢?\nè¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥**ã€Œå¼•ç”¨ã€**æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚\nä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:\n// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚ä½œä»»ä½•æ‹·è´ int len = removeElement(nums, val); // åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ // æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚ for (int i = 0; i \u0026lt; len; i++) { print(nums[i]); } ç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums = [3,2,2,3], val = 3 è¾“å‡ºï¼š2, nums = [2,2] è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›çš„æ–°é•¿åº¦ä¸º 2 ï¼Œè€Œ nums = [2,2,3,3] æˆ– nums = [2,2,0,0]ï¼Œä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚ ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums = [0,1,2,2,3,0,4,2], val = 2 è¾“å‡ºï¼š5, nums = [0,1,3,0,4] è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ æç¤ºï¼š\n0 \u0026lt;= nums.length \u0026lt;= 100 0 \u0026lt;= nums[i] \u0026lt;= 50 0 \u0026lt;= val \u0026lt;= 100 è¿™é“é¢˜çš„ç”¨æ„æ˜¯æŒ‡ï¼Œä¸èƒ½ç”¨é¢å¤–ç©ºé—´ã€‚\nä¸èƒ½ç”¨é¢å¤–ç©ºé—´ï¼Œé‚£å°±ç”¨ä¸¤ä¸ªæŒ‡é’ˆã€‚å¿«æ…¢æŒ‡é’ˆï¼Œè¿™ç§è®¾è®¡å¾ˆå·§å¦™ï¼Œå¿«æŒ‡é’ˆéå†ï¼Œæ…¢æŒ‡é’ˆè¦†ç›–ï¼Œå› ä¸ºæœ‰ç­›é€‰ï¼Œæ‰€ä»¥åŸå§‹æ•°ç»„çš„å¤§å°å¤Ÿç”¨\nğŸ¥¬ä¸Šèœä¸Šèœ å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ³•æ¥å®ç°åŸåœ°ç®—æ³•ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥é‡‡ç”¨å¿«æ…¢æŒ‡é’ˆçš„ç­–ç•¥ï¼šå¿«æŒ‡é’ˆï¼ˆfastï¼‰éå†æ•°ç»„ï¼Œæ…¢æŒ‡é’ˆï¼ˆslowï¼‰æŒ‡å‘æ›´æ–°æ•°ç»„çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚å½“é‡åˆ°ä¸ val ç›¸ç­‰çš„å…ƒç´ æ—¶ï¼Œå¿«æŒ‡é’ˆç»§ç»­å‰è¿›ï¼Œè·³è¿‡è¿™äº›å…ƒç´ ï¼›å½“é‡åˆ°ä¸ç­‰äº val çš„å…ƒç´ æ—¶ï¼Œå°†å…¶å¤åˆ¶åˆ°æ…¢æŒ‡é’ˆçš„ä½ç½®ï¼Œç„¶åæ…¢æŒ‡é’ˆå‰è¿›ã€‚è¿™æ ·ï¼Œæ‰€æœ‰ä¸ç­‰äº val çš„å…ƒç´ éƒ½è¢«ç§»åŠ¨åˆ°æ•°ç»„çš„å‰é¢ï¼Œä¸”ä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚\nä¸‹é¢æ˜¯å…·ä½“çš„æ­¥éª¤ï¼š\nåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼šfast = 0, slow = 0ã€‚ éå†æ•°ç»„ï¼Œfast ä½œä¸ºéå†çš„æŒ‡é’ˆï¼Œslow æŒ‡å‘ä¸‹ä¸€ä¸ªå¯èƒ½å­˜æ”¾é val å…ƒç´ çš„ä½ç½®ã€‚ å¦‚æœ nums[fast] ä¸ç­‰äº valï¼Œå°±å°† nums[fast] çš„å€¼å¤åˆ¶åˆ° nums[slow]ï¼Œç„¶å slow å‰è¿›ä¸€ä½ã€‚ fast æŒ‡é’ˆæ¯æ¬¡å¾ªç¯éƒ½å‰è¿›ä¸€ä½ã€‚ å½“ fast éå†å®Œæ•´ä¸ªæ•°ç»„åï¼Œslow çš„ä½ç½®å³ä¸ºæ–°æ•°ç»„çš„é•¿åº¦ã€‚ è¿™ç§æ–¹æ³•ä¹‹æ‰€ä»¥é«˜æ•ˆï¼Œæ˜¯å› ä¸ºå®ƒé¿å…äº†å¯¹ val å…ƒç´ çš„é‡å¤æ£€æŸ¥å’Œä¸å¿…è¦çš„å…ƒç´ ç§»åŠ¨ã€‚\nä¸‹é¢æ˜¯ç”¨C++å®ç°çš„ä»£ç ç¤ºä¾‹ï¼š\n// 27. Remove Element #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; // å¿«æ…¢æŒ‡é’ˆ class Solution { public: int removeElement(vector\u0026lt;int\u0026gt;\u0026amp; nums, int val) { // å¿«æŒ‡é’ˆéå†æ•°ç»„ï¼Œæ…¢æŒ‡é’ˆæŒ‰éœ€æ›¿æ¢ int slow = 0; for (int fast = 0; fast \u0026lt; nums.size(); fast++) { if (nums[fast] != val) { nums[slow++] = nums[fast]; } } return slow; } }; // å½“è¿”å›slowåï¼Œä¹‹ånums[]é‡Œæœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼ŒåŒæ—¶nums[]slowä½ç½®åŠä»¥å‰çš„éƒ½å·²ç»æŒ‰è¦æ±‚æ›¿æ¢å¥½ï¼Œslowä½ç½®ä»¥åçš„ä¸ç®¡äº† è¿™æ®µä»£ç ä¸­ï¼Œfast å’Œ slow ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æ‰®æ¼”äº†éå†æ•°ç»„å’Œæ›´æ–°æ•°ç»„çš„è§’è‰²ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å®ç°åŸåœ°ä¿®æ”¹æ•°ç»„ï¼ŒåŒæ—¶åªä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´ã€‚\n","permalink":"https://ahaknow.com/posts/know/leetcode-27-remove-element/","summary":"Given an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val. Consider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things: Change the array nums such that","title":"Leetcodeï¼š27ç§»é™¤å…ƒç´ "},{"content":" LeetCodeä¸Šâ€œæœ€ç®€å•â€çš„ä¸€é“é¢˜äº†å§ï¼Ÿ\né•¿æ—¶é—´æ²¡æœ‰å†™è¿‡é¢˜ï¼Œé¢è¯•çš„æ—¶å€™ç«Ÿç„¶ä¸ä¼šå†™äº†ï¼Œå¥‡è€»å¤§è¾±çš„ä¸€ä»¶äº‹ï¼\nYou are given two integer arrays nums1 and nums2, sorted in non-decreasing order, and two integers m and n, representing the number of elements in nums1 and nums2 respectively.\nMerge nums1 and nums2 into a single array sorted in non-decreasing order.\nThe final sorted array should not be returned by the function, but instead be stored inside the array nums1. To accommodate this, nums1 has a length of m + n, where the first m elements denote the elements that should be merged, and the last n elements are set to 0 and should be ignored. nums2 has a length of n.\nExample 1:\nInput: nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3 Output: [1,2,2,3,5,6] Explanation: The arrays we are merging are [1,2,3] and [2,5,6]. The result of the merge is [1,2,2,3,5,6] with the underlined elements coming from nums1. Example 2:\nInput: nums1 = [1], m = 1, nums2 = [], n = 0 Output: [1] Explanation: The arrays we are merging are [1] and []. The result of the merge is [1]. Example 3:\nInput: nums1 = [0], m = 0, nums2 = [1], n = 1 Output: [1] Explanation: The arrays we are merging are [] and [1]. The result of the merge is [1]. Note that because m = 0, there are no elements in nums1. The 0 is only there to ensure the merge result can fit in nums1. Constraints:\nnums1.length == m + n nums2.length == n 0 \u0026lt;= m, n \u0026lt;= 200 1 \u0026lt;= m + n \u0026lt;= 200 -109 \u0026lt;= nums1[i], nums2[j] \u0026lt;= 109 ç»™ä½ ä¸¤ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åˆ—çš„æ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œå¦æœ‰ä¸¤ä¸ªæ•´æ•° m å’Œ n ï¼Œåˆ†åˆ«è¡¨ç¤º nums1 å’Œ nums2 ä¸­çš„å…ƒç´ æ•°ç›®ã€‚\nè¯·ä½  åˆå¹¶ nums2 åˆ° nums1 ä¸­ï¼Œä½¿åˆå¹¶åçš„æ•°ç»„åŒæ ·æŒ‰ éé€’å‡é¡ºåº æ’åˆ—ã€‚\næ³¨æ„: æœ€ç»ˆï¼Œåˆå¹¶åæ•°ç»„ä¸åº”ç”±å‡½æ•°è¿”å›ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æ•°ç»„ nums1 ä¸­ã€‚ä¸ºäº†åº”å¯¹è¿™ç§æƒ…å†µï¼Œnums1 çš„åˆå§‹é•¿åº¦ä¸º m + nï¼Œå…¶ä¸­å‰ m ä¸ªå…ƒç´ è¡¨ç¤ºåº”åˆå¹¶çš„å…ƒç´ ï¼Œå n ä¸ªå…ƒç´ ä¸º 0 ï¼Œåº”å¿½ç•¥ã€‚nums2 çš„é•¿åº¦ä¸º n ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šnums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3 è¾“å‡ºï¼š[1,2,2,3,5,6] è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1,2,3] å’Œ [2,5,6] ã€‚ åˆå¹¶ç»“æœæ˜¯ [1,2,2,3,5,6] ï¼Œå…¶ä¸­æ–œä½“åŠ ç²—æ ‡æ³¨çš„ä¸º nums1 ä¸­çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šnums1 = [1], m = 1, nums2 = [], n = 0 è¾“å‡ºï¼š[1] è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1] å’Œ [] ã€‚ åˆå¹¶ç»“æœæ˜¯ [1] ã€‚ ç¤ºä¾‹ 3ï¼š\nè¾“å…¥ï¼šnums1 = [0], m = 0, nums2 = [1], n = 1 è¾“å‡ºï¼š[1] è§£é‡Šï¼šéœ€è¦åˆå¹¶çš„æ•°ç»„æ˜¯ [] å’Œ [1] ã€‚ åˆå¹¶ç»“æœæ˜¯ [1] ã€‚ æ³¨æ„ï¼Œå› ä¸º m = 0 ï¼Œæ‰€ä»¥ nums1 ä¸­æ²¡æœ‰å…ƒç´ ã€‚nums1 ä¸­ä»…å­˜çš„ 0 ä»…ä»…æ˜¯ä¸ºäº†ç¡®ä¿åˆå¹¶ç»“æœå¯ä»¥é¡ºåˆ©å­˜æ”¾åˆ° nums1 ä¸­ã€‚ æç¤ºï¼š\nnums1.length == m + n nums2.length == n 0 \u0026lt;= m, n \u0026lt;= 200 1 \u0026lt;= m + n \u0026lt;= 200 -109 \u0026lt;= nums1[i], nums2[j] \u0026lt;= 109 ç›´æ¥ä½¿ç”¨â€œåŒæŒ‡é’ˆâ€çš„å†™æ³•ï¼\nï¼ˆä½ è¿˜è®°å¾—ä½ å¤šå¹´æœªå†™ç®—æ³•é¢˜ï¼Œæƒ³åˆ°äº†åŒæŒ‡é’ˆï¼Œç»“æœä¸€ä¸Šæ¥å†™äº†ä¸¤ä¸ªforçš„è ¢äº‹å˜›ğŸ¤£ï¼‰\nğŸ¥¬ç›´æ¥ä¸Šèœ ä»ä¸¤ä¸ªæ•°ç»„çš„æœ«å°¾å¼€å§‹ï¼Œæ¯æ¬¡å–ä¸¤è€…ä¹‹ä¸­è¾ƒå¤§çš„æ•°ï¼Œæ”¾åˆ° nums1 çš„åˆé€‚ä½ç½®ã€‚è¿™æ ·ï¼Œå½“ nums2 è¢«å®Œå…¨å¤åˆ¶åˆ° nums1 åï¼Œåˆå¹¶å°±å®Œæˆäº†ï¼Œå› ä¸º nums1 å’Œ nums2 æœ¬æ¥å°±æ˜¯æœ‰åºçš„ã€‚\nä¸‹é¢æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼š\nåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ p1 å’Œ p2 åˆ†åˆ«æŒ‡å‘ nums1 å’Œ nums2 çš„æœ‰æ•°å€¼çš„æœ«å°¾ï¼Œå³ p1 = m - 1, p2 = n - 1ã€‚åŒæ—¶ï¼Œåˆå§‹åŒ– p æŒ‡å‘ nums1 çš„æœ«å°¾ï¼Œå³ p = m + n - 1ã€‚ æ¯”è¾ƒ p1 å’Œ p2 æŒ‡å‘çš„å€¼ï¼Œå°†è¾ƒå¤§çš„å€¼æ”¾åœ¨ p ä½ç½®ä¸Šï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆ p å’Œè¢«é€‰ä¸­çš„ p1 æˆ– p2ã€‚ å¦‚æœ p2 \u0026gt;= 0 è€Œ p1 \u0026lt; 0ï¼Œæ„å‘³ç€ nums1 å·²ç»è¢«éå†å®Œï¼Œä½† nums2 è¿˜æœ‰å…ƒç´ æœªè¢«å¤åˆ¶è¿‡å»ï¼Œæ­¤æ—¶ç›´æ¥å°† nums2 çš„å‰©ä½™å…ƒç´ å¤åˆ¶åˆ° nums1 çš„å‰é¢ã€‚ å¦‚æœ p1 \u0026gt;= 0 è€Œ p2 \u0026lt; 0ï¼Œæ„å‘³ç€ nums2 å·²ç»è¢«éå†å®Œï¼Œnums1 çš„å‰©ä½™å…ƒç´ å·²ç»åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œä¸éœ€è¦åšä»»ä½•æ“ä½œã€‚ ä¸‹é¢æ˜¯ç”¨C++å®ç°çš„ä»£ç ç¤ºä¾‹ï¼š\n// 88. Merge Sorted Array #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; // é€†å‘åŒæŒ‡é’ˆ class Solution { public: void merge(vector\u0026lt;int\u0026gt;\u0026amp; nums1, int m, vector\u0026lt;int\u0026gt;\u0026amp; nums2, int n) { // ç¡®å®šç»ˆç‚¹æŒ‡é’ˆ // åˆå¹¶åç•™ä¸‹nums1æ•°ç»„ int p1 = m - 1, p2 = n - 1, p = m + n - 1; // å› ä¸ºå·²ç»æ’åºï¼Œé€†å‘è€ƒè™‘å°±æ˜¯ä»å¤§å¾€å° while (p1 \u0026gt;= 0 \u0026amp;\u0026amp; p2 \u0026gt;= 0) { if (nums1[p1] \u0026gt; nums2[p2]) { // ä»åå¾€å‰ï¼Œå…ˆå®‰æ’å¤§çš„ nums1[p--] = nums1[p1--]; } else { nums1[p--] = nums2[p2--]; } } // //è¿™æ—¶å€™å†çœ‹p1å’Œp2è°å¤§äºé›¶ // å…¶å®åªè¦çœ‹p2æ˜¯ä¸æ˜¯å¤§äºé›¶å°±è¡Œï¼Œå› ä¸ºæ˜¯ä»nums2åˆå¹¶åˆ°nums1 while (p2 \u0026gt;= 0) { nums1[p--] = nums2[p2--]; } } }; // è¿™é“é¢˜å¯ä»¥ç›´æ¥æŠŠä¸¤ä¸ªvectoråŠ èµ·æ¥ï¼Œç„¶åä¸€ä¸ªsort()è§£å†³ è¿™æ®µä»£ç é€šè¿‡ä»åå‘å‰éå† nums1 å’Œ nums2ï¼Œé¿å…äº†åˆå¹¶æ—¶è¦†ç›– nums1 ä¸­æœªè¢«æ£€æŸ¥çš„å…ƒç´ ï¼ŒåŒæ—¶å‡å°‘äº†éœ€è¦ç§»åŠ¨å…ƒç´ çš„æ¬¡æ•°ã€‚\næ—¶é—´å¤æ‚åº¦ä¸º O(m+n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› ä¸ºå®ƒä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚\n","permalink":"https://ahaknow.com/posts/know/leetcode-88-merge-sorted-array/","summary":"LeetCodeä¸Šâ€œæœ€ç®€å•â€çš„ä¸€é“é¢˜äº†å§ï¼Ÿ é•¿æ—¶é—´æ²¡æœ‰å†™è¿‡é¢˜ï¼Œé¢è¯•çš„æ—¶å€™ç«Ÿç„¶ä¸ä¼šå†™äº†ï¼Œå¥‡è€»å¤§è¾±çš„ä¸€ä»¶äº‹ï¼ You are given two integer arrays nums1 and nums2, sorted in non-decreasing order, and two integers m and n,","title":"Leetcodeï¼š88åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"},{"content":" æˆ‘æƒ³é‡å‘½åä¸€ä¸ªæ–‡ä»¶ï¼ˆæ‰‹åŠ¨æ“ä½œæ˜¯ä¸å¯èƒ½çš„ï¼Œæ‡’ï¼ï¼‰\nå°†â€œæ¸…æ™°æ˜“æ‡‚çš„çš„çº¿æ€§ä»£æ•°ï¼Œå›½ç«‹é˜³æ˜äº¤é€šå¤§å­¦å‘¨å¿—æˆï¼Œå›½è¯­ç‰ˆmitçº¿æ€§ä»£æ•°Gilbert Strang LA_1-3â€æ”¹æˆâ€œLA_1-3â€\næ‰€ä»¥ï¼Œå°±æƒ³åˆ°äº†æ­£åˆ™åŒ¹é…å’¯ï½\nğŸ²ç›´æ¥ä¸Šä»£ç  import os import re # æŒ‡å®šä½ æƒ³è¦å¤„ç†æ–‡ä»¶çš„ç›®å½• directory = \u0026#39;./\u0026#39; # æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¨¡å¼ pattern = re.compile(r\u0026#39;LA[_\\-\\d\\w\\s]+.*?\\.mp4$\u0026#39;) # éå†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ for filename in os.listdir(directory): if filename.endswith(\u0026#34;.mp4\u0026#34;): # åªå¤„ç†æ‰©å±•åä¸º.mp4çš„æ–‡ä»¶ match = pattern.search(filename) # åœ¨æ–‡ä»¶åä¸­æœç´¢åŒ¹é…çš„éƒ¨åˆ† if match: new_filename = match.group() # å¦‚æœæ‰¾åˆ°åŒ¹é…ï¼Œä½¿ç”¨åŒ¹é…çš„å­—ç¬¦ä¸²ä½œä¸ºæ–°æ–‡ä»¶å old_path = os.path.join(directory, filename) new_path = os.path.join(directory, new_filename) # é‡å‘½åæ–‡ä»¶ # os.rename(old_path, new_path) print(f\u0026#39;Renamed \u0026#34;{filename}\u0026#34; to \u0026#34;{new_filename}\u0026#34;\u0026#39;) æ­£åˆ™è¡¨è¾¾çš„è§£é‡Š æ­£åˆ™è¡¨è¾¾å¼r'(LA[_\\-\\d\\s]+[\\w\\s]*\\.mp4)$'ï¼š\nr''ï¼šåœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸Šrè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåŸå§‹å­—ç¬¦ä¸²ï¼Œè¿™æ ·åšå¯ä»¥ç¡®ä¿å­—ç¬¦ä¸²ä¸­çš„åæ–œæ ä¸ä¼šè¢«å½“ä½œè½¬ä¹‰å­—ç¬¦å¤„ç†ã€‚åœ¨Pythonä¸­ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œé€šå¸¸æ¨èè¿™ä¹ˆåšã€‚\nLA[_\\-\\d\\w\\s]+.*?\\.mp4$ï¼šè¿™ä¸ªè¡¨è¾¾å¼ä»å·¦åˆ°å³çš„æ„æ€æ˜¯ï¼š\n(å’Œ)ï¼šæ•è·ç»„ï¼Œè¿™æ„å‘³ç€åŒ¹é…åˆ°çš„è¿™éƒ¨åˆ†è¡¨è¾¾å¼ä¼šè¢«ä½œä¸ºä¸€ä¸ªæ•´ä½“å¤„ç†ï¼Œå¯ä»¥ä»åŒ¹é…ç»“æœä¸­å•ç‹¬æå–å‡ºæ¥ã€‚\nLAï¼šåŒ¹é…å­—é¢é‡å­—ç¬¦ä¸²\u0026quot;LA\u0026quot;ã€‚\n[_\\-\\d\\w\\s]+ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦é›†åˆï¼Œå®ƒå¯ä»¥åŒ¹é…ä¸‹åˆ’çº¿_ã€çŸ­æ¨ªçº¿-ã€ä»»ä½•æ•°å­—\\då’Œä»»ä½•ç©ºç™½å­—ç¬¦\\sã€‚+è¡¨ç¤ºå‰é¢çš„å­—ç¬¦é›†åˆä¸­çš„å­—ç¬¦è‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚\n_ï¼šåŒ¹é…ä¸‹åˆ’çº¿å­—ç¬¦ã€‚\n\\-ï¼šåŒ¹é…çŸ­æ¨ªçº¿å­—ç¬¦ã€‚åœ¨å­—ç¬¦é›†ä¸­ï¼ŒçŸ­æ¨ªçº¿é€šå¸¸ç”¨æ¥è¡¨ç¤ºèŒƒå›´ï¼ˆå¦‚a-zï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³è¦åŒ¹é…çŸ­æ¨ªçº¿æœ¬èº«æ—¶ï¼Œéœ€è¦å¯¹å®ƒè¿›è¡Œè½¬ä¹‰ã€‚\n\\dï¼šåŒ¹é…ä»»ä½•æ•°å­—å­—ç¬¦ã€‚\n\\wï¼šåŒ¹é…ä»»ä½•å•è¯å­—ç¬¦ï¼ˆåŒ…æ‹¬å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼‰ã€‚\n\\sï¼šåŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰ã€‚\n.*?ï¼šä»¥éè´ªå©ªæ–¹å¼åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼ˆé™¤æ¢è¡Œç¬¦å¤–ï¼‰ã€‚\n\\.mp4ï¼šåŒ¹é…å­—é¢é‡å­—ç¬¦ä¸²\u0026quot;.mp4\u0026quot;ã€‚ç‚¹.åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é€šå¸¸è¡¨ç¤ºåŒ¹é…ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³è¦åŒ¹é…ç‚¹å­—ç¬¦æœ¬èº«æ—¶ï¼Œéœ€è¦å¯¹å®ƒè¿›è¡Œè½¬ä¹‰\\.ã€‚\n$ï¼šè¿™è¡¨ç¤ºè¡Œç»“æŸç¬¦ï¼Œç¡®ä¿å­—ç¬¦ä¸²ä»¥æˆ‘ä»¬æŒ‡å®šçš„æ¨¡å¼ç»“å°¾ã€‚\nè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”¨äºåŒ¹é…ä»¥\u0026quot;LA\u0026quot;å¼€å¤´ï¼Œåé¢è·Ÿéšè‡³å°‘ä¸€ä¸ªä¸‹åˆ’çº¿ã€çŸ­æ¨ªçº¿ã€æ•°å­—æˆ–å­—æ¯æ•°å­—å­—ç¬¦ï¼Œç„¶åæ˜¯ä»»æ„æ•°é‡çš„ä»»æ„å­—ç¬¦ï¼ˆ.*?è¡¨ç¤ºéè´ªå©ªåŒ¹é…ï¼‰ï¼Œæœ€åä»¥\u0026quot;.mp4\u0026quot;ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚\nä¸»è¦æ˜¯æŠ›ç –å¼•ç‰ï¼Œè§¦ç±»æ—é€šï¼Œä¸‹æ¬¡å†é‡åˆ°ç±»ä¼¼çš„ï¼Œå°±å¯ä»¥è‡ªå·±ä¿®æ”¹å•¦\næ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼Œç®€ç§°Regexï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ¨¡å¼åŒ¹é…ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªæœç´¢æ¨¡å¼æ¥åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šåºåˆ—ï¼Œè¿™ç§æ¨¡å¼å¯ä»¥ç”¨æ¥è¿›è¡Œå­—ç¬¦ä¸²æœç´¢ã€æ›¿æ¢ã€åˆ†å‰²ç­‰æ“ä½œã€‚\nğŸŒŸåŸºæœ¬ç”¨æ³•å’Œå¸¸ç”¨å…ƒå­—ç¬¦ 1. å­—ç¬¦åŒ¹é… .ï¼šåŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œç¬¦ã€‚ \\dï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªæ•°å­—ï¼ˆ0-9ï¼‰ã€‚ \\wï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚ \\sï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ã€‚ 2. ä½ç½®åŒ¹é… ^ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚ $ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚ 3. é‡è¯ *ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ +ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ ?ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ {n}ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦næ¬¡ã€‚ {n,}ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦è‡³å°‘næ¬¡ã€‚ {n,m}ï¼šåŒ¹é…å‰é¢çš„å­—ç¬¦è‡³å°‘næ¬¡ï¼Œä½†ä¸è¶…è¿‡mæ¬¡ã€‚ 4. å­—ç¬¦ç±» [abc]ï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªåœ¨æ‹¬å·å†…çš„å­—ç¬¦ï¼ˆaã€bæˆ–cï¼‰ã€‚ [^abc]ï¼šåŒ¹é…ä»»æ„ä¸€ä¸ªä¸åœ¨æ‹¬å·å†…çš„å­—ç¬¦ã€‚ 5. åˆ†ç»„å’Œå¼•ç”¨ ()ï¼šå°†æ‹¬å·å†…çš„å­—ç¬¦è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„åˆ†ç»„ã€‚å¯ä»¥å¯¹æ•´ä¸ªç»„åº”ç”¨é‡è¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¼–å·æˆ–åç§°å¼•ç”¨ç»„å†…çš„åŒ¹é…ã€‚ |ï¼šé€»è¾‘â€œæˆ–â€æ“ä½œç¬¦ï¼ŒåŒ¹é…å·¦è¾¹æˆ–å³è¾¹çš„è¡¨è¾¾å¼ã€‚ 6. è½¬ä¹‰ \\ï¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œä½¿ä¹‹æˆä¸ºå­—é¢é‡æ„ä¹‰ä¸Šçš„å­—ç¬¦ï¼Œå¦‚\\.è¡¨ç¤ºç‚¹å­—ç¬¦æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»»æ„å­—ç¬¦çš„åŒ¹é…ã€‚ æ­£åˆ™è¡¨è¾¾å¼ç¤ºä¾‹ï¼šåŒ¹é…é‚®ç®± è¿™æ˜¯ä¸€ç§æ¯”è¾ƒç®€å•çš„å†™æ³•ï¼š\n[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,} [a-zA-Z0-9._%+-]+ï¼šè¿™éƒ¨åˆ†åŒ¹é…ç”µå­é‚®ä»¶åœ°å€çš„æœ¬åœ°éƒ¨åˆ†ï¼Œå…è®¸å­—æ¯ï¼ˆæ— è®ºå¤§å°å†™ï¼‰ã€æ•°å­—ã€ç‚¹ã€ä¸‹åˆ’çº¿ã€ç™¾åˆ†å·ã€åŠ å·å’Œå‡å·ã€‚å®ƒå‡è®¾è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚\n@ï¼šåŒ¹é…ç”µå­é‚®ä»¶åœ°å€ä¸­çš„\u0026quot;@\u0026ldquo;ç¬¦å·ã€‚\n[a-zA-Z0-9.-]+ï¼šè¿™éƒ¨åˆ†åŒ¹é…ç”µå­é‚®ä»¶åœ°å€çš„åŸŸåéƒ¨åˆ†ï¼Œå…è®¸å­—æ¯ï¼ˆæ— è®ºå¤§å°å†™ï¼‰ã€æ•°å­—ã€ç‚¹å’Œå‡å·ã€‚å®ƒå‡è®¾è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚\n\\.[a-zA-Z]{2,}ï¼šåŒ¹é…ç”µå­é‚®ä»¶åœ°å€ä¸­çš„é¡¶çº§åŸŸåï¼Œå¼€å§‹äºä¸€ä¸ªç‚¹ï¼Œåé¢è·Ÿç€è‡³å°‘ä¸¤ä¸ªå­—æ¯ï¼ˆæ— è®ºå¤§å°å†™ï¼‰ã€‚è¿™é‡Œå‡è®¾æ‰€æœ‰çš„é¡¶çº§åŸŸåè‡³å°‘æœ‰ä¸¤ä¸ªå­—ç¬¦é•¿ã€‚\n","permalink":"https://ahaknow.com/posts/know/note-regex-example/","summary":"æˆ‘æƒ³é‡å‘½åä¸€ä¸ªæ–‡ä»¶ï¼ˆæ‰‹åŠ¨æ“ä½œæ˜¯ä¸å¯èƒ½çš„ï¼Œæ‡’ï¼ï¼‰ å°†â€œæ¸…æ™°æ˜“æ‡‚çš„çš„çº¿æ€§ä»£æ•°ï¼Œå›½ç«‹é˜³æ˜äº¤é€šå¤§å­¦å‘¨å¿—æˆï¼Œå›½è¯­ç‰ˆmitçº¿æ€§ä»£æ•°Gilbert Strang LA_1","title":"Pythonï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å°ä¾‹å­"},{"content":" åˆå¹²äº†ä¸€ä»¶ï¼šâ€œä¸ºäº†ä¸€ç¢Ÿé†‹ï¼ŒåŒ…äº†ä¸€é”…é¥ºå­â€çš„äº‹ã€‚ã€‚ã€‚\nå°±æ˜¯é‡æ–°å¼€å§‹å­¦ä¹ Strangè€çˆ·å­çš„çº¿æ€§ä»£æ•°è¯¾äº†ï¼Œç„¶åä¸‹è½½äº†ä¹‹å‰å›½å†…å­—å¹•ç»„çš„ç‰ˆæœ¬ï¼ˆå¤šå¹´ä¸å¥½å¥½å­¦ï¼Œè‹±è¯­æ°´å¹³æ˜æ˜¾ä¸‹é™äº†ï¼ï¼ï¼ï¼‰ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„è€é—®é¢˜ä¸€ç›´å­˜åœ¨ï¼Œå°±æ˜¯æŸäº›è§†é¢‘éŸ³è½¨ç¼ºå¤±ï¼Œåªæœ‰å³è€³æœºæœ‰å£°éŸ³ï¼ˆè¿™å¯¹äºä¸€ä¸ªå¸¸å¹´é™å™ªè€³æœºç¦»è€³åªæ˜¯ä¸ºäº†è¡¥å……ç”µé‡çš„äººæ¥è¯´ï¼Œç®€ç›´ä¸èƒ½å¿ã€‚ã€‚ã€‚ï¼‰\näºæ˜¯â€¦â€¦\néƒ½æ˜¯4202å¹´äº†ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜æ˜¯å†™ä¸ªä»£ç è§£å†³ä¸äº†çš„å‘¢ï¼Ÿ\näºæ˜¯Pythoné—ªäº®ç™»åœºâœ¨\nåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š\nfrom moviepy.editor import VideoFileClip, AudioFileClip from pydub import AudioSegment # åŠ è½½è§†é¢‘æ–‡ä»¶ video_clip = VideoFileClip(\u0026#34;./éº»çœç†å·¥-çº¿æ€§ä»£æ•°/[P01]Lec01_æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Š.mp4\u0026#34;) # æå–éŸ³é¢‘å¹¶ä¿å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ temp_audio_path = \u0026#34;temp_audio.mp3\u0026#34; video_clip.audio.write_audiofile(temp_audio_path) # ä½¿ç”¨pydubå¤„ç†éŸ³é¢‘ audio_segment = AudioSegment.from_file(temp_audio_path) # å¦‚æœåŸå§‹éŸ³é¢‘æ˜¯ç«‹ä½“å£°ï¼Œåˆ†å‰²ä¸ºå•å£°é“ï¼›å¦åˆ™ç›´æ¥å¤åˆ¶ä¸ºå·¦å³ä¸¤ä¸ªå£°é“ if audio_segment.channels \u0026gt; 1: mono_channels = audio_segment.split_to_mono() right_channel = mono_channels[1] # å³å£°é“ else: right_channel = audio_segment stereo_audio = AudioSegment.from_mono_audiosegments(right_channel, right_channel) # å°†å¤„ç†åçš„éŸ³é¢‘ä¿å­˜ä¸ºå¦ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ stereo_audio_path = \u0026#34;temp_stereo_audio.mp3\u0026#34; stereo_audio.export(stereo_audio_path, format=\u0026#34;mp3\u0026#34;) # ä½¿ç”¨moviepyå°†æ–°éŸ³é¢‘è®¾ç½®å›è§†é¢‘ new_audio_clip = AudioFileClip(stereo_audio_path) video_clip.audio = new_audio_clip # è¾“å‡ºå¤„ç†åçš„è§†é¢‘æ–‡ä»¶ video_clip.write_videofile(\u0026#34;./éº»çœç†å·¥-çº¿æ€§ä»£æ•°/[P01]Lec01_æ–¹ç¨‹ç»„çš„å‡ ä½•è§£é‡Šï¼ˆä¿®å¤ï¼‰.mp4\u0026#34;) # æ¸…ç†ä¸´æ—¶æ–‡ä»¶ import os os.remove(temp_audio_path) os.remove(stereo_audio_path) è¿™é‡Œç”¨åˆ°ä¸¤ä¸ªPythonçš„å·¥å…·ï¼špydubã€moviepyï¼Œç›´æ¥å®‰è£…å°±å¥½ã€‚\nmoviepyå¯ä»¥åŒæ—¶å¤„ç†è§†é¢‘å’ŒéŸ³é¢‘ï¼›pydub`ä¸»è¦å¤„ç†éŸ³é¢‘éƒ¨åˆ†ï¼Œè¿™ä¸ªåº“æä¾›äº†æ›´çµæ´»çš„éŸ³é¢‘å¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å£°é“çš„æ“ä½œã€‚\npip install moviepy pip install pydub åŒæ—¶ç¡®ä¿ç³»ç»Ÿä¸­ä¹Ÿå®‰è£…äº†ffmpegï¼Œå› ä¸ºpydubä¾èµ–äºffmpegæ¥å¤„ç†éŸ³é¢‘æ–‡ä»¶ï¼š\nbrew install ffmpeg ","permalink":"https://ahaknow.com/posts/know/note-mp4-audio-track-repair/","summary":"åˆå¹²äº†ä¸€ä»¶ï¼šâ€œä¸ºäº†ä¸€ç¢Ÿé†‹ï¼ŒåŒ…äº†ä¸€é”…é¥ºå­â€çš„äº‹ã€‚ã€‚ã€‚ å°±æ˜¯é‡æ–°å¼€å§‹å­¦ä¹ Strangè€çˆ·å­çš„çº¿æ€§ä»£æ•°è¯¾äº†ï¼Œç„¶åä¸‹è½½äº†ä¹‹å‰å›½å†…å­—å¹•ç»„çš„ç‰ˆæœ¬ï¼ˆå¤šå¹´ä¸å¥½","title":"Pythonï¼šMP4çš„éŸ³è½¨ä¿®å¤"},{"content":" åšå®¢é‡Œä½¿ç”¨äº†è‡ªå®šä¹‰çš„å­—ä½“ï¼Œæœ€å¼€å§‹ç›´æ¥é‡‡ç”¨ttfæ–‡ä»¶åŠ è½½çš„æ–¹å¼ï¼Œå› ä¸ºåšå®¢å†…å®¹å…¨éƒ¨æ˜¯é™æ€å­˜åœ¨Githubä¸Šçš„ï¼Œè¿™ç§ç›´æ¥åŠ è½½å¤šå°‘æœ‰ç‚¹æ…¢ï¼Œæ‰€ä»¥æƒ³äº†ä¸€äº›ç­–ç•¥ã€‚\nå‹ç¼©å­—ä½“ å…ˆæ˜¾ç¤ºååŠ è½½ ä½¿ç”¨CDNåŠ é€Ÿ å‹ç¼©å­—ä½“ TrueType Font (TTF) å¸¸è§çš„å­—ä½“æ–‡ä»¶æ ¼å¼ï¼Œç”±Appleå’ŒMicrosoftåœ¨ä¸Šä¸–çºª80å¹´ä»£æœ«å…±åŒå¼€å‘ã€‚TTFä½¿ç”¨äºŒæ¬¡è´å¡å°”æ›²çº¿æ¥æè¿°å­—ç¬¦å½¢çŠ¶ï¼Œè¿™ç§æ›²çº¿å¯ä»¥ç²¾ç¡®åœ°è¡¨ç¤ºå¤æ‚å½¢çŠ¶ï¼Œå¹¶ä¸”åœ¨æ”¾å¤§æ—¶ä¿æŒå¹³æ»‘ã€‚\nWeb Open Font Format (WOFF) WOFFæ˜¯ä¸“é—¨ä¸ºWebè®¾è®¡çš„å­—ä½“æ ¼å¼ï¼Œ2009å¹´æˆä¸ºW3Cçš„æ¨èæ ‡å‡†ã€‚WOFFæ˜¯åŸºäºTTFå’ŒOpenTypeå­—ä½“æ ¼å¼çš„ï¼Œä½†æä¾›äº†æ›´å¥½çš„å‹ç¼©å’Œé¢å¤–çš„å…ƒæ•°æ®æ”¯æŒã€‚WOFFå­˜åœ¨ä¸¤ä¸ªç‰ˆæœ¬ï¼šWOFF 1.0å’ŒWOFF 2.0ã€‚WOFF 2.0ä½¿ç”¨äº†æ›´é«˜æ•ˆçš„å‹ç¼©ç®—æ³•ï¼Œæ–‡ä»¶å¤§å°æ¯”WOFF 1.0æ›´å°ã€‚\nTTFæ˜¯ä¸€ç§é€šç”¨çš„å­—ä½“æ ¼å¼ï¼Œå¹¿æ³›ç”¨äºå„ç§æ“ä½œç³»ç»Ÿå’Œè®¾å¤‡ï¼Œæä¾›äº†é«˜è´¨é‡çš„çŸ¢é‡å­—ä½“å±•ç¤ºã€‚è€ŒWOFFæ˜¯ä¸ºWebè®¾è®¡çš„å­—ä½“æ ¼å¼ï¼Œå®ƒä¼˜åŒ–äº†æ–‡ä»¶å¤§å°å’ŒåŠ è½½æ€§èƒ½ï¼Œç‰¹åˆ«é€‚åˆåœ¨çº¿ä½¿ç”¨ã€‚é€‰æ‹©å“ªç§æ ¼å¼å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ï¼šå¦‚æœä½ éœ€è¦ç¡®ä¿å­—ä½“åœ¨å„ç§ç¯å¢ƒä¸­çš„å¹¿æ³›å…¼å®¹æ€§ï¼ŒTTFå¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼›å¦‚æœä½ ä¸»è¦å…³æ³¨ç½‘é¡µæ€§èƒ½å’ŒåŠ è½½é€Ÿåº¦ï¼ŒWOFFå°†æ˜¯æ›´ä¼˜çš„é€‰æ‹©ã€‚\nåœ¨MacOSä¸Šç›´æ¥æœ¬åœ°è½¬æ¢ttfå­—ä½“ã€‚\nå®‰è£…woff2å·¥å…·ï¼š\nbrew install woff2 ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†TTFå­—ä½“æ–‡ä»¶è½¬æ¢ä¸ºWOFF2æ ¼å¼ï¼š\nwoff2_compress path/to/your/font.ttf è¿™ä¼šç”Ÿæˆä¸€ä¸ªä¸åŸå§‹TTFæ–‡ä»¶åŒåï¼Œä½†æ‰©å±•åä¸º.woff2çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæºæ–‡ä»¶åä¸ºfont.ttfï¼Œè¾“å‡ºæ–‡ä»¶å°†ä¼šæ˜¯font.woff2ã€‚\nå…ˆæ˜¾ç¤ºååŠ è½½ è¿™é‡Œä¸»è¦æ˜¯CSSçš„å·¥ä½œï¼š\nåœ¨CSSæ–‡ä»¶ä¸­ä½¿ç”¨@font-faceè§„åˆ™å¼•å…¥è½¬æ¢åçš„WOFF2å­—ä½“æ–‡ä»¶ï¼Œå¹¶é€šè¿‡font-display: swap;å±æ€§è®¾ç½®å­—ä½“æ˜¾ç¤ºç­–ç•¥ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿æ–‡æœ¬åœ¨å­—ä½“æ–‡ä»¶ä¸‹è½½å®Œæˆä¹‹å‰ä½¿ç”¨å›é€€å­—ä½“æ˜¾ç¤ºï¼Œä»è€Œæå‡é¡µé¢çš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚\n@font-face { font-family: \u0026#39;MyCustomFont\u0026#39;; src: url(\u0026#39;MyFont.woff2\u0026#39;) format(\u0026#39;woff2\u0026#39;); font-display: swap; /* ä½¿ç”¨å›é€€å­—ä½“ç›´åˆ°è‡ªå®šä¹‰å­—ä½“åŠ è½½å®Œæ¯• */ } è¿™é‡Œï¼Œfont-display: swap;æŒ‡ç¤ºæµè§ˆå™¨åœ¨è‡ªå®šä¹‰å­—ä½“åŠ è½½æœŸé—´ä½¿ç”¨å›é€€å­—ä½“ï¼Œä¸€æ—¦è‡ªå®šä¹‰å­—ä½“åŠ è½½å®Œæ¯•ç«‹å³åˆ‡æ¢ã€‚è¿™æœ‰åŠ©äºæ”¹å–„é¦–æ¬¡å†…å®¹æ¸²æŸ“æ—¶é—´ï¼ˆFCPï¼‰å’Œæœ€å¤§å†…å®¹ç»˜åˆ¶ï¼ˆLCPï¼‰ç­‰æ€§èƒ½æŒ‡æ ‡ã€‚\nä¹Ÿå¯ä»¥ä½¿ç”¨Web Font Loaderï¼Œè¿™é‡Œå°±æ˜¯JavaScriptçš„å·¥ä½œäº†ï¼š\nWeb Font Loaderå…è®¸æ·»åŠ äº‹ä»¶å›è°ƒå’Œæ§åˆ¶å­—ä½“åŠ è½½çš„è¡Œä¸ºï¼Œç®€å•çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼ˆéœ€è¦é…åˆCSSä¸­çš„@font-faceï¼‰ï¼š\n\u0026lt;script src=\u0026#34;https://ajax.googleapis.com/ajax/libs/webfont/1.6.28/webfont.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; WebFont.load({ custom: { families: [\u0026#39;MyCustomFont\u0026#39;], urls: [\u0026#39;path/to/your/css/file.css\u0026#39;] // CSSæ–‡ä»¶çš„è·¯å¾„ï¼ˆå¯ä»¥ä¸ç‰¹åˆ«è®¾ç½®ï¼‰ } }); \u0026lt;/script\u0026gt; ä½¿ç”¨jsDelivrå®ç°CDNåŠ é€Ÿ jsDelivr æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºå†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰ï¼Œå®ƒèƒ½å¤Ÿæä¾›å¯¹GitHubã€npmã€WordPressæ’ä»¶ç­‰çš„ç›´æ¥åŠ é€ŸæœåŠ¡ã€‚è¿™æ˜¯é€šè¿‡jsDelivrä¸è¿™äº›å¹³å°çš„é›†æˆä»¥åŠå…¶åœ¨å…¨çƒå¤šä¸ªåœ°ç‚¹çš„æœåŠ¡å™¨ç½‘ç»œå®ç°çš„ã€‚ä¸‹é¢è¯¦ç»†è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå’Œå¦‚ä½•jsDelivrèƒ½å¤Ÿç›´æ¥åŠ é€ŸGitHubçš„å†…å®¹ã€‚\n1. å¦‚ä½•å·¥ä½œ\njsDelivr æ˜¯è®¾è®¡æ¥ä¼˜åŒ–é¡¹ç›®æ–‡ä»¶çš„äº¤ä»˜é€Ÿåº¦å’Œå¯é æ€§çš„ã€‚å®ƒé€šè¿‡ç¼“å­˜å’Œåˆ†å‘é™æ€æ–‡ä»¶ï¼ˆå¦‚JavaScriptåº“ã€CSSæ ·å¼è¡¨å’Œå­—ä½“æ–‡ä»¶ç­‰ï¼‰æ¥å®ç°è¿™ä¸€ç‚¹ã€‚å½“å¼€å‘è€…å°†ä»–ä»¬çš„ä»£ç æ‰˜ç®¡åœ¨GitHubæˆ–npmä¸Šæ—¶ï¼ŒjsDelivr å¯ä»¥ç›´æ¥é“¾æ¥åˆ°è¿™äº›èµ„æºï¼Œå¹¶é€šè¿‡å…¶å…¨çƒåˆ†å¸ƒçš„CDNç½‘ç»œæä¾›è¿™äº›èµ„æºã€‚\n2. å…¨çƒCDNç½‘ç»œ\njsDelivr ä½¿ç”¨å¤šä¸ªCDNæä¾›å•†ï¼ŒåŒ…æ‹¬Cloudflareã€Fastlyå’ŒQuantilã€‚è¿™æ„å‘³ç€å®ƒä¸ä¾èµ–äºå•ä¸€çš„CDNæä¾›å•†ï¼Œè€Œæ˜¯èƒ½å¤Ÿé€šè¿‡å¤šä¸ªç½‘ç»œæä¾›æ•°æ®ï¼Œä»è€Œç¡®ä¿åœ¨å…¨çƒèŒƒå›´å†…çš„é«˜å¯ç”¨æ€§å’Œé€Ÿåº¦ã€‚è¿™ç§å¤šCDNè·¯ç”±ç­–ç•¥ä½¿å¾—jsDelivråœ¨å¤„ç†å¤§é‡è¯·æ±‚ã€å°¤å…¶æ˜¯åœ¨æµé‡é«˜å³°æ—¶ï¼Œå¯ä»¥æä¾›æ›´åŠ ç¨³å®šå’Œå¿«é€Ÿçš„æœåŠ¡ã€‚\n3. GitHubå’Œnpmé›†æˆ\njsDelivr å¯¹GitHubå’Œnpmæœ‰ç‰¹åˆ«çš„æ”¯æŒã€‚å¼€å‘è€…åªéœ€é€šè¿‡ç®€å•çš„URLæ ¼å¼ï¼Œå°±å¯ä»¥ç›´æ¥å¼•ç”¨åœ¨GitHubä»“åº“æˆ–npmåŒ…ä¸­çš„æ–‡ä»¶ã€‚jsDelivrä¼šè‡ªåŠ¨å¤„ç†è¿™äº›æ–‡ä»¶çš„CDNåˆ†å‘ã€‚\nGitHubï¼šå¯ä»¥ç›´æ¥å¼•ç”¨ä»»ä½•GitHubä»“åº“ä¸­çš„æ–‡ä»¶ï¼ŒjsDelivr ä¼šå¤„ç†è·¯å¾„å¹¶é€šè¿‡å…¶CDNæä¾›è¿™äº›æ–‡ä»¶ã€‚ npmï¼šå¯ä»¥å¼•ç”¨ä»»ä½•npmåŒ…ä¸­çš„æ–‡ä»¶ï¼ŒåŒæ ·é€šè¿‡CDNåŠ é€Ÿåˆ†å‘ã€‚ 4. æ€§èƒ½ä¼˜åŒ–\njsDelivr ä¸ä»…ä»…æä¾›æ–‡ä»¶çš„CDNåŠ é€Ÿï¼Œè¿˜å¯¹æ–‡ä»¶è¿›è¡Œäº†ä¼˜åŒ–å¤„ç†ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å‹ç¼©æ–‡ä»¶ä»¥å‡å°‘æ–‡ä»¶å¤§å°ï¼Œä»è€ŒåŠ å¿«åŠ è½½é€Ÿåº¦ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ä¸ªå¯ä»¥åˆå¹¶å¤šä¸ªæ–‡ä»¶çš„åŠŸèƒ½ï¼Œå‡å°‘äº†ç½‘é¡µåŠ è½½æ—¶çš„è¯·æ±‚æ•°é‡ã€‚\n5. æ˜“ç”¨æ€§å’Œæ— æˆæœ¬\njsDelivr æ˜¯å®Œå…¨å…è´¹çš„æœåŠ¡ï¼Œä¸ºå¼€å‘è€…å’Œç½‘ç«™æä¾›äº†ä¸€ä¸ªé›¶æˆæœ¬çš„è§£å†³æ–¹æ¡ˆæ¥ä¼˜åŒ–å…¶èµ„æºçš„åˆ†å‘ã€‚å®ƒçš„è®¾ç½®éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¿®æ”¹æ–‡ä»¶çš„URLå³å¯å¼€å§‹ä½¿ç”¨ï¼Œæ— éœ€å¤æ‚çš„é…ç½®ã€‚\né€šè¿‡GitHubå’ŒjsDelivrå®ç°å­—ä½“æ–‡ä»¶ï¼ˆå¦‚WOFF2æ ¼å¼ï¼‰çš„CDNåŠ é€Ÿï¼š\næ­¥éª¤ 1: å‡†å¤‡å­—ä½“æ–‡ä»¶ é¦–å…ˆï¼Œç¡®ä¿æ‹¥æœ‰å­—ä½“æ–‡ä»¶çš„ä½¿ç”¨æƒï¼Œå¹¶ä¸”è¯¥å­—ä½“æ–‡ä»¶å·²ç»æ˜¯WOFF2æ ¼å¼ã€‚WOFF2æ˜¯ä¸€ç§ä¸ºç½‘ç»œä¼˜åŒ–çš„å­—ä½“æ ¼å¼ï¼Œå…·æœ‰è‰¯å¥½çš„å‹ç¼©ç‡å’Œå¿«é€Ÿçš„åŠ è½½æ€§èƒ½ã€‚\næ­¥éª¤ 2: ä¸Šä¼ å­—ä½“æ–‡ä»¶åˆ°GitHub åˆ›å»ºä¸€ä¸ªæ–°çš„GitHubä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰çš„è¯ï¼‰ã€‚\nå°†WOFF2å­—ä½“æ–‡ä»¶ä¸Šä¼ åˆ°è¿™ä¸ªä»“åº“ä¸­ã€‚å¯ä»¥ç›´æ¥åœ¨GitHubç½‘ç«™ä¸Šè¿›è¡Œä¸Šä¼ ï¼Œæˆ–è€…ä½¿ç”¨Gitå‘½ä»¤è¡Œå·¥å…·ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœå­—ä½“æ–‡ä»¶åä¸º example.woff2ï¼Œå¯ä»¥åœ¨ä»“åº“çš„æ ¹ç›®å½•æˆ–ä»»ä½•ä¸€ä¸ªå­ç›®å½•ä¸­æ”¾ç½®è¿™ä¸ªæ–‡ä»¶ã€‚\næ­¥éª¤ 3: ä½¿ç”¨jsDelivr jsDelivræ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºCDNæœåŠ¡ï¼Œå®ƒå¯ä»¥æä¾›GitHubä»“åº“ä¸­é™æ€æ–‡ä»¶çš„CDNæ”¯æŒã€‚\nè·å–GitHubæ–‡ä»¶çš„URLè·¯å¾„ã€‚è¿™é€šå¸¸æ˜¯ï¼š\nhttps://github.com/\u0026lt;username\u0026gt;/\u0026lt;repository\u0026gt;/blob/main/path/to/your/font.woff2 å…¶ä¸­ \u0026lt;username\u0026gt; æ˜¯ä½ çš„GitHubç”¨æˆ·åï¼Œ\u0026lt;repository\u0026gt; æ˜¯ä½ çš„ä»“åº“åï¼Œpath/to/your/font.woff2 æ˜¯æ–‡ä»¶åœ¨ä»“åº“ä¸­çš„è·¯å¾„ã€‚\nå°†GitHubé“¾æ¥è½¬æ¢ä¸ºjsDelivré“¾æ¥ã€‚jsDelivrä¸ºGitHubé¡¹ç›®æä¾›äº†ä¸€ä¸ªç‰¹åˆ«çš„URLæ ¼å¼ï¼Œç”¨äºCDNåŠ é€Ÿã€‚å°†ä¸Šè¿°URLæŒ‰ä»¥ä¸‹æ ¼å¼æ”¹å†™ï¼š\nhttps://cdn.jsdelivr.net/gh/\u0026lt;username\u0026gt;/\u0026lt;repository\u0026gt;/path/to/your/font.woff2 æ­¥éª¤ 4: åœ¨ç½‘é¡µä¸­ä½¿ç”¨å­—ä½“ åœ¨HTMLæˆ–CSSæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ–°çš„jsDelivr CDNé“¾æ¥æ¥å¼•ç”¨å­—ä½“æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨CSSä¸­ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå­—ä½“ï¼š\n@font-face { font-family: \u0026#39;MyCustomFont\u0026#39;; src: url(\u0026#39;https://cdn.jsdelivr.net/gh/username/repository/path/to/your/font.woff2\u0026#39;) format(\u0026#39;woff2\u0026#39;); font-weight: normal; font-style: normal; } è¿™é‡Œï¼Œfont-family æ˜¯ç»™å­—ä½“èµ·çš„åå­—ï¼Œç”¨äºåç»­åœ¨CSSä¸­å¼•ç”¨ã€‚\n","permalink":"https://ahaknow.com/posts/know/blog-font-display-acceleration/","summary":"åšå®¢é‡Œä½¿ç”¨äº†è‡ªå®šä¹‰çš„å­—ä½“ï¼Œæœ€å¼€å§‹ç›´æ¥é‡‡ç”¨ttfæ–‡ä»¶åŠ è½½çš„æ–¹å¼ï¼Œå› ä¸ºåšå®¢å†…å®¹å…¨éƒ¨æ˜¯é™æ€å­˜åœ¨Githubä¸Šçš„ï¼Œè¿™ç§ç›´æ¥åŠ è½½å¤šå°‘æœ‰ç‚¹æ…¢ï¼Œæ‰€ä»¥æƒ³äº†ä¸€","title":"åšå®¢ä¼˜åŒ–ï¼šè‡ªå®šä¹‰å­—ä½“åŠ é€Ÿæ˜¾ç¤º"},{"content":" è®°ä¸æ¸…ç¬¬ä¸€æ¬¡è¯»ã€ŠSLAMåå››è®²ã€‹æ˜¯ä»€ä¹ˆæ„Ÿå—äº†ï¼ˆé‚£ä¼šæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦SLAMè¿™ä¸ªä¸œè¥¿ï¼‰ï¼Œå¯èƒ½ä¼¼æ‡‚éæ‡‚ï¼Œä¹Ÿå¯èƒ½ä¸æ‡‚è£…æ‡‚ï¼Œæ€»ä¹‹å°±æ˜¯æ²¡æ‡‚ã€‚\nè¿™æ¬¡ï¼Œæ—¶éš”ä¸¤å¹´ï¼ˆæˆ‘æ»´ä¸ªä¹–ï¼Œä½ è¿™ä¸¤å¹´å°±è¿™æ ·è’åºŸå•¦ï¼Ÿä½ éƒ½å­¦äº†ä¸ªå•¥ğŸ˜ ï¼‰é‡æ–°æ¥è¯»ï¼Œä¸€ç‚¹ä¸€ç‚¹ï¼Œä¸€æ­¥ä¸€æ­¥è¯»æ‡‚ã€ç†è§£é€ï¼Œä¹‹å‰å¯èƒ½å¹¿åº¦ä¼˜å…ˆæµ…å°åˆ™æ­¢äº†ï¼Œè¿™æ¬¡æ˜¯æ·±åº¦ä¼˜å…ˆåˆ¨æ ¹é—®åº•ï¼\nè§†è§‰SLAMæ¦‚è§ˆ è§†è§‰SLAMç ”ç©¶å’Œè§£å†³çš„åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ\nä¸€ç§æ„Ÿæ€§çš„ç†è§£ è§†è§‰SLAMæ‰€åº”ç”¨çš„åœºæ™¯æ˜¯é€šè¿‡å›¾åƒæ•°æ®æ¥å®Œæˆ SLAM(Simultaneous Localization and Mapping) åŒæ—¶å®šä½ä¸å»ºå›¾ä»»åŠ¡ã€‚è€Œå›¾åƒæ˜¯å°†ä¸‰ç»´ç©ºé—´çš„ä¸–ç•Œå’Œåœºæ™¯â€œæ‹æ‰â€æˆäº†ä¸€å¼ äºŒç»´å¹³é¢ï¼Œå› æ­¤ä¸‰ç»´ç©ºé—´ä¸­çš„è·ç¦»æ„Ÿï¼ˆæ·±åº¦ä¿¡æ¯ï¼‰åœ¨äºŒç»´å›¾åƒä¸­å°±æ¶ˆå¤±äº†ï¼Œè€Œä¸”è¿™æ˜¯ä¸€ç§åœ¨è‡ªç„¶æƒ…å†µä¸å¯é€†çš„è¿‡ç¨‹ï¼Œå³ä¸é€šè¿‡å…¶ä»–æ‰‹æ®µæ˜¯æ— æ³•ç›´æ¥ä»å›¾åƒä¸­æ¢å¤å‡ºåŸæœ‰çš„æ·±åº¦ä¿¡æ¯ã€‚å› æ­¤SLAMæƒ³è¦å®ç°å¯¹è‡ªèº«çš„å®šä½å’Œå¯¹å‘¨å›´ç¯å¢ƒçš„å»ºå›¾ï¼Œé‚£ä¹ˆé¦–å…ˆè¦åšçš„å°±æ˜¯å¾—åˆ°å›¾åƒçš„æ·±åº¦ä¿¡æ¯ã€‚\nå¯¹äºå›¾åƒçš„æ·±åº¦ä¿¡æ¯ï¼Œæ ¹æ®ç›¸æœºè½¯ç¡¬ä»¶çš„åŒºåˆ«æœ‰ä¸åŒçš„è·å–ç­–ç•¥ï¼Œé€šè¿‡ç¡¬ä»¶è®¾å¤‡ç›´æ¥æµ‹é‡å½“ç„¶æ˜¯æœ€å‡†çš„ï¼Œæ¯”å¦‚RGB-Dç›¸æœºï¼Œå…·ä½“æœ‰é£è¡Œæ—¶é—´åŸç†ï¼ˆTime of Flightï¼ŒTOFï¼‰å’Œç»“æ„å…‰åŸç†ï¼ˆStructured Lightï¼‰ä¸¤ç§ï¼Œä¸ä¸è¿‡è¿™ä¹Ÿä¼šæœ‰è¯¯å·®ã€‚\nè€Œåªæœ‰å›¾åƒçš„æƒ…å†µï¼Œå¦‚æœæ˜¯å·²çŸ¥ç›¸å¯¹ä½ç½®å…³ç³»çš„ä¸¤å¼ å›¾åƒæˆ–è€…å¤šå¼ å›¾åƒï¼Œé‚£ä¹ˆé—®é¢˜è¿˜å¥½äº›ï¼Œæ˜¯åŒç›®æˆ–è€…å¤šç›®çš„ç«‹ä½“åŒ¹é…é—®é¢˜ï¼Œæ¶‰åŠåˆ°å¤šè§†å›¾å‡ ä½•çš„çŸ¥è¯†ï¼ˆMultiple View Geometryï¼Œè¿™æœ¬ä¹¦å·²ä¹°ï¼Œè¦è¯»èµ·æ¥äº†ï¼ï¼‰ï¼›å¦‚æœåªæ˜¯å•å¼ å›¾åƒçš„è¯ï¼Œæƒ³è¦æ¢å¤æ·±åº¦å°±ä¼šå¤æ‚å¾ˆå¤šï¼Œé¦–å…ˆå¾—æ˜¯å¤šå¼ å›¾åƒï¼Œä¹Ÿå°±æ˜¯è®©ç›¸æœºåŠ¨èµ·æ¥å»æ¨¡æ‹Ÿä¸¤ä¸ªæˆ–è€…å¤šä¸ªç›¸æœºçš„æƒ…å†µï¼Œæ¯”å¦‚æ°´å¹³ç§»åŠ¨æˆ–è€…ç«–ç›´ç§»åŠ¨ï¼Œå¦‚æœæ˜¯éšæ„çš„ç§»åŠ¨ï¼Œé‚£é—®é¢˜å°±æ›´å¤æ‚äº†ï¼Œå› ä¸ºè¿˜å¾—çŸ¥é“ç›¸æœºè¿åŠ¨çš„æ¯ä¸€ä¸ªä½ç½®ä¹‹é—´çš„ç›¸å¯¹å…³ç³»ï¼Œè¿™åˆæ¶‰åŠåˆ°åé¢è¦æåˆ°çš„é—®é¢˜ï¼šè§†è§‰é‡Œç¨‹è®¡ï¼ˆVisual Odometry, VOï¼‰ï¼Œç”¨æ¥ä¼°è®¡ç›¸é‚»å›¾åƒæ‰€å¯¹åº”ç›¸æœºçš„è¿åŠ¨ï¼Œå¹¶ä¸”å¦‚æœæ²¡æœ‰ç»å¯¹ç‰©ç†å°ºå¯¸ä½œä¸ºå‚è€ƒï¼Œè¿™ç§ç›¸å¯¹çš„æ¯”ä¾‹æ”¾å¤§æˆ–è€…ç¼©å°éƒ½ä¸ä¼šå¯¹ç»“æœäº§ç”Ÿå®é™…æ€§çš„å½±å“ï¼Œå› æ­¤è¿™é‡Œçš„å°ºåº¦ï¼ˆScaleï¼‰æ˜¯ä¸ç¡®å®šçš„ã€‚è¿™é‡Œåšä¸€ä¸ªå¼•å­ï¼Œä¸‹ä¸€ç¯‡å­¦ä¹ ç”¨æ¥ä»‹ç»å¦‚ä½•é€šè¿‡å›¾åƒä¼°è®¡å‡ºæ·±åº¦ã€‚\nå‡è®¾ç°åœ¨èƒ½å¤Ÿè·å–åˆ°å›¾åƒçš„æ·±åº¦ï¼Œä»å›¾åƒåƒç´ ä½ç½®èƒ½å¤Ÿæ¢å¤å‡ºå…¶åœ¨ç©ºé—´ä¸­çš„ä¸‰ç»´åæ ‡ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°ç›¸æœºæ¨¡å‹å’ŒæŠ•å½±å…³ç³»çš„çŸ¥è¯†ï¼Œè¿™ä¹Ÿéœ€è¦åœ¨åé¢çš„å­¦ä¹ ä¸­è¡¥å……ã€‚\nSLAMæƒ³è¦åšçš„åŒæ—¶å®šä½å’Œå»ºå›¾ï¼Œè¿™ä¸¤è€…éƒ½éœ€è¦çŸ¥é“è‡ªèº«æ˜¯æ€ä¹ˆè¿åŠ¨ï¼Œä¹Ÿå°±æ˜¯ç›¸æœºçš„ä½ç½®å˜æ¢æ˜¯æ€ä¹ˆæ ·çš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°è§†è§‰é‡Œç¨‹è®¡çš„ç†è®ºï¼š**ç›¸é‚»å›¾åƒä¸­å¦‚æœç¡®å®šåŒä¸€ä¸ªç‚¹ï¼ˆä»åƒç´ ç‚¹å¯¹åº”åˆ°ä¸‰ç»´ç©ºé—´çš„ä¸€ç‚¹ï¼‰ï¼Œç„¶åè¿™ä¸ªç‚¹å¯¹åº”çš„ç©ºé—´ç‚¹ä¸ç›¸æœºä¹‹é—´çš„å‡ ä½•å…³ç³»ï¼Œä»è¿™ä¸ªå‡ ä½•å…³ç³»ä¸­ä¼°è®¡ç›¸é‚»å›¾åƒå¯¹åº”ç›¸æœºçš„ä½ç½®å˜æ¢ã€‚**è¿™ä¸€å—ä¹Ÿæ˜¯åé¢å­¦ä¹ çš„é‡ç‚¹ã€‚\nå‡è®¾èƒ½å¤Ÿå®ç°ç›¸é‚»å›¾åƒé—´ä½ç½®å˜æ¢å…³ç³»çš„è®¡ç®—äº†ï¼Œä¸‹ä¸€æ­¥æ˜¯å°†ä¸€ç³»åˆ—è¿™æ ·çš„ç›¸é‚»å¯¹ä¸€èµ·è®¡ç®—ï¼Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ä½å§¿ï¼ˆä½ç½®å’Œå§¿æ€ï¼‰åºåˆ—ï¼Œç”±äºä¼ æ„Ÿå™¨çš„å™ªå£°ä¹Ÿæ˜¯å¾ˆéš¾å®Œå…¨å»é™¤çš„ï¼Œä¼°è®¡çš„è¯¯å·®ä¹Ÿå°±ä¸å¯é¿å…ï¼Œä¸¤ä¸ªä¸¤ä¸ªè¿›è¡Œç®€å•è®¡ç®—æ—¶å¯èƒ½è¯¯å·®å¾ˆå°ï¼Œä½†æ˜¯è¿™äº›å¾ˆå°çš„è¯¯å·®ç´¯ç§¯èµ·æ¥å°±ä¼šè®©ç»“æœåå·®å¾ˆå¤§ï¼Œå› æ­¤åªæ˜¯å®Œæˆäº†å•çº¯çš„è§†è§‰é‡Œç¨‹è®¡è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦èƒ½å¤ŸæŠŠåå·®çº æ­£å›æ¥ã€‚\n**å®Œæ•´çš„SLAMè¿˜éœ€è¦å¯¹ä½å§¿ä¼°è®¡è¿›è¡Œä¼˜åŒ–ï¼Œé™ä½ç³»ç»Ÿå™ªå£°çš„å½±å“ï¼ŒåŒæ—¶å¯¹äºç´¯ç§¯çš„è¯¯å·®å¯èƒ½äº§ç”Ÿçš„è´¨å˜å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯ç´¯ç§¯æ¼‚ç§»ï¼ˆAccumulating Driftï¼‰ï¼Œæ¯”å¦‚å®é™…æ˜¯èµ·ç‚¹ç»ˆç‚¹ä¸€è‡´ï¼Œä½†ä¼°è®¡å‡ºæ¥ç»ˆç‚¹å’Œèµ·ç‚¹ç›´æ¥åŠˆå‰äº†ï¼Œè¿™å°±éœ€è¦é€šè¿‡â€œå›ç¯æ£€æµ‹â€çš„ç­–è®ºçº æ­£è¿‡æ¥ã€‚**ä¸¤è€…å…·ä½“å®ç°èµ·æ¥éƒ½æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¹Ÿæ˜¯åé¢å­¦ä¹ éœ€è¦çªç ´çš„ã€‚\nç®€å•å°ç»“ä¸€ä¸‹ï¼š\nå¦‚æœå°†SLAMæŒ‰ç…§â€œå¤–åœ¨è¡¨ç°â€å’Œâ€œå†…åœ¨æœåŠ¡â€è¿™ç§æ€è·¯æ¥åˆ’åˆ†ï¼Œè§†è§‰é‡Œç¨‹è®¡å¯ä»¥å½’ä¸ºâ€œå‰ç«¯â€ï¼Œå¹¶ä¸”å…¶ä¸­æ‰€æ¶‰åŠçš„ç†è®ºä¸»è¦ä¸è®¡ç®—æœºè§†è§‰ç›¸å…³ã€‚è€Œå¯¹äºæå–çš„ç©ºé—´ç‚¹å’Œä¼°è®¡çš„ä½å§¿è¿›è¡Œçš„ä¼˜åŒ–åˆ™å¯ä»¥å½’ä¸ºåç«¯ï¼Œå› ä¸ºè¿™äº›éœ€è¦ä¼˜åŒ–çš„æ•°æ®æ¶‰åŠå„ç§å¤æ‚çš„å‡ ä½•å…³ç³»ï¼Œæœ¬èº«å°±ä¸æ˜¯çº¿æ€§çš„ï¼Œæ‰€ä»¥åç«¯å¸¸ç”¨çš„æ˜¯ä¸€äº›æ»¤æ³¢å’Œéçº¿æ€§ä¼˜åŒ–çš„ç®—æ³•ï¼ˆâ€¦â€¦å†™åˆ°è¿™ï¼Œå…¶å®å¯¹äºæ»¤æ³¢åœ¨å¹²å•¥ç«Ÿç„¶æ²¡æœ‰ç›´è§‚çš„æ„Ÿè§‰ï¼Œè¯´æ˜æ­¤å‰çš„å­¦ä¹ çœŸçš„å¾ˆæ‹‰å®ï¼ï¼‰æœ€åçš„å›ç¯æ£€æµ‹åŒæ ·ä¹Ÿä¼šæ¶‰åŠåˆ°è®¡ç®—æœºè§†è§‰çš„ç†è®ºï¼Œæ¯”å¦‚å›¾åƒçš„ç›¸ä¼¼æ€§ï¼Œç”±äºå›ç¯æ£€æµ‹çš„ç»“æœä¼šä½¿å¾—æ•´ä¸ªä½å§¿ä¼°è®¡çš„ç»“æœå‘ç”Ÿæ•´ä½“çš„çº æ­£ï¼Œå› æ­¤å¯ä»¥çœ‹ä½œæ˜¯SLAMå‰åç«¯ä¹‹é—´çš„çº½å¸¦ã€‚ï¼ˆâ€¦â€¦å¥½å§ï¼Œå…¶å®å†™åˆ°è¿™ï¼Œå¯¹äºæ€ä¹ˆè¿›è¡Œå›ç¯çš„ï¼Œä¹Ÿæ˜¯ä¸€è„‘å­æ‡µé€¼ã€‚ã€‚ã€‚ï¼‰\næœ€åçš„ä¸€éƒ¨åˆ†æ˜¯å»ºå›¾ï¼ŒSLAMè®²ç©¶çš„å»ºå›¾éœ€è¦ä»ä¸¤æ–¹é¢æ¥çœ‹ã€‚\nåŒæ—¶å®šä½çš„ç›®çš„æ˜¯ä¸ºäº†æ„å»ºå‡ºåœ°å›¾ï¼Œæ ¹æ®éœ€è¦å¯ä»¥æ„å»ºä¸åŒç±»å‹çš„åœ°å›¾ï¼Œä¸”è¿™ä¸ªåœ°å›¾èƒ½åœ¨ä¹‹åè¢«ä½¿ç”¨ï¼Œæ¯”å¦‚å¯¼èˆªï¼Œè·¯å¾„è§„åˆ’ï¼Œé‡å®šä½ç­‰ï¼› å»ºå›¾çš„æœ¬è´¨æ˜¯é€šè¿‡ç›¸æœºçš„ä½å§¿å°†ç›¸æœºçœ‹åˆ°çš„åœºæ™¯å†â€œæ‹¼æ¥â€æˆä¸€ä¸ªå®Œæ•´çš„ç©ºé—´ï¼Œè¿™æ—¶å¦‚æœåªé€‰å–åœºæ™¯ä¸­çš„ä»£è¡¨ç‰¹å¾ï¼Œæ¯”å¦‚è§’ç‚¹ã€è¾¹ç¼˜ï¼Œä¸€èˆ¬ç§°ä¹‹ä¸ºè·¯æ ‡ï¼ˆLandmarkï¼‰ï¼Œé‚£ä¹ˆæ„å»ºå°±æ˜¯ä¸€ç§ç¨€ç–çš„åœ°å›¾ï¼›è€Œå¦‚æœæ˜¯å°†æ•´å¼ å›¾åƒçš„æ¯ä¸€ä¸ªç‚¹ï¼ˆéƒ½çŸ¥é“ç›¸åº”çš„æ·±åº¦ï¼‰éƒ½æ‹¿æ¥å»ºå›¾ï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ°ä¸€ä¸ªè¾ƒä¸ºç¨ å¯†çš„åœ°å›¾ï¼Œè¿™ç§åœ°å›¾ä¸€èˆ¬ä¹Ÿä¸ºç‚¹äº‘åœ°å›¾ã€‚ åˆ°æ­¤ï¼ŒSLAMåˆ°åº•æ˜¯åœ¨å¹²å•¥ç®—äº†æœ‰ä¸€ä¸ªåˆæ­¥çš„æ„Ÿæ€§è®¤è¯†äº†ï¼Œä¸‹é¢è¿˜æœ‰å†…å®¹ä¸€äº›éœ€è¦è¡¥å……è¯´æ˜ã€‚\nå…³äºç¨ å¯†ä¸ç¨€ç–çš„è®¨è®º è¿™é‡Œå¯¹åœ°å›¾çš„ç¨€ç–å’Œç¨ å¯†ç¨‹åº¦ï¼Œæ˜¯ä¸€ç§ç›¸å¯¹è€Œè¨€çš„æ¦‚å¿µï¼Œæœ‰è¿™æ ·ä¸€ä¸ªè§‚ç‚¹ï¼š\nä½ çœ‹ç‚¹äº‘åœ°å›¾ï¼Œå³ä½¿å®ƒå†ç¨ å¯†ï¼Œå°†è¿™ä¸ªç‚¹äº‘æ”¾å¤§æ¥çœ‹ï¼Œé‚£ä¹ˆç‚¹ä¸ç‚¹ä¹‹é—´ä¹Ÿæ˜¯æœ‰ç©ºéš™çš„ï¼Œè¿™ç®—ç¨ å¯†å˜›ï¼Ÿ\nåœ¨è®¨è®ºç‚¹äº‘åœ°å›¾æ˜¯å¦ç¨ å¯†æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¸æ˜¯æŒ‡ç‚¹ä¸ç‚¹ä¹‹é—´å®Œå…¨æ²¡æœ‰ç©ºéš™ï¼Œè€Œæ˜¯ç›¸å¯¹äºæ„ŸçŸ¥ç³»ç»Ÿçš„åˆ†è¾¨ç‡å’Œæ‰€éœ€çš„åº”ç”¨ç²¾åº¦æ¥è¯´ï¼Œæ•°æ®ç‚¹çš„å¯†åº¦è¶³å¤Ÿé«˜ã€‚\nç¨ å¯†åœ°å›¾åœ¨SLAMå’Œæœºå™¨è§†è§‰ä¸­é€šå¸¸æ˜¯ç›¸å¯¹å®šä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæŸäº›åº”ç”¨ï¼Œå¦‚å¯¼èˆªæˆ–éšœç¢ç‰©é¿è®©ï¼Œä¸€ä¸ªåœ°å›¾å¯èƒ½ä¸éœ€è¦ç»†è‡´åˆ°æ¯«ç±³çº§åˆ«çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œåªè¦èƒ½å¤Ÿè¾ƒä¸ºå‡†ç¡®åœ°è¡¨ç¤ºå‡ºç¯å¢ƒçš„ä¸»è¦ç»“æ„å’Œéšœç¢ç‰©ä½ç½®ï¼Œè¿™æ ·çš„åœ°å›¾å°±å¯ä»¥è¢«è§†ä¸ºæ˜¯â€œç¨ å¯†â€çš„ã€‚\nç„¶è€Œï¼Œå¦‚æœåº”ç”¨éœ€è¦æ›´é«˜ç²¾åº¦çš„ç¯å¢ƒå»ºæ¨¡ï¼Œä¾‹å¦‚åœ¨ç²¾å¯†å·¥ä¸šåº”ç”¨ä¸­ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„ç¨ å¯†ç‚¹äº‘åœ°å›¾ä¹Ÿå¯èƒ½è¢«è§†ä¸ºä¸å¤Ÿç¨ å¯†ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ”¾å¤§è§‚å¯Ÿæ—¶ï¼Œç‚¹ä¸ç‚¹ä¹‹é—´çš„ç©ºéš™å¯èƒ½å¯¼è‡´ç²¾åº¦ä¸è¶³ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½å°±éœ€è¦ç½‘æ ¼åŒ–ï¼ˆmeshingï¼‰çš„æ“ä½œã€‚\nè¡¥å……çŸ¥è¯† ä»¥ä¸‹ä¸ºæœ¬æ¬¡å­¦ä¹ ä¸­å‘æ•£æ€ç»´æƒ³åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹çš„ç†è§£å’Œè¡¥å……ã€‚\nSLAMåœ°å›¾çš„ç±»å‹åŠå…¶é€‚ç”¨åœºæ™¯ ç¨€ç–åœ°å›¾ ç‰¹ç‚¹ï¼šåŒ…å«å…³é”®çš„ç‰¹å¾ç‚¹æˆ–è·¯æ ‡ã€‚ åº”ç”¨åœºæ™¯ï¼šé€‚ç”¨äºéœ€è¦å¿«é€Ÿã€å®æ—¶å“åº”çš„åœºåˆï¼Œå¦‚åœ¨èµ„æºå—é™çš„è®¾å¤‡ä¸Šè¿›è¡ŒåŸºæœ¬å¯¼èˆªå’Œé¿éšœã€‚ ç¨ å¯†åœ°å›¾ ç‰¹ç‚¹ï¼šæä¾›ç¯å¢ƒçš„è¯¦å°½å‡ ä½•æè¿°ã€‚ åº”ç”¨åœºæ™¯ï¼šç”¨äºéœ€è¦é«˜åº¦ç²¾ç¡®çš„ä»»åŠ¡ï¼Œå¦‚åœ¨å¤æ‚ç¯å¢ƒä¸­è¿›è¡Œç²¾ç»†æ“ä½œçš„æœºå™¨äººï¼Œæˆ–è€…é‚£äº›éœ€è¦é«˜ç²¾åº¦è§†è§‰ä¿¡æ¯æ¥è¿›è¡Œè¯¦ç»†åˆ†æçš„åº”ç”¨ã€‚ è¯­ä¹‰åœ°å›¾ ç‰¹ç‚¹ï¼šä¸ä»…è®°å½•ç‰©ç†å½¢çŠ¶ï¼Œè¿˜æ ‡æ³¨ç‰©ä½“çš„ç±»åˆ«ä¿¡æ¯ï¼ˆå¦‚æ¤…å­ã€æ¡Œå­ã€é—¨ç­‰ï¼‰ã€‚ åº”ç”¨åœºæ™¯ï¼šé€‚ç”¨äºé«˜çº§äº¤äº’ã€è¾…åŠ©æœºå™¨äººå’Œå¢å¼ºç°å®åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œè¾…åŠ©æœºå™¨äººåˆ©ç”¨è¯­ä¹‰åœ°å›¾è¯†åˆ«å¹¶ä¸ç‰¹å®šç‰©ä½“äº¤äº’ï¼Œå¦‚æŠ“å–ç‰©å“æˆ–å¼€å…³é—¨ã€‚ 2Dåœ°å›¾å’Œ3Dåœ°å›¾ 2Dåœ°å›¾ï¼šä¸»è¦ç”¨äºå¹³é¢ç¯å¢ƒï¼Œå¦‚å®¶åº­æˆ–ä»“åº“ä¸­çš„åœ°é¢æœºå™¨äººå¯¼èˆªã€‚ 3Dåœ°å›¾ï¼šæä¾›ç¯å¢ƒçš„ä¸‰ç»´ç»“æ„ï¼Œé€‚ç”¨äºå¤æ‚æˆ–å¤šå±‚ç¯å¢ƒï¼Œå¦‚å¤šå±‚å»ºç­‘å†…çš„å¯¼èˆªæˆ–é£è¡Œæœºå™¨äººã€‚ ç‚¹äº‘ç½‘æ ¼åŒ– ç½‘æ ¼åŒ–æ˜¯ä¸€ç§å°†æ•£ä¹±çš„ç‚¹äº‘æ•°æ®è½¬åŒ–ä¸ºè¿ç»­ä¸‰ç»´è¡¨é¢çš„æŠ€æœ¯ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç”¨ä¸‰è§’å½¢ç½‘æ ¼æ¥è¿‘ä¼¼è¡¨ç¤ºç‰©ä½“çš„è¡¨é¢ï¼Œä»è€Œæé«˜æ¨¡å‹çš„è§†è§‰å’Œè®¡ç®—æ•ˆæœã€‚è¿™ä¸ä»…å¯ä»¥å¡«è¡¥ç‚¹ä¸ç‚¹ä¹‹é—´çš„ç©ºéš™ï¼Œè¿˜èƒ½æä¾›æ›´å¹³æ»‘ã€æ›´è¯¦ç»†çš„è¡¨é¢æ¨¡å‹ï¼Œæœ‰åŠ©äºè¿›è¡Œæ›´ç²¾ç¡®çš„è®¡ç®—å’Œå¯è§†åŒ–ã€‚\nç‚¹äº‘ç½‘æ ¼åŒ–çš„å¸¸è§æ–¹æ³• Delaunay ä¸‰è§’å‰–åˆ†ï¼š\nè¿™æ˜¯ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥ç”Ÿæˆä¸‰è§’ç½‘æ ¼ï¼Œé€šå¸¸ç”¨äº2Då’Œ3Dç©ºé—´ä¸­ã€‚å®ƒå°è¯•ä¿è¯åœ¨ä¸‰è§’å½¢ç½‘æ ¼çš„æ¯ä¸ªä¸‰è§’å½¢çš„åœ†å‘¨ä¸Šæ²¡æœ‰å…¶ä»–ç‚¹å­˜åœ¨ï¼Œè¿™æœ‰åŠ©äºæœ€å¤§åŒ–æœ€å°è§’ï¼Œä»è€Œé¿å…ç”Ÿæˆç»†é•¿çš„ä¸‰è§’å½¢ã€‚ æ³Šæ¾è¡¨é¢é‡å»ºï¼š\næ³Šæ¾æ–¹æ³•æ˜¯ä¸€ç§æµè¡Œçš„3Dé‡å»ºæŠ€æœ¯ï¼Œç”¨äºä»ç‚¹äº‘ä¸­æ¨å¯¼å‡ºä¸€ä¸ªå¹³æ»‘çš„æ›²é¢ã€‚å®ƒåŸºäºå‡è®¾ä¸€ä¸ªéšå¼è¡¨é¢å¯ä»¥é€šè¿‡ç‚¹äº‘å®šä½ï¼Œç„¶åé€šè¿‡æ±‚è§£ä¸€ä¸ªæ³Šæ¾æ–¹ç¨‹æ¥æ‰¾åˆ°æœ€ä½³çš„è¡¨é¢ã€‚ Marching Cubes ç®—æ³•ï¼š\nè¿™æ˜¯ä¸€ä¸ªç”¨äºæå–ç­‰å€¼é¢å¹¶åˆ›å»ºä¸‰è§’ç½‘æ ¼çš„ç®—æ³•ã€‚åœ¨åŒ»å­¦æˆåƒå’Œç§‘å­¦å¯è§†åŒ–ä¸­å°¤å…¶å¸¸è§ã€‚å®ƒé€šè¿‡é€ä¸ªæ£€æŸ¥æ•°æ®ä½“ç§¯çš„ç«‹æ–¹ä½“ï¼ˆæˆ–â€œä½“ç´ â€ï¼‰çš„ç½‘æ ¼ï¼Œæ ¹æ®è¾¹ç•Œä¸Šçš„ç‚¹æ¥æ„é€ è¡¨é¢ã€‚ Greedy Projection Triangulationï¼š\nè¿™ç§æ–¹æ³•é€‚ç”¨äºè¾ƒå¤§çš„ç‚¹é›†ï¼Œå®ƒä¾èµ–äºè´ªå©ªç­–ç•¥æ¥é€æ­¥æ„å»ºä¸‰è§’ç½‘æ ¼ã€‚å®ƒé€šå¸¸ä»ä¸€ä¸ªç‚¹å¼€å§‹ï¼Œé€æ­¥å‘å¤–æ‰©å±•ï¼Œç›´åˆ°è¦†ç›–æ‰€æœ‰ç‚¹ã€‚ SLAMçš„æ•°å­¦è¡¨è¾¾ ä»æ•°å­¦çš„è§’åº¦æ¥ç†è§£SLAMé—®é¢˜ï¼Œå¯ä»¥å½’ç»“ä¸ºæœºå™¨äººçš„â€œè¿åŠ¨â€å’Œæœºå™¨äººå¯¹è·¯æ ‡ï¼ˆLandmarkï¼‰çš„â€œè§‚æµ‹â€ã€‚\nSLAMï¼ˆSimultaneous Localization and Mappingï¼‰æ˜¯ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œåœ¨æœºå™¨äººå­¦å’Œè‡ªåŠ¨å¯¼èˆªç³»ç»Ÿä¸­éå¸¸å…³é”®ã€‚å®ƒæ¶‰åŠåˆ°æœºå™¨äººåœ¨æœªçŸ¥ç¯å¢ƒä¸­åŒæ—¶è¿›è¡Œè‡ªæˆ‘å®šä½å’Œç¯å¢ƒåœ°å›¾æ„å»ºçš„è¿‡ç¨‹ã€‚ç†è§£SLAMçš„åŸºæœ¬é—®é¢˜æ¶‰åŠåˆ°å‡ ä¸ªå…³é”®æ–¹é¢ï¼šè¿åŠ¨æ–¹ç¨‹ã€è§‚æµ‹æ–¹ç¨‹ã€å·²çŸ¥çš„æ•°æ®ã€éœ€è¦ä¼°è®¡çš„å˜é‡ã€å™ªå£°æ¨¡å‹ä»¥åŠæ±‚è§£è¿™äº›é—®é¢˜çš„æ–¹æ³•ã€‚\nè¿åŠ¨æ–¹ç¨‹ è¿åŠ¨æ–¹ç¨‹æè¿°äº†æœºå™¨äººçŠ¶æ€çš„æ—¶é—´æ¼”åŒ–ï¼ŒåŸºäºå…¶è¿åŠ¨æ¨¡å‹ã€‚åœ¨æœ€åŸºæœ¬çš„å½¢å¼ä¸­ï¼Œè¿™å¯ä»¥è¡¨ç¤ºä¸ºï¼š\n$$ x_{t} = f(x_{t-1}, u_t, w_t) $$\n$ x_{t-1} $ï¼šä¸Šä¸€ä¸ªæ—¶é—´æ­¥çš„æœºå™¨äººçŠ¶æ€ï¼ˆä½ç½®å’Œæ–¹å‘ï¼‰ã€‚ $ u_t $ï¼šæ§åˆ¶è¾“å…¥ï¼ˆå¦‚é€Ÿåº¦å’Œæ–¹å‘å˜åŒ–ï¼‰ã€‚ $ w_t $ï¼šè¿‡ç¨‹å™ªå£°ï¼Œæ¨¡æ‹Ÿç”±äºæœºå™¨äººåŠ¨åŠ›ç³»ç»Ÿçš„ä¸ç²¾ç¡®æ€§å’Œç¯å¢ƒå› ç´ å¸¦æ¥çš„ä¸ç¡®å®šæ€§ï¼Œé€šå¸¸å‡è®¾ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚ è§‚æµ‹æ–¹ç¨‹ è§‚æµ‹æ–¹ç¨‹æè¿°äº†æœºå™¨äººå¦‚ä½•é€šè¿‡å…¶ä¼ æ„Ÿå™¨ä»ç¯å¢ƒä¸­è·å–ä¿¡æ¯ï¼Œä»¥åŠè¿™äº›ä¿¡æ¯å¦‚ä½•ä¾èµ–äºå½“å‰çš„æœºå™¨äººçŠ¶æ€å’Œåœ°å›¾ï¼š\n$$ z_t = h(x_t, m, v_t) $$\n$ z_t $ï¼šåœ¨æ—¶é—´ $ t $ çš„ä¼ æ„Ÿå™¨è§‚æµ‹ã€‚ $ x_t $ï¼šå½“å‰æœºå™¨äººçŠ¶æ€ã€‚ $ m $ï¼šåœ°å›¾ä¸­çš„ç‰¹å¾ã€‚ $ v_t $ï¼šè§‚æµ‹å™ªå£°ï¼Œä»£è¡¨ä¼ æ„Ÿå™¨è¯¯å·®å’Œå…¶ä»–æµ‹é‡ä¸ç¡®å®šæ€§ï¼Œé€šå¸¸å‡è®¾ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚ å·²çŸ¥å’ŒæœªçŸ¥å˜é‡ å·²çŸ¥å˜é‡ï¼š æ§åˆ¶è¾“å…¥ $ u_t $ï¼šä¾‹å¦‚ä»æœºå™¨äººçš„é©±åŠ¨ç³»ç»Ÿè·å¾—ã€‚ è§‚æµ‹æ•°æ® $ z_t $ï¼šæ¥è‡ªæœºå™¨äººçš„ä¼ æ„Ÿå™¨ã€‚ æœªçŸ¥å˜é‡ï¼š æœºå™¨äººçš„çŠ¶æ€ $ x_t $ï¼šéœ€è¦å®æ—¶ä¼°è®¡ã€‚ åœ°å›¾ $ m $ï¼šéœ€è¦é€æ­¥æ„å»ºå’Œæ›´æ–°ã€‚ å™ªå£°çš„å­˜åœ¨ è¿‡ç¨‹å™ªå£° $ w_t $ï¼šå­˜åœ¨äºè¿åŠ¨æ–¹ç¨‹ä¸­ï¼Œåæ˜ äº†æ§åˆ¶è¾“å…¥åˆ°å®é™…è¿åŠ¨ä¹‹é—´çš„ä¸ç²¾ç¡®è½¬æ¢ã€‚ è§‚æµ‹å™ªå£° $ v_t $ï¼šå­˜åœ¨äºè§‚æµ‹æ–¹ç¨‹ä¸­ï¼Œåæ˜ äº†ä¼ æ„Ÿå™¨æœ¬èº«çš„ä¸ç²¾ç¡®æ€§å’Œç¯å¢ƒå¯¼è‡´çš„è¯¯å·®ã€‚ æ±‚è§£æ–¹æ³• æ±‚è§£SLAMé—®é¢˜é€šå¸¸é‡‡ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š\næ‰©å±•å¡å°”æ›¼æ»¤æ³¢å™¨ï¼ˆEKFï¼‰ï¼šé€šè¿‡çº¿æ€§åŒ–éçº¿æ€§æ¨¡å‹å¤„ç†è¾ƒå°çš„ä¸ç¡®å®šæ€§å’Œå™ªå£°ï¼Œé€‚ç”¨äºçº¿æ€§é«˜æ–¯æ¨¡å‹ã€‚ ç²’å­æ»¤æ³¢å™¨ï¼ˆç‰¹åˆ«æ˜¯FastSLAMï¼‰ï¼šä½¿ç”¨å¤§é‡éšæœºæ ·æœ¬ï¼ˆç²’å­ï¼‰æ¥ä»£è¡¨å¯èƒ½çš„æœºå™¨äººçŠ¶æ€å’Œåœ°å›¾é…ç½®ï¼Œé€‚åˆå¤„ç†éçº¿æ€§å’Œéé«˜æ–¯é—®é¢˜ã€‚ å›¾ä¼˜åŒ–æ–¹æ³•ï¼šå°†æ•´ä¸ªSLAMè¿‡ç¨‹å»ºæ¨¡ä¸ºä¸€ä¸ªä¼˜åŒ–é—®é¢˜ï¼ŒèŠ‚ç‚¹ä»£è¡¨çŠ¶æ€ï¼Œè¾¹ä»£è¡¨è¿åŠ¨æˆ–è§‚æµ‹çš„çº¦æŸï¼Œé€šè¿‡ä¼˜åŒ–è¿™äº›çº¦æŸæ¥ç²¾ç¡®åœ°ä¼°è®¡æœºå™¨äººçš„è½¨è¿¹å’Œåœ°å›¾ã€‚ ç†è®ºä¾æ® SLAMçš„ç†è®ºåŸºç¡€å»ºç«‹åœ¨æ¦‚ç‡è®ºå’Œä¼°è®¡ç†è®ºä¹‹ä¸Šï¼Œå…è®¸ç³»ç»Ÿåœ¨å­˜åœ¨å™ªå£°å’Œä¸ç¡®å®šæ€§çš„æƒ…å†µä¸‹æœ‰æ•ˆåœ°ä¼°è®¡æœºå™¨äººçš„çŠ¶æ€å’Œæ„å»ºç¯å¢ƒåœ°å›¾ã€‚è¿™äº›æ–¹æ³•ä¸ä»…èƒ½å¤Ÿæä¾›å¯¹å½“å‰çŠ¶æ€çš„æœ€ä½³ä¼°è®¡ï¼Œè¿˜å¯ä»¥é¢„æµ‹æœªæ¥çŠ¶æ€å¹¶ä¿®æ­£è¿‡å»çš„è¯¯å·®ï¼Œä»è€Œå®ç°å¯¹ç¯å¢ƒçš„è¿ç»­\nå­¦ä¹ å’Œé€‚åº”ã€‚\né€šè¿‡è¿™äº›æ ¸å¿ƒç»„æˆéƒ¨åˆ†å’Œæ–¹æ³•ï¼ŒSLAMæŠ€æœ¯å¯ä»¥æœ‰æ•ˆåœ°æ”¯æŒæœºå™¨äººåœ¨å¤æ‚ä¸”æœªçŸ¥çš„ç¯å¢ƒä¸­è¿›è¡Œå¯¼èˆªå’Œä»»åŠ¡æ‰§è¡Œã€‚\n","permalink":"https://ahaknow.com/posts/know/slam14-ch2/","summary":"è®°ä¸æ¸…ç¬¬ä¸€æ¬¡è¯»ã€ŠSLAMåå››è®²ã€‹æ˜¯ä»€ä¹ˆæ„Ÿå—äº†ï¼ˆé‚£ä¼šæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦SLAMè¿™ä¸ªä¸œè¥¿ï¼‰ï¼Œå¯èƒ½ä¼¼æ‡‚éæ‡‚ï¼Œä¹Ÿå¯èƒ½ä¸æ‡‚è£…æ‡‚ï¼Œæ€»ä¹‹å°±æ˜¯æ²¡æ‡‚ã€‚ è¿™æ¬¡ï¼Œæ—¶éš”ä¸¤å¹´","title":"SLAMåå››è®²ç¬¬äºŒè®²ï¼šåˆè¯†SLAM"},{"content":"ç¬¬ä¸€è®²é‡Œæ²¡æœ‰å…·ä½“éœ€è¦å¥½å¥½ç†è§£çš„éƒ¨åˆ†ï¼Œä¸è¿‡è‡ªæµ‹é¢˜ç›®é¢˜ç›®å€¼å¾—è¿‡ä¸€éã€‚\n1.çº¿æ€§æ–¹ç¨‹Ax=bçš„æ±‚è§£ æœ‰çº¿æ€§æ–¹ç¨‹$Ax=b$ï¼Œè‹¥å·²çŸ¥$A,b$ï¼Œéœ€è¦æ±‚è§£$x$ï¼Œè¯¥å¦‚ä½•æ±‚è§£ï¼Ÿè¿™å¯¹$A$å’Œ$b$æœ‰å“ªäº›è¦æ±‚ï¼Ÿ\nï¼ˆæç¤ºï¼šä»$A$çš„ç»´åº¦å’Œç§©çš„è§’åº¦æ¥åˆ†æï¼‰\nè¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œä½†æ˜¯å€¼å¾—å…¨é¢åœ°åˆ†æå’Œç†è§£ï¼š\né¦–å…ˆå‡è®¾$A$æ˜¯ä¸€ä¸ª$m \\times n$çŸ©é˜µï¼Œ$x$æ˜¯ä¸€ä¸ª$n \\times 1$çš„åˆ—å‘é‡ï¼Œ$b$æ˜¯ä¸€ä¸ª$m \\times 1$çš„åˆ—å‘é‡ã€‚è¿™é‡Œçš„$m$è¡¨ç¤ºæ–¹ç¨‹çš„æ•°é‡ï¼Œ$n$è¡¨ç¤ºæœªçŸ¥æ•°çš„æ•°é‡ã€‚\nå…ˆä»çŸ©é˜µçš„ç§©å‡ºå‘æ¥ç†è§£ï¼Œä»¥åˆ—çš„è§’åº¦çœ‹ï¼ŒçŸ©é˜µçš„ç§©è¡¨ç¤ºäº†æ‰€æœ‰åˆ—å‘é‡çº¿æ€§ç»„åˆæ‰€èƒ½è¾¾åˆ°çš„ç©ºé—´èŒƒå›´ï¼Œå¯¹äºæ–¹ç¨‹$Ax=b$ï¼Œå¦‚æœå‘é‡$b$åœ¨çŸ©é˜µ$A$çš„åˆ—ç©ºé—´ä¸­ï¼ˆ$b$å¯ä»¥è¢«$A$çš„åˆ—å‘é‡çº¿æ€§è¡¨ç¤ºï¼‰ï¼Œé‚£ä¹ˆå­˜åœ¨è‡³å°‘ä¸€ä¸ªè§£$x$ä½¿å¾—$Ax=b$ï¼Œå› æ­¤å°±æœ‰äº†ä¸‹é¢çš„åˆ¤æ–­æ€§è´¨ï¼ˆæ¯”è¾ƒçŸ©é˜µ$A$å’Œå¢å¹¿çŸ©é˜µ$A|b$ç§©çš„å…³ç³»ï¼‰ï¼š\n$rank(A) = rank(A|b)$ï¼šè¡¨æ˜å‘é‡$b$åœ¨çŸ©é˜µ$A$çš„åˆ—ç©ºé—´ä¸­ï¼Œå› æ­¤è‡³å°‘å­˜åœ¨ä¸€ä¸ªè§£$x$ä½¿å¾—$Ax=b$ã€‚ $rank(A) \u0026lt; rank(A|b)$ï¼šè¡¨æ˜$b$ä¸åœ¨$A$çš„åˆ—ç©ºé—´ä¸­ï¼Œå› æ­¤æ²¡æœ‰è§£ã€‚ ç„¶åå†åˆ†æ$rank(A)$æ¥ç¡®å®šè§£çš„æƒ…å†µï¼Œæ˜¯æœ‰å”¯ä¸€è§£è¿˜æ˜¯å­˜åœ¨å¤šä¸ªè§£ï¼š\nå¦‚æœ$rank(A)=n$ï¼ˆæœªçŸ¥æ•°çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯åˆ—çš„æ•°é‡ï¼‰ï¼Œåˆ™$A$çš„æ‰€æœ‰åˆ—å‘é‡éƒ½æ˜¯çº¿æ€§ç‹¬ç«‹çš„ï¼Œæ„å‘³ç€å¯¹äºç»™å®šçš„$b$ï¼Œå­˜åœ¨å”¯ä¸€çš„$x$æ»¡è¶³$Ax=b$ã€‚ å¦‚æœ$rank(A)\u0026lt;n$ï¼Œåˆ™$A$ä¸­çš„æŸäº›åˆ—å‘é‡æ˜¯å…¶ä»–åˆ—å‘é‡çš„çº¿æ€§ç»„åˆï¼Œæ„å‘³ç€ç»™å®šçš„$b$æ—¶ï¼Œè¿™äº›å¯ä»¥è¢«å…¶ä»–åˆ—å‘é‡è¡¨ç¤ºçš„å‘é‡ä¸å‚ä¸çº¿æ€§ç»„åˆå‡º$b$ï¼Œä¹Ÿå°±å¯ä»¥æœ‰ä»»æ„å€¼ä½œä¸ºç³»æ•°ï¼Œå¯¼è‡´å­˜åœ¨æ— é™å¤šä¸ªè§£ã€‚ çº¿æ€§æ–¹ç¨‹$Ax=b$çš„æ±‚è§£æ–¹æ³• â€¼ï¸ä»¥ä¸‹çš„å›ç­”æ¥è‡ªGPTï¼Œè‡ªå·±è¿˜ä¸æ˜¯å¾ˆç†è§£ï¼Œéœ€è¦é‡æ–°ç³»ç»Ÿå­¦ä¹ çº¿æ€§ä»£æ•°çš„çŸ¥è¯†åå†è¿›è¡Œè‡ªå·±çš„æ¶ˆåŒ–å¸æ”¶ï¼\nè¶…å®šç³»ç»Ÿï¼š$m \u0026gt; n$ï¼Œæ–¹ç¨‹æ•°é‡å¤šäºæœªçŸ¥æ•°ã€‚ æ¬ å®šç³»ç»Ÿï¼š$m \u0026lt; n$ï¼Œæ–¹ç¨‹æ•°é‡å°‘äºæœªçŸ¥æ•°ã€‚ é€‚å®šç³»ç»Ÿï¼š$m = n$ï¼Œæ–¹ç¨‹æ•°é‡ç­‰äºæœªçŸ¥æ•°ã€‚ LUåˆ†è§£ åŸç†ï¼šå°†çŸ©é˜µ$A$åˆ†è§£ä¸ºä¸¤ä¸ªç‰¹æ®Šçš„çŸ©é˜µä¹˜ç§¯ï¼Œä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µ$L$å’Œä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µ$U$ï¼Œå³$A=LU$ã€‚è¿™æ ·ï¼ŒåŸå§‹é—®é¢˜$Ax=b$å˜ä¸ºæ±‚è§£ä¸¤ä¸ªæ›´ç®€å•çš„çº¿æ€§æ–¹ç¨‹ç»„$L(Ux)=b$ã€‚ æ±‚è§£è¿‡ç¨‹ï¼šé¦–å…ˆè§£$L\\mathbf{y}=b$æ‰¾åˆ°$\\mathbf{y}$ï¼Œç„¶åè§£$Ux=\\mathbf{y}$æ‰¾åˆ°$x$ã€‚ é€‚ç”¨æ€§ï¼šç‰¹åˆ«é€‚ç”¨äºé€‚å®šç³»ç»Ÿï¼Œä¹Ÿå¯ç”¨äºæŸäº›ç±»å‹çš„è¶…å®šå’Œæ¬ å®šç³»ç»Ÿï¼Œå‡è®¾$A$å¯ä»¥è¿›è¡Œæœ‰æ•ˆçš„LUåˆ†è§£ã€‚ QRåˆ†è§£ åŸç†ï¼šå°†çŸ©é˜µ$A$åˆ†è§£ä¸ºä¸€ä¸ªæ­£äº¤çŸ©é˜µ$Q$å’Œä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µ$R$ï¼Œå³$A=QR$ã€‚æ­£äº¤çŸ©é˜µå…·æœ‰æ€§è´¨$Q^TQ=I$ï¼ˆ$I$æ˜¯å•ä½çŸ©é˜µï¼‰ã€‚ æ±‚è§£è¿‡ç¨‹ï¼šåˆ©ç”¨$Q$çš„æ­£äº¤æ€§è´¨ï¼ŒåŸæ–¹ç¨‹$Ax=b$å˜ä¸º$QRx=b$ï¼Œè¿›ä¸€æ­¥åŒ–ç®€ä¸º$Rx=Q^Tb$ï¼Œç„¶åå¯ä»¥é€šè¿‡å›ä»£æ±‚è§£ä¸Šä¸‰è§’æ–¹ç¨‹ç»„$Rx=Q^Tb$æ¥æ‰¾åˆ°$x$ã€‚ é€‚ç”¨æ€§ï¼šé€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„ç³»ç»Ÿï¼Œå°¤å…¶æ˜¯è¶…å®šç³»ç»Ÿï¼Œå› ä¸ºQRåˆ†è§£æä¾›äº†ä¸€ç§æ±‚è§£æœ€å°äºŒä¹˜é—®é¢˜çš„è‡ªç„¶æ–¹æ³•ã€‚ å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰ åŸç†ï¼šSVDå°†çŸ©é˜µ$A$åˆ†è§£ä¸ºä¸‰ä¸ªçŸ©é˜µçš„ä¹˜ç§¯ï¼Œå³$A=U\\Sigma V^T$ï¼Œå…¶ä¸­$U$å’Œ$V$æ˜¯æ­£äº¤çŸ©é˜µï¼Œ$\\Sigma$æ˜¯å¯¹è§’çŸ©é˜µï¼Œå¯¹è§’çº¿ä¸Šçš„å…ƒç´ æ˜¯æ‰€è°“çš„å¥‡å¼‚å€¼ã€‚ æ±‚è§£è¿‡ç¨‹ï¼šå¯¹äºæ–¹ç¨‹$Ax=b$ï¼Œå¯ä»¥è½¬æ¢ä¸º$\\Sigma y=U^Tb$ï¼ˆè¿™é‡Œ$y=V^Tx$ï¼‰ï¼Œç„¶åé€šè¿‡æ±‚è§£$\\Sigma y=U^Tb$æ¥æ‰¾åˆ°$y$ï¼Œè¿›ä¸€æ­¥æ±‚å¾—$x=Vy$ã€‚ é€‚ç”¨æ€§ï¼šSVDæ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¥‡å¼‚çŸ©é˜µæˆ–çŸ©é˜µç§©ä¸æ»¡çš„æƒ…å†µï¼Œå› ä¸ºå®ƒå…è®¸è®¡ç®—ä¼ªé€†çŸ©é˜µ$A^+$ï¼Œå³ä½¿åœ¨$A$ä¸å¯é€†çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ‰¾åˆ°æœ€å°äºŒä¹˜è§£æˆ–æœ€å°èŒƒæ•°è§£ã€‚ è¿­ä»£æ–¹æ³•æ±‚è§£ åŸç†ï¼šè¿­ä»£æ–¹æ³•æ˜¯ä»ä¸€ä¸ªåˆå§‹ä¼°è®¡å¼€å§‹ï¼Œé€šè¿‡é‡å¤åº”ç”¨è¿­ä»£å…¬å¼æ¥é€æ­¥é€¼è¿‘æ–¹ç¨‹çš„è§£ã€‚å¸¸è§çš„è¿­ä»£æ–¹æ³•åŒ…æ‹¬é›…å¯æ¯”æ–¹æ³•ã€é«˜æ–¯-èµ›å¾·å°”æ–¹æ³•å’Œå…±è½­æ¢¯åº¦æ³•ç­‰ã€‚ æ±‚è§£è¿‡ç¨‹ï¼šæ ¹æ®å…·ä½“çš„è¿­ä»£å…¬å¼ï¼Œæ¯ä¸€æ­¥éƒ½åŸºäºå‰ä¸€æ­¥çš„ç»“æœæ¥æ›´æ–°è§£çš„ä¼°è®¡å€¼ï¼Œç›´è‡³æ»¡è¶³æŸä¸ªç»ˆæ­¢æ¡ä»¶ï¼ˆå¦‚è§£çš„å˜åŒ–å°äºæŸä¸ªé˜ˆå€¼ï¼‰ã€‚ é€‚ç”¨æ€§ï¼šè¿­ä»£æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºå¤§è§„æ¨¡ç¨€ç–çŸ©é˜µçš„ç³»ç»Ÿï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸ä¸éœ€è¦çŸ©é˜µåˆ†è§£ï¼Œè€ŒçŸ©é˜µåˆ†è§£åœ¨å¤§è§„æ¨¡é—®é¢˜ä¸Šå¯èƒ½éå¸¸æ˜‚è´µã€‚ 2.é«˜æ–¯åˆ†å¸ƒ é«˜æ–¯åˆ†å¸ƒæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä¸€ç»´å½¢å¼æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿå®ƒçš„é«˜ç»´å½¢å¼æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\né«˜æ–¯åˆ†å¸ƒï¼Œä¹Ÿç§°ä¸ºæ­£æ€åˆ†å¸ƒï¼Œé«˜æ–¯åˆ†å¸ƒå¯ä»¥è¢«è§†ä¸ºæè¿°è‡ªç„¶å’Œäººä¸ºç°è±¡ä¸­éšæœºè¯¯å·®çš„ç†æƒ³æ¨¡å‹ï¼Œå…¶æ™®éæ€§æ¥æºäºä¸­å¿ƒæé™å®šç†ï¼ˆCentral Limit Theorem, CLTï¼‰ï¼Œè¿™ä¸ªå®šç†è¯´æ˜äº†è®¸å¤šå°æ•ˆåº”çš„ç´¯ç§¯å¯ä»¥äº§ç”Ÿé«˜æ–¯åˆ†å¸ƒçš„ç°è±¡ï¼Œå…·ä½“è€Œè¨€å°±æ˜¯ï¼šâ€œå¤§é‡ç›¸äº’ç‹¬ç«‹ä¸”åˆ†å¸ƒç›¸åŒçš„éšæœºå˜é‡ä¹‹å’Œè¶‹å‘äºæœä»æ­£æ€åˆ†å¸ƒï¼Œæ— è®ºåŸå§‹éšæœºå˜é‡çš„åˆ†å¸ƒå¦‚ä½•ã€‚â€\né«˜æ–¯åˆ†å¸ƒçš„ä¸€ç»´å½¢å¼ ä¸€ç»´é«˜æ–¯åˆ†å¸ƒï¼ˆæˆ–ç®€ç§°ä¸ºæ­£æ€åˆ†å¸ƒï¼‰çš„æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š\n$$ f(x | \\mu, \\sigma^2) = \\frac{1}{\\sqrt{2\\pi\\sigma^2}} \\exp\\left(-\\frac{(x-\\mu)^2}{2\\sigma^2}\\right) $$\nå…¶ä¸­ï¼Œ$\\mu$æ˜¯åˆ†å¸ƒçš„å‡å€¼ï¼Œ$\\sigma^2$æ˜¯æ–¹å·®ï¼Œ$\\sigma$æ˜¯æ ‡å‡†å·®ã€‚è¿™ä¸ªå…¬å¼æè¿°äº†åœ¨ç»™å®šå‡å€¼$\\mu$å’Œæ–¹å·®$\\sigma^2$çš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡$X$å–ç‰¹å®šå€¼$x$çš„æ¦‚ç‡å¯†åº¦ã€‚å›¾å½¢ä¸Šï¼Œä¸€ç»´é«˜æ–¯åˆ†å¸ƒæ˜¯ä¸€ä¸ªå¯¹ç§°çš„é’Ÿå½¢æ›²çº¿ï¼Œå…¶ä¸­å¿ƒä½äºå‡å€¼$\\mu$ï¼Œæ›²çº¿çš„å®½åº¦ç”±æ ‡å‡†å·®$\\sigma$å†³å®šã€‚\né«˜æ–¯åˆ†å¸ƒçš„é«˜ç»´å½¢å¼ é«˜ç»´é«˜æ–¯åˆ†å¸ƒï¼Œæˆ–å¤šå˜é‡é«˜æ–¯åˆ†å¸ƒï¼Œæ˜¯ä¸€ç»´é«˜æ–¯åˆ†å¸ƒåœ¨å¤šç»´ç©ºé—´ä¸­çš„æ¨å¹¿ã€‚å…¶æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š\n$$ f(\\mathbf{x} | \\boldsymbol{\\mu}, \\Sigma) = \\frac{1}{\\sqrt{(2\\pi)^k |\\Sigma|}} \\exp\\left(-\\frac{1}{2}(\\mathbf{x}-\\boldsymbol{\\mu})^T \\Sigma^{-1} (\\mathbf{x}-\\boldsymbol{\\mu})\\right) $$\nå…¶ä¸­ï¼Œ$\\mathbf{x}$æ˜¯ä¸€ä¸ª$k$ç»´éšæœºå‘é‡ï¼Œ$\\boldsymbol{\\mu}$æ˜¯å‡å€¼å‘é‡ï¼Œ$\\Sigma$æ˜¯åæ–¹å·®çŸ©é˜µï¼Œ$|\\Sigma|$æ˜¯åæ–¹å·®çŸ©é˜µçš„è¡Œåˆ—å¼ã€‚é«˜ç»´é«˜æ–¯åˆ†å¸ƒçš„å›¾å½¢æ˜¯åœ¨å¤šç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªâ€œå±±å³°â€ï¼Œå…¶ä¸­å¿ƒä½äºå‡å€¼å‘é‡$\\boldsymbol{\\mu}$ï¼Œâ€œå±±å³°â€çš„å½¢çŠ¶å’Œæ–¹å‘ç”±åæ–¹å·®çŸ©é˜µ$\\Sigma$å†³å®šã€‚\nåæ–¹å·®æ˜¯è¡¡é‡ä¸¤ä¸ªéšæœºå˜é‡è”åˆå˜åŒ–è¶‹åŠ¿çš„åº¦é‡ã€‚å¦‚æœä¸¤ä¸ªå˜é‡çš„å¢å‡è¶‹åŠ¿ç›¸åŒï¼ˆå³ä¸€ä¸ªå˜é‡å¢åŠ æ—¶ï¼Œå¦ä¸€ä¸ªä¹Ÿå¢åŠ ï¼‰ï¼Œåˆ™å®ƒä»¬çš„åæ–¹å·®ä¸ºæ­£ï¼›å¦‚æœä¸€ä¸ªå˜é‡å¢åŠ æ—¶å¦ä¸€ä¸ªå‡å°‘ï¼Œåˆ™åæ–¹å·®ä¸ºè´Ÿã€‚\nå¯¹äºä¸¤ä¸ªéšæœºå˜é‡$X$å’Œ$Y$ï¼Œåæ–¹å·®å®šä¹‰ä¸º$Cov(X, Y) = E[(X - \\mu_X)(Y - \\mu_Y)]$ï¼Œå…¶ä¸­$\\mu_X$å’Œ$\\mu_Y$åˆ†åˆ«æ˜¯$X$å’Œ$Y$çš„å‡å€¼ï¼Œ$E$è¡¨ç¤ºæœŸæœ›å€¼æ“ä½œã€‚\n3.C++åŸºæœ¬çŸ¥è¯† C++ä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼ŸSTLæ˜¯ä»€ä¹ˆï¼Ÿæ¨¡ç‰ˆåˆæ˜¯ä»€ä¹ˆï¼Ÿ\nï¼ˆå°†åŸºæœ¬å¸¸ç”¨çš„ä¸¾ä¾‹å‡ºæ¥è¿›è¡Œè¯´æ˜ï¼‰\nC++11çš„æ–°ç‰¹æ€§ä»¥åŠå…¶ä»–æ ‡å‡†\nå¯¹äºCå’ŒC++ï¼Œæˆ‘è§‰å¾—éœ€è¦ç³»ç»Ÿçš„è¯¾ç¨‹æ¥å­¦ä¹ è¡¥å……ï¼Œè¾¹ç”¨è¾¹å­¦æ˜¯æŒç»­çš„ï¼Œå…ˆæ‰“å¥½åŸºç¡€ï¼Œè¾¹å­¦è¾¹æˆé•¿æ‰æ›´å¥½\nä»¥ä¸‹åªæ˜¯å¯¹è¿™ä¸ªå›ç­”çš„ç®€è¦å›ç­”ï¼ˆä¸¾ä¾‹è¯´æ˜ï¼‰\nç±»ï¼ˆClassï¼‰ ç±»æ˜¯C++ä¸­ç”¨äºæ•°æ®å°è£…å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºæœ¬æ„å»ºå—ã€‚å®ƒå®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹çš„è“å›¾ï¼ŒåŒ…æ‹¬æ•°æ®æˆå‘˜ï¼ˆå±æ€§ï¼‰å’Œæˆå‘˜å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼Œç”¨äºæ“ä½œè¿™äº›æ•°æ®ã€‚\nclass Car { public: Car(int y, const std::string\u0026amp; m) : year(y), model(m) {} void display() const { std::cout \u0026lt;\u0026lt; \u0026#34;Year: \u0026#34; \u0026lt;\u0026lt; year \u0026lt;\u0026lt; \u0026#34;, Model: \u0026#34; \u0026lt;\u0026lt; model \u0026lt;\u0026lt; std::endl; } private: int year; std::string model; }; æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ STLæ˜¯ä¸€ç»„æ¨¡æ¿åŒ–çš„é€šç”¨ç±»å’Œå‡½æ•°çš„é›†åˆï¼Œæä¾›äº†å¸¸è§çš„æ•°æ®ç»“æ„ï¼ˆå¦‚å‘é‡ã€åˆ—è¡¨ã€é˜Ÿåˆ—ç­‰ï¼‰å’Œç®—æ³•ï¼ˆå¦‚æ’åºã€æœç´¢ç­‰ï¼‰ã€‚STLçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†åŒ…æ‹¬ï¼š\nå®¹å™¨ï¼šå­˜å‚¨æ•°æ®çš„æ•°æ®ç»“æ„ã€‚ä¾‹å¦‚std::vectorã€std::listã€std::mapç­‰ã€‚ ç®—æ³•ï¼šæ“ä½œæ•°æ®çš„å‡½æ•°ï¼Œä¾‹å¦‚std::sortã€std::findã€‚ è¿­ä»£å™¨ï¼šæä¾›å¯¹å®¹å™¨ä¸­å…ƒç´ çš„è®¿é—®æ–¹å¼ã€‚ #include \u0026lt;vector\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;iostream\u0026gt; int main() { std::vector\u0026lt;int\u0026gt; vec = {4, 1, 3, 5, 2}; std::sort(vec.begin(), vec.end()); for(int i : vec) { std::cout \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } } æ¨¡æ¿ï¼ˆTemplateï¼‰ æ¨¡æ¿å…è®¸åœ¨ä¸æŒ‡å®šå…·ä½“ç±»å‹çš„æƒ…å†µä¸‹ç¼–å†™ä»£ç ã€‚å®ƒä»¬ä½¿å¾—å¯ä»¥åˆ›å»ºæ³›å‹ç±»å’Œå‡½æ•°ï¼Œä½¿ä»£ç æ›´åŠ çµæ´»å’Œå¯é‡ç”¨ã€‚\ntemplate \u0026lt;typename T\u0026gt; T add(T a, T b) { return a + b; } // ä½¿ç”¨æ¨¡æ¿å‡½æ•° int result = add\u0026lt;int\u0026gt;(1, 2); C++11/14/17çš„æ–°ç‰¹æ€§ä¸¾ä¾‹ C++11 è‡ªåŠ¨ç±»å‹æ¨æ–­ï¼ˆautoï¼‰ï¼šè®©ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ã€‚ åŸºäºèŒƒå›´çš„forå¾ªç¯ï¼šç®€åŒ–äº†é›†åˆçš„éå†ã€‚ æ™ºèƒ½æŒ‡é’ˆï¼šå¦‚std::shared_ptrå’Œstd::unique_ptrï¼Œç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚ Lambdaè¡¨è¾¾å¼ï¼šå…è®¸å®šä¹‰åŒ¿åå‡½æ•°ã€‚ C++14 æ³›å‹Lambdaï¼šLambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨æ–­ã€‚ è¿”å›ç±»å‹æ¨æ–­ï¼šå‡½æ•°çš„è¿”å›ç±»å‹å¯ä»¥è¢«è‡ªåŠ¨æ¨æ–­ã€‚ C++17 ç»“æ„åŒ–ç»‘å®šï¼šå…è®¸ä»æ•°ç»„æˆ–å…ƒç»„ä¸­ä¸€æ¬¡æ€§è§£åŒ…å¤šä¸ªå€¼ã€‚ å†…è”å˜é‡ï¼šå¯¹äºå¤´æ–‡ä»¶ä¸­çš„å…¨å±€å˜é‡ï¼Œå…è®¸å¤šä¸ªæºæ–‡ä»¶ä¸­åŒ…å«åŒä¸€ä¸ªå˜é‡è€Œä¸ä¼šå¼•èµ·é‡å®šä¹‰é”™è¯¯ã€‚ std::optionalï¼šè¡¨ç¤ºä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„å€¼ã€‚ 4.Linuxå¿…å¤‡çš„æ“ä½œ Linuxå¿…å¤‡çŸ¥è¯† åŸºæœ¬å‘½ä»¤è¡Œæ“ä½œ: ç†è§£å¦‚ä½•ä½¿ç”¨å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿçš„å¯¼èˆªï¼ˆå¦‚cd, ls, pwdï¼‰ã€æ–‡ä»¶æ“ä½œï¼ˆå¦‚cp, mv, rm, mkdirï¼‰å’Œæ–‡æœ¬æ–‡ä»¶æŸ¥çœ‹ä¸ç¼–è¾‘ï¼ˆå¦‚cat, nano, vi/vimï¼‰ã€‚\nè½¯ä»¶å®‰è£…ä¸ç®¡ç†: ç†Ÿæ‚‰æ‰€ç”¨å‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å™¨ï¼Œå¦‚Ubuntuçš„apt, CentOSçš„yumæˆ–Fedoraçš„dnfï¼Œç”¨äºå®‰è£…ã€æ›´æ–°å’Œç®¡ç†è½¯ä»¶åŒ…ã€‚\næƒé™å’Œç”¨æˆ·ç®¡ç†: äº†è§£æ–‡ä»¶æƒé™ï¼ˆchmod, chownï¼‰å’Œç”¨æˆ·ç®¡ç†å‘½ä»¤ï¼ˆuseradd, usermod, groupaddï¼‰ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨sudoæ¥æ‰§è¡Œéœ€è¦è¶…çº§ç”¨æˆ·æƒé™çš„å‘½ä»¤ã€‚\nè¿›ç¨‹ç®¡ç†: å­¦ä¼šå¦‚ä½•ä½¿ç”¨ps, top, htop, kill, å’Œsystemctlæ¥æŸ¥çœ‹å’Œç®¡ç†è¿è¡Œä¸­çš„è¿›ç¨‹å’ŒæœåŠ¡ã€‚\nç½‘ç»œé…ç½®å’Œæ•…éšœæ’é™¤: æŒæ¡ä½¿ç”¨ifconfig/ipconfig, ping, netstat, ss, tracerouteç­‰å‘½ä»¤è¿›è¡Œç½‘ç»œé…ç½®å’Œæ•…éšœæ’æŸ¥ã€‚\nShellè„šæœ¬ç¼–å†™: å­¦ä¹ åŸºæœ¬çš„Shellè„šæœ¬ç¼–å†™ï¼Œä»¥è‡ªåŠ¨åŒ–æ—¥å¸¸ä»»åŠ¡ã€‚\næ–‡ä»¶ç³»ç»Ÿç®¡ç†: äº†è§£ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œç£ç›˜åˆ†åŒºï¼ˆfdisk, partedï¼‰ï¼Œä»¥åŠå¦‚ä½•æŒ‚è½½å’Œå¸è½½æ–‡ä»¶ç³»ç»Ÿï¼ˆmount, umountï¼‰ã€‚\nå®‰å…¨å’Œé˜²ç«å¢™: åŸºæœ¬çš„ç³»ç»Ÿå®‰å…¨çŸ¥è¯†ï¼Œå¦‚ä½¿ç”¨iptablesæˆ–ufwç®¡ç†é˜²ç«å¢™è§„åˆ™ï¼Œä»¥åŠä½¿ç”¨sshè¿›è¡Œå®‰å…¨è¿œç¨‹ç™»å½•ã€‚\nLinuxçš„ä¸€äº›â€œæœ¯â€ ä½¿ç”¨manå‘½ä»¤: å‡ ä¹æ‰€æœ‰Linuxå‘½ä»¤éƒ½æœ‰æ‰‹å†Œé¡µï¼Œé€šè¿‡man \u0026lt;å‘½ä»¤å\u0026gt;å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œé€‰é¡¹ã€‚ å‘½ä»¤è¡Œè‡ªåŠ¨å®Œæˆ: é€šè¿‡æŒ‰Tabé”®è‡ªåŠ¨å®Œæˆå‘½ä»¤åç§°æˆ–å‚æ•°ï¼Œè¿™ä¸ä»…å¯ä»¥åŠ å¿«å‘½ä»¤è¾“å…¥é€Ÿåº¦ï¼Œè¿˜å¯ä»¥å¸®åŠ©è®°å¿†å‘½ä»¤ã€‚ ä½¿ç”¨aproposå‘½ä»¤: å¦‚æœä¸ç¡®å®šä½¿ç”¨å“ªä¸ªå‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡apropos \u0026lt;å…³é”®è¯\u0026gt;æ¥æœç´¢ç›¸å…³çš„å‘½ä»¤ã€‚ å»ºç«‹ä¸ªäººå‘½ä»¤å¤‡å¿˜å½•: å½“å­¦ä¹ æ–°å‘½ä»¤æ—¶ï¼Œå°†å®ƒä»¬è®°å½•åœ¨ç¬”è®°ä¸­ï¼Œéšæ—¶æŸ¥é˜…ã€‚ Linuxå®‰è£…è½¯ä»¶ åœ¨ä½¿ç”¨aptï¼ˆæˆ–apt-getï¼‰åœ¨Ubuntuæˆ–åŸºäºDebiançš„ç³»ç»Ÿä¸­å®‰è£…è½¯ä»¶æ—¶ï¼Œè½¯ä»¶åŒ…é€šå¸¸ä¼šè¢«å®‰è£…åˆ°ç³»ç»Ÿçš„æ ‡å‡†ç›®å½•ä¸‹ï¼Œè¿™éµå¾ªäº†Linuxçš„æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ ‡å‡†ï¼ˆFHSï¼‰ã€‚å¤§éƒ¨åˆ†å¯æ‰§è¡Œæ–‡ä»¶ä¼šæ”¾ç½®åœ¨/usr/bin/æˆ–/usr/local/bin/ç›®å½•ä¸‹ï¼Œåº“æ–‡ä»¶é€šå¸¸ä½äº/usr/lib/æˆ–/usr/local/lib/ï¼Œè€Œé…ç½®æ–‡ä»¶å¤§å¤šæ•°åœ¨/etc/ä¸‹ã€‚æ–‡æ¡£å’Œç¤ºä¾‹æ–‡ä»¶å¯èƒ½ä½äº/usr/share/doc/ã€‚\nå¦‚ä½•å®‰è£…è½¯ä»¶ å¦‚æœä½ åªæ˜¯æ¨¡ç³ŠçŸ¥é“æŸä¸ªè½¯ä»¶åŒ…çš„åå­—ï¼Œå¯ä»¥ä½¿ç”¨aptæä¾›çš„æœç´¢åŠŸèƒ½æ¥æŸ¥æ‰¾æ­£ç¡®çš„è½¯ä»¶åŒ…åã€‚ä»¥ä¸‹æ˜¯æ­¥éª¤å’Œç¤ºä¾‹ï¼Œä»¥Eigenè¿™ä¸ªæ•°å­¦åº“ä¸ºä¾‹ï¼š\næ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ï¼šé¦–å…ˆï¼Œæœ€å¥½æ›´æ–°æœ¬åœ°è½¯ä»¶åŒ…åˆ—è¡¨ï¼Œä»¥ç¡®ä¿æœç´¢å’Œå®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„è½¯ä»¶ã€‚åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š\nsudo apt update æœç´¢è½¯ä»¶åŒ…ï¼šå¦‚æœä¸ç¡®å®šè½¯ä»¶åŒ…çš„ç¡®åˆ‡åç§°ï¼Œå¯ä»¥ä½¿ç”¨apt-cache searchå‘½ä»¤è¿›è¡Œæœç´¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æœç´¢Eigenï¼Œå¯ä»¥è¿è¡Œï¼š\napt-cache search eigen è¿™å°†åˆ—å‡ºæ‰€æœ‰ä¸â€œeigenâ€ç›¸å…³çš„è½¯ä»¶åŒ…ã€‚åœ¨ç»“æœä¸­ï¼Œä¼šçœ‹åˆ°å¾ˆå¤šä¸Eigenç›¸å…³çš„åŒ…ï¼Œå…¶ä¸­å¯èƒ½åŒ…æ‹¬å®é™…çš„Eigenåº“åŒ…å’Œå…¶ä»–ç›¸å…³åŒ…ã€‚\nå®‰è£…è½¯ä»¶åŒ…ï¼šä¸€æ—¦ä½ æ‰¾åˆ°äº†æƒ³è¦å®‰è£…çš„ç¡®åˆ‡è½¯ä»¶åŒ…åç§°ï¼Œå°±å¯ä»¥ä½¿ç”¨apt-get installå‘½ä»¤è¿›è¡Œå®‰è£…ã€‚å¦‚æœç»“æœæ˜¾ç¤ºEigençš„å¼€å‘åŒ…æ˜¯libeigen3-devï¼ˆè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„åŒ…åï¼Œç”¨äºåŒ…å«Eigenåº“çš„å¼€å‘æ–‡ä»¶ï¼‰ï¼Œå°±å¯ä»¥è¿è¡Œï¼š\nsudo apt-get install libeigen3-dev è¿™æ¡å‘½ä»¤ä¼šå®‰è£…Eigenåº“åŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚\nå¦‚ä½•æ‰¾åˆ°å®‰è£…çš„è½¯ä»¶ å¦‚æœæƒ³çŸ¥é“aptå®‰è£…çš„è½¯ä»¶å…·ä½“æ”¾åœ¨å“ªé‡Œï¼Œå¯ä»¥ä½¿ç”¨dpkg -Lå‘½ä»¤æ¥åˆ—å‡ºè½¯ä»¶åŒ…å®‰è£…çš„æ‰€æœ‰æ–‡ä»¶çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œè¦æ‰¾åˆ°libeigen3-devå®‰è£…çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯ä»¥è¿è¡Œï¼š\ndpkg -L libeigen3-dev è¿™å°†åˆ—å‡ºæ‰€æœ‰ç”±è¯¥è½¯ä»¶åŒ…å®‰è£…çš„æ–‡ä»¶å’Œç›®å½•çš„è·¯å¾„ï¼ŒåŒ…æ‹¬åº“æ–‡ä»¶ã€å¤´æ–‡ä»¶ã€æ–‡æ¡£ç­‰ã€‚\nâœ¨Linuxçš„æ–‡ä»¶ç³»ç»Ÿ Linuxçš„æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ ‡å‡†ï¼ˆFHS, Filesystem Hierarchy Standardï¼‰å®šä¹‰äº†æ“ä½œç³»ç»Ÿä¸­ç›®å½•å’Œç›®å½•å†…å®¹çš„æ ‡å‡†å¸ƒå±€ã€‚è¿™ç§æ ‡å‡†åŒ–è®¾è®¡ä½¿å¾—å¼€å‘è€…å’Œç”¨æˆ·èƒ½å¤Ÿé¢„æµ‹åœ¨ä»»ä½•åŸºäºLinuxçš„ç³»ç»Ÿä¸Šæ‰¾åˆ°ç‰¹å®šç±»å‹æ–‡ä»¶çš„ä½ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦ç›®å½•åŠå…¶ç”¨é€”çš„ç®€è¦è¯´æ˜ï¼š\næ ¹ç›®å½• / åœ¨Linuxä¸­ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•éƒ½ä»æ ¹ç›®å½•å¼€å§‹ã€‚è¿™æ˜¯æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„èµ·ç‚¹ã€‚\n/bin è¿™ä¸ªç›®å½•åŒ…å«æ‰§è¡Œæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ç³»ç»Ÿå¯åŠ¨å’Œè¿è¡Œæ‰€å¿…éœ€çš„ï¼ŒåŒæ—¶ä¹Ÿå­˜æ”¾äº†ç”¨æˆ·å¸¸ç”¨çš„å‘½ä»¤ï¼ˆå¦‚ls, cpç­‰ï¼‰æ‰€ä¾èµ–çš„æ‰§è¡Œæ–‡ä»¶ã€‚\nç”¨ä¾‹ï¼šå­˜æ”¾åŸºæœ¬çš„å‘½ä»¤ï¼Œå¦‚grep, echo, sleepã€‚è¿™äº›å‘½ä»¤åœ¨å•ç”¨æˆ·æ¨¡å¼ä¸‹æˆ–ç´§æ€¥æ¢å¤æ—¶ä¹Ÿå¿…é¡»å¯ç”¨ã€‚\n/boot åŒ…å«å¯åŠ¨Linuxç³»ç»Ÿæ‰€éœ€çš„æ–‡ä»¶ï¼Œæ¯”å¦‚Linuxå†…æ ¸ï¼ˆvmlinuzï¼‰ï¼Œå¼•å¯¼åŠ è½½ç¨‹åºï¼ˆGRUBæˆ–LILOï¼‰çš„é…ç½®æ–‡ä»¶ç­‰ã€‚\n/dev è¿™ä¸ªç›®å½•ä¸‹åŒ…å«è®¾å¤‡æ–‡ä»¶ã€‚Linuxå°†è®¾å¤‡è§†ä¸ºæ–‡ä»¶ï¼Œè¿™äº›è®¾å¤‡æ–‡ä»¶ä»£è¡¨ç³»ç»Ÿä¸­çš„ç¡¬ä»¶ç»„ä»¶ã€‚\n/etc åŒ…å«ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶åªèƒ½è¢«æ ¹ç”¨æˆ·æˆ–å…·æœ‰é€‚å½“æƒé™çš„ç”¨æˆ·ä¿®æ”¹ã€‚è¿™é‡ŒåŒ…æ‹¬ç³»ç»Ÿå¯åŠ¨è„šæœ¬ã€ç½‘ç»œé…ç½®æ–‡ä»¶ç­‰ã€‚\nç”¨ä¾‹ï¼šåŒ…å«å¦‚/etc/passwdï¼ˆç”¨æˆ·è´¦æˆ·ä¿¡æ¯ï¼‰å’Œ/etc/fstabï¼ˆæ–‡ä»¶ç³»ç»ŸæŒ‚è½½çš„é™æ€ä¿¡æ¯ï¼‰ç­‰å…³é”®é…ç½®æ–‡ä»¶ã€‚\n/home ç”¨æˆ·çš„ä¸ªäººç›®å½•ä½äºæ­¤å¤„ã€‚æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªä¸å…¶ç”¨æˆ·åå¯¹åº”çš„ç›®å½•ï¼Œç”¨äºå­˜å‚¨ä¸ªäººæ–‡ä»¶ã€é…ç½®ç­‰ã€‚\n/lib åŒ…å«ç³»ç»Ÿæœ€åŸºæœ¬çš„å…±äº«åº“å’Œå†…æ ¸æ¨¡å—ã€‚è¿™äº›åº“æ”¯æŒä½äº/binå’Œ/sbinç›®å½•ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\nç”¨ä¾‹ï¼šå­˜æ”¾åŠ¨æ€é“¾æ¥åº“ï¼ˆå¦‚libc.so.6ï¼‰ï¼Œå®ƒä»¬æ˜¯æ‰§è¡Œ/binå’Œ/sbinä¸‹å‘½ä»¤æ‰€å¿…éœ€çš„ã€‚\n/mediaå’Œ/mnt /mediaé€šå¸¸ç”¨äºæŒ‚è½½å¯ç§»åŠ¨åª’ä½“è®¾å¤‡ï¼Œå¦‚CD-ROMsã€USBé©±åŠ¨å™¨ç­‰ï¼Œè€Œ/mntåˆ™ç”¨ä½œä¸´æ—¶æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿçš„ç›®çš„ã€‚\n/opt ç”¨äºå®‰è£…â€œå¯é€‰â€çš„è½¯ä»¶åº”ç”¨ã€‚è¿™äº›æ˜¯éåŸºæœ¬ç³»ç»Ÿè½¯ä»¶ï¼Œé€šå¸¸ä½œä¸ºæ•´ä¸ªåº”ç”¨ç¨‹åºå®‰è£…åœ¨è¿™é‡Œã€‚\nç”¨ä¾‹ï¼šç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¦‚Google Chromeæˆ–æŸäº›å•†ä¸šè½¯ä»¶å¯èƒ½ä¼šå®‰è£…åœ¨è¿™é‡Œï¼Œæ¯ä¸ªåº”ç”¨é€šå¸¸æœ‰å…¶è‡ªå·±çš„å­ç›®å½•ã€‚\n/proc è¿™æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›å¯¹å†…æ ¸å’Œè¿›ç¨‹ä¿¡æ¯çš„æ¥å£ã€‚å®ƒå¹¶ä¸å ç”¨ç£ç›˜ç©ºé—´ï¼Œè€Œæ˜¯åœ¨å†…å­˜ä¸­åŠ¨æ€ç”Ÿæˆã€‚\n/root è¿™æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿå°±æ˜¯rootç”¨æˆ·çš„å®¶ç›®å½•ã€‚è¿™ä¸/homeç›®å½•åˆ†å¼€ï¼Œä¸ºäº†å®‰å…¨æ€§å’Œç®¡ç†æ–¹ä¾¿ã€‚\n/sbin åŒ…å«ç³»ç»Ÿç®¡ç†å’Œç»´æŠ¤çš„å¿…éœ€çš„æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™äº›å‘½ä»¤é€šå¸¸ç”±rootç”¨æˆ·è¿è¡Œï¼Œå¦‚fdisk, ifconfig, swaponç­‰ã€‚\n/tmp ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å­˜å‚¨åŒºåŸŸã€‚ç³»ç»Ÿå’Œç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚é€šå¸¸ï¼Œæ­¤ç›®å½•åœ¨ç³»ç»Ÿé‡å¯æ—¶ä¼šè¢«æ¸…ç©ºã€‚\n/usr åŒ…å«ç”¨æˆ·ç¨‹åºå’Œæ•°æ®ã€‚å®ƒæ˜¯Unix System Resourcesçš„ç¼©å†™ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œ/usrç›®å½•å·²ç»æˆä¸ºå­˜å‚¨å…±äº«ç³»ç»Ÿèµ„æºçš„ä¸»è¦ç›®å½•ã€‚\n/usr/binï¼šåŒ…å«ç”¨æˆ·å®‰è£…çš„éç³»ç»Ÿå¿…éœ€çš„æ‰§è¡Œæ–‡ä»¶ã€‚ /usr/libï¼šç±»ä¼¼/libï¼Œä½†æ˜¯ä¸º/usr/binä¸‹çš„ç¨‹åºæä¾›åº“æ”¯æŒã€‚ /usr/localï¼šç”¨äºç³»ç»Ÿç®¡ç†å‘˜å®‰è£…æœ¬åœ°è½¯ä»¶ï¼Œä¿æŒä¸ç”±åŒ…ç®¡ç†å™¨å®‰è£…çš„è½¯ä»¶çš„åˆ†ç¦»ã€‚ ç”¨ä¾‹ï¼š/usr/binä¸‹å¯èƒ½ä¼šæœ‰å¦‚python, gccç­‰ç”¨æˆ·çº§ç¨‹åºã€‚ /var åŒ…å«ç»å¸¸å˜åŒ–çš„æ–‡ä»¶ï¼Œå¦‚æ—¥å¿—æ–‡ä»¶ã€æ‰“å°é˜Ÿåˆ—ã€é‚®ä»¶ç­‰ã€‚\n/var/logï¼šå­˜æ”¾ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ï¼Œå¦‚/var/log/syslogæˆ–/var/log/apache2ã€‚ /var/mailï¼šå­˜å‚¨ç”¨æˆ·çš„é‚®ä»¶ã€‚ /var/cacheï¼šç”¨äºå­˜æ”¾åº”ç”¨ç¨‹åºç¼“å­˜æ•°æ®ã€‚ ç”¨ä¾‹ï¼šç³»ç»Ÿç®¡ç†å‘˜å¯èƒ½éœ€è¦å®šæœŸæ£€æŸ¥/var/logæ¥ç›‘æ§ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„æ´»åŠ¨ã€‚ /srv ç”¨äºå­˜æ”¾æœåŠ¡æä¾›çš„æ•°æ®ï¼Œä¾‹å¦‚WebæœåŠ¡å™¨å’ŒFTPæœåŠ¡å™¨çš„æ•°æ®æ–‡ä»¶ã€‚\nç”¨ä¾‹ï¼šå¦‚æœæ‚¨è¿è¡Œä¸€ä¸ªWebæœåŠ¡ï¼Œç½‘ç«™çš„æ•°æ®å¯èƒ½ä½äº/srv/wwwã€‚\n/sys ä¸/procç›¸ä¼¼ï¼Œ/sysæ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›äº†å†…æ ¸ã€è®¾å¤‡å’Œé©±åŠ¨ç¨‹åºçš„æ¥å£ã€‚\nç”¨ä¾‹ï¼š/sysæä¾›äº†ä¸€ç§æ›´åŠ ç»“æ„åŒ–çš„æ–¹å¼æ¥æµè§ˆè®¾å¤‡å’Œé©±åŠ¨ç¨‹åºçš„ä¿¡æ¯ï¼Œå¦‚æŸ¥è¯¢ç‰¹å®šUSBè®¾å¤‡çš„ä¿¡æ¯ã€‚\n/etc/cron.* è¿™äº›ç›®å½•ï¼ˆcron.daily, cron.hourly, cron.monthly, cron.weeklyï¼‰ç”¨äºå­˜æ”¾å®šæ—¶æ‰§è¡Œçš„è„šæœ¬ã€‚\nç”¨ä¾‹ï¼šè‡ªåŠ¨å¤‡ä»½è„šæœ¬å¯èƒ½æ”¾åœ¨/etc/cron.dailyä¸­ï¼Œä»¥ç¡®ä¿æ¯å¤©æ‰§è¡Œã€‚\n5.Vimå¿…é¡»ä¼šçš„å‡ ä¸ªæ“ä½œ å·²ç»ä¸åœ¨æ‰§ç€äºç¾åŒ–Vimçš„å„ç§æ’ä»¶äº†ï¼ˆå› ä¸ºå®Œå…¨å¯ä»¥ç”¨æ›´å¥½çš„CLionã€VSCodeä¹‹ç±»ï¼‰\nâ€¼ï¸ä½†æ˜¯å‘½ä»¤è¡Œä¸­Vimæœ€æ–¹ä¾¿ï¼Œä½†åªè¦çŸ¥é“æœ€åŸºç¡€çš„æ“ä½œå°±è¶³å¤Ÿäº†ï¼šæ€ä¹ˆå¢åˆ æ”¹æŸ¥ï¼Œæ€ä¹ˆå¤åˆ¶ç²˜è´´ã€‚\nVimæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¸¸è¢«ç”¨äºç¼–ç¨‹å’Œè„šæœ¬ç¼–è¾‘ã€‚å®ƒçš„æ“ä½œæ–¹å¼ä¸å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨æœ‰å¾ˆå¤§ä¸åŒï¼Œä¸»è¦åŸºäºé”®ç›˜å¿«æ·é”®ï¼Œåˆ†ä¸ºå¤šç§æ¨¡å¼ï¼Œæœ€ä¸»è¦çš„æ˜¯æ™®é€šæ¨¡å¼ï¼ˆNormal Modeï¼‰ã€æ’å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰ã€å‘½ä»¤æ¨¡å¼ï¼ˆCommand-Line Modeï¼‰å’Œå¯è§†æ¨¡å¼ï¼ˆVisual Modeï¼‰ã€‚ä»¥ä¸‹æ˜¯å…³äºVimçš„åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬å¢åˆ æ”¹æŸ¥ã€å¤åˆ¶ç²˜è´´ï¼Œä»¥åŠæ‰¹é‡æ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚\nVimçš„åŸºæœ¬æ“ä½œ è¿›å…¥æ’å…¥æ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰iè¿›å…¥æ’å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡å‰æ’å…¥æ–‡æœ¬ã€‚ æŒ‰aä¹Ÿå¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡åæ’å…¥æ–‡æœ¬ã€‚ æŒ‰Iåœ¨å½“å‰è¡Œé¦–è¿›å…¥æ’å…¥æ¨¡å¼ï¼ŒæŒ‰Aåœ¨å½“å‰è¡Œå°¾è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ åˆ é™¤æ–‡æœ¬ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰xåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚ æŒ‰ddåˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œã€‚ è¦åˆ é™¤ä»å½“å‰å…‰æ ‡ä½ç½®åˆ°è¡Œå°¾çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨Dã€‚ ä¿®æ”¹æ–‡æœ¬ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰råè·Ÿä¸€ä¸ªå­—ç¬¦å¯ä»¥æ›¿æ¢å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚ ä½¿ç”¨cwå¯ä»¥æ›´æ”¹å…‰æ ‡å¼€å§‹çš„å•è¯ï¼Œè¿™å°†åˆ é™¤å•è¯å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ æŸ¥æ‰¾æ–‡æœ¬ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰/åè¾“å…¥è¦æŸ¥æ‰¾çš„æ–‡å­—ï¼Œç„¶åæŒ‰Enterè¿›è¡Œæœç´¢ã€‚æŒ‰næŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼ŒæŒ‰NæŸ¥æ‰¾ä¸Šä¸€ä¸ªåŒ¹é…é¡¹ã€‚ å¤åˆ¶å’Œç²˜è´´ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰yyå¤åˆ¶å½“å‰è¡Œï¼ŒæŒ‰pç²˜è´´åˆ°å…‰æ ‡åã€‚ è¦å¤åˆ¶å¤šè¡Œï¼Œå¯ä»¥å…ˆæŒ‰2yyæ¥å¤åˆ¶ä¸¤è¡Œï¼ˆ2å¯ä»¥æ›¿æ¢ä¸ºä»»ä½•æ•°å­—ï¼Œè¡¨ç¤ºè¡Œæ•°ï¼‰ã€‚ ä½¿ç”¨å¯è§†æ¨¡å¼ï¼ˆæŒ‰vè¿›å…¥ï¼‰å¯ä»¥é€‰æ‹©ç‰¹å®šçš„æ–‡æœ¬åŒºåŸŸï¼Œç„¶åæŒ‰yå¤åˆ¶ã€‚ ç§»åŠ¨æ“ä½œ åŸºæœ¬ç§»åŠ¨ï¼šhï¼ˆå·¦ç§»ï¼‰ã€jï¼ˆä¸‹ç§»ï¼‰ã€kï¼ˆä¸Šç§»ï¼‰ã€lï¼ˆå³ç§»ï¼‰ã€‚ æŒ‰å•è¯ç§»åŠ¨ï¼š wï¼šå‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚ bï¼šå‘åç§»åŠ¨åˆ°å‰ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚ eï¼šå‘å‰ç§»åŠ¨åˆ°å½“å‰æˆ–ä¸‹ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚ æŒ‰è¡Œç§»åŠ¨ï¼š 0ï¼ˆé›¶ï¼‰ï¼šç§»åŠ¨åˆ°å½“å‰è¡Œçš„å¼€å§‹ã€‚ ^ï¼šç§»åŠ¨åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ã€‚ $ï¼šç§»åŠ¨åˆ°å½“å‰è¡Œçš„æœ«å°¾ã€‚ è·³è½¬åˆ°ç‰¹å®šè¡Œï¼š ggï¼šè·³è½¬åˆ°æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚ Gï¼šè·³è½¬åˆ°æ–‡ä»¶çš„æœ€åä¸€è¡Œã€‚ :\u0026lt;è¡Œå·\u0026gt;+Enterï¼šè·³è½¬åˆ°æ–‡ä»¶ä¸­çš„ç‰¹å®šè¡Œå·ã€‚ å±å¹•ç§»åŠ¨ï¼š Hï¼šç§»åŠ¨åˆ°å±å¹•é¡¶éƒ¨çš„è¡Œã€‚ Mï¼šç§»åŠ¨åˆ°å±å¹•ä¸­é—´çš„è¡Œã€‚ Lï¼šç§»åŠ¨åˆ°å±å¹•åº•éƒ¨çš„è¡Œã€‚ ç¿»é¡µï¼š Ctrl+fï¼šå‘å‰ç¿»ä¸€é¡µã€‚ Ctrl+bï¼šå‘åç¿»ä¸€é¡µã€‚ Ctrl+dï¼šå‘å‰ç¿»åŠé¡µã€‚ Ctrl+uï¼šå‘åç¿»åŠé¡µã€‚ å¯ä»¥ç»“åˆå‰ç½®æ•°å­—æ¥å®ç°â€œæ‰¹é‡ç§»åŠ¨â€ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ç§»åŠ¨å‘½ä»¤å‰åŠ ä¸Šä¸€ä¸ªæ•°å­—æ¥é‡å¤è¯¥å‘½ä»¤å¤šæ¬¡ï¼Œä¾‹å¦‚ï¼š\n5j è¡¨ç¤ºå‘ä¸‹ï¼ˆjï¼‰ç§»åŠ¨5è¡Œã€‚ 3w è¡¨ç¤ºå‘å‰è·³è¿‡3ä¸ªå•è¯åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚ 10k è¡¨ç¤ºå‘ä¸Šï¼ˆkï¼‰ç§»åŠ¨10è¡Œã€‚ 4$ è¡¨ç¤ºç§»åŠ¨åˆ°åé¢4è¡Œçš„æœ«å°¾ã€‚ Vimä¸å¤–éƒ¨ï¼ˆmacOSï¼‰çš„å¤åˆ¶ç²˜è´´ åœ¨macOSä¸Šï¼Œä»Vimå¤åˆ¶æ–‡æœ¬åˆ°å¤–éƒ¨ç¨‹åºï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤ä½ çš„Vimç‰ˆæœ¬æ˜¯å¦æ”¯æŒå‰ªè´´æ¿ï¼ˆclipboardï¼‰åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­è¾“å…¥vim --versionæŸ¥çœ‹ã€‚å¦‚æœçœ‹åˆ°+clipboardï¼Œåˆ™è¡¨ç¤ºæ”¯æŒå‰ªè´´æ¿åŠŸèƒ½ï¼›å¦‚æœæ˜¯-clipboardï¼Œåˆ™è¡¨ç¤ºä¸æ”¯æŒï¼Œå¯èƒ½éœ€è¦å®‰è£…æ”¯æŒå‰ªè´´æ¿çš„Vimç‰ˆæœ¬ï¼Œæ¯”å¦‚é€šè¿‡brew install vimã€‚\nå¯ç”¨å‰ªè´´æ¿æ”¯æŒï¼šç¡®ä¿Vimç‰ˆæœ¬æ”¯æŒç³»ç»Ÿå‰ªè´´æ¿ã€‚\nå¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿ï¼š\nåœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œè¦å¤åˆ¶æ•´è¡Œåˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼Œä½¿ç”¨\u0026quot;+yyã€‚ï¼ˆä¸€ä¸ªä¸€ä¸ªå­—ç¬¦æ¥æŒ‰ï¼‰ è¦å¤åˆ¶æŒ‡å®šæ–‡æœ¬ï¼Œå…ˆæŒ‰vè¿›å…¥å¯è§†æ¨¡å¼ï¼Œé€‰æ‹©éœ€è¦çš„æ–‡æœ¬ï¼Œç„¶åä½¿ç”¨\u0026quot;+yå¤åˆ¶ã€‚ ä»å¤–éƒ¨ç²˜è´´åˆ°Vimï¼šåœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨Cmd+Vï¼ˆmacOSé€šå¸¸çš„ç²˜è´´å¿«æ·é”®ï¼‰æˆ–åœ¨æ™®é€šæ¨¡å¼ä¸‹ä½¿ç”¨\u0026quot;+pæ¥ç²˜è´´å‰ªè´´æ¿çš„å†…å®¹åˆ°Vimã€‚\nä¸€äº›æŠ€å·§ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡:normå‘½ä»¤æ‰¹é‡æ‰§è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œ:norm I//ä¼šåœ¨æ‰€æœ‰é€‰ä¸­çš„è¡Œå‰æ·»åŠ //ï¼ˆæ³¨é‡Šæ‰è¿™äº›è¡Œï¼‰ã€‚\næ‰¹é‡æ›¿æ¢æ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨:så‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­æ›¿æ¢\u0026quot;old\u0026quot;ä¸º\u0026quot;new\u0026quot;ï¼Œå¯ä»¥ä½¿ç”¨:s/old/new/gã€‚\nåœ¨å¤šä¸ªè¡Œå‰æ·»åŠ å†…å®¹ï¼šå‡è®¾æƒ³åœ¨æ–‡ä»¶çš„æ¯ä¸€è¡Œå‰æ·»åŠ åºå·æˆ–ç‰¹å®šæ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨:normå‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ:5,10norm I// ä¼šåœ¨ç¬¬5è¡Œåˆ°ç¬¬10è¡Œçš„å¼€å¤´æ·»åŠ // ã€‚\nè½¬æ¢å¤§å°å†™ï¼šè¦å°†é€‰å®šè¡Œçš„æ–‡æœ¬è½¬æ¢ä¸ºå¤§å†™ï¼Œå¯ä»¥ä½¿ç”¨:normç»“åˆgUå‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ:5,10norm gU$ä¼šå°†ç¬¬5åˆ°ç¬¬10è¡Œçš„å†…å®¹è½¬æ¢ä¸ºå¤§å†™ã€‚\nå¿«é€Ÿè·³è½¬è‡³åŒ¹é…çš„æ‹¬å·ï¼šåœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨%å¯ä»¥è·³è½¬è‡³åŒ¹é…çš„æ‹¬å·ï¼Œè¿™åœ¨ç¼–è¾‘ä»£ç æ—¶éå¸¸æœ‰ç”¨ã€‚\næ’¤é”€å’Œé‡åšï¼šä½¿ç”¨uæ¥æ’¤é”€æœ€è¿‘çš„ä¸€æ¬¡æ›´æ”¹ï¼Œä½¿ç”¨Ctrl+ræ¥é‡åšè¢«æ’¤é”€çš„æ›´æ”¹ã€‚\næ‰“å¼€/å…³é—­è¡Œå·æ˜¾ç¤ºï¼šå¿«é€Ÿåˆ‡æ¢è¡Œå·æ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨:set nu!å’Œ:set rnu!æ¥åˆ†åˆ«åˆ‡æ¢ç»å¯¹è¡Œå·å’Œç›¸å¯¹è¡Œå·çš„æ˜¾ç¤ºçŠ¶æ€ã€‚\n","permalink":"https://ahaknow.com/posts/know/slam14-ch1/","summary":"ç¬¬ä¸€è®²é‡Œæ²¡æœ‰å…·ä½“éœ€è¦å¥½å¥½ç†è§£çš„éƒ¨åˆ†ï¼Œä¸è¿‡è‡ªæµ‹é¢˜ç›®é¢˜ç›®å€¼å¾—è¿‡ä¸€éã€‚ 1.çº¿æ€§æ–¹ç¨‹Ax=bçš„æ±‚è§£ æœ‰çº¿æ€§æ–¹ç¨‹$Ax=b$ï¼Œè‹¥å·²çŸ¥$A,b$ï¼Œéœ€è¦æ±‚è§£","title":"SLAMåå››è®²ç¬¬ä¸€è®²ï¼šé¢„å¤‡çŸ¥è¯†"},{"content":" å¼•å­ï¼š\næˆ‘ä»¬ç”Ÿæ´»çš„ä¸–ç•Œæ˜¯ä¸‰ç»´çš„ï¼Œåœ¨ä¸‰ç»´ä¸–ç•Œä¸­å¯¹ç‰©ä½“çš„æ„ŸçŸ¥æ‹¥æœ‰æ˜ç¡®çš„è·ç¦»æ„Ÿï¼Œæ¯”å¦‚é”®ç›˜åœ¨æ‰‹çš„å‰é¢ï¼Œæ˜¾ç¤ºå™¨åœ¨é”®ç›˜çš„å‰é¢ï¼Œé‚£ä¹ˆæ˜¾ç¤ºå™¨å°±åœ¨æ‰‹çš„æ›´å‰é¢ï¼ˆè¿™é‡Œçš„â€œå‰â€æˆ–è€…â€œåâ€å±äºè‡ªå®šä¹‰çš„ç•Œå®šï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºé”®ç›˜åœ¨æ‰‹çš„åé¢ï¼Œæ˜¾ç¤ºå™¨åœ¨æ‰‹çš„æ›´åé¢ï¼‰ï¼Œè€Œå¦‚æœé€šè¿‡ç›¸æœºå°†è¿™ä¸ªä¸‰ç»´ä¸–ç•Œä¸­çš„åœºæ™¯æ‹æˆä¸€å¼ ç…§ç‰‡ï¼Œæ­¤æ—¶ä¸‰ç»´ç©ºé—´ä¸­çš„æ‰€æœ‰è·ç¦»å±‚æ¬¡å°±ä¸€èµ·è¢«â€œæ‹â€è¿›äº†äºŒç»´å›¾åƒä¸­ï¼Œå½¢è±¡åœ°æ¯”å–»å°±æ˜¯å°†ç«‹ä½“çš„ç©ºé—´â€œå‹â€æˆä¸€å¼ äº†å¹³é¢çš„è¡¨è¾¾ï¼Œä»æ­¤è¡¨è¾¾ç©ºé—´æ·±åº¦çš„ç»´åº¦å°±ä¸¢å¤±äº†ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹åœ¨è‡ªç„¶çŠ¶æ€ä¸‹æ˜¯ä¸å¯é€†çš„ã€‚\nè€Œå½“æˆ‘ä»¬è°ˆåˆ°ä¸‰ç»´ç©ºé—´ï¼ˆThree-dimensional spaceï¼Œä»¥ä¸‹ç§°3Dï¼‰çš„è§†è§‰æ„ŸçŸ¥æ—¶ï¼Œåˆ™å¿…ç„¶ä¸æ·±åº¦ï¼ˆè·ç¦»å±‚æ¬¡æ„Ÿï¼‰è„±ä¸å¼€å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬ç”¨è§†è§‰ï¼ˆäººå¯ä»¥ç”¨çœ¼ç›+å¤§è„‘ï¼Œæœºå™¨å¯ä»¥ç”¨å›¾åƒä¼ æ„Ÿå™¨+è½¯ä»¶ç®—æ³•ï¼‰å»æ„ŸçŸ¥å‘¨å›´çš„ç¯å¢ƒæ—¶ï¼Œåªæœ‰åŒæ—¶è·å–åˆ°äº†æ·±åº¦ï¼Œæ‰æœ‰èµ„æ ¼å»è®¨è®º3Dçš„è§†è§‰æ„ŸçŸ¥ï¼Œå¦åˆ™è¿˜æ˜¯åœç•™åœ¨2Då¹³é¢å›¾åƒçš„å±‚æ¬¡ã€‚\nå› æ­¤åœ¨è®¨è®ºâ€œ3Dè§†è§‰æ„ŸçŸ¥çš„å‘å±•â€æ—¶å¯ä»¥å°†å…³æ³¨ç‚¹èšç„¦åœ¨ä¸¤å¤„ï¼š\nå¦‚ä½•æé«˜æœºå™¨è§†è§‰ç³»ç»Ÿè·å–æ·±åº¦ä¿¡æ¯çš„ç²¾åº¦å’Œå¯é æ€§ï¼Ÿï¼ˆå¦‚ä½•è·å¾—æ›´é«˜ç²¾åº¦çš„æ·±åº¦ä¿¡æ¯ï¼Ÿï¼‰ åœ¨èåˆå›¾åƒå’Œæ·±åº¦ä¿¡æ¯åï¼Œèƒ½å¤Ÿæ¨åŠ¨å“ªäº›3Dè§†è§‰æ„ŸçŸ¥æŠ€æœ¯çš„å‘å±•ï¼Ÿï¼ˆåœ¨æ‹¥æœ‰å›¾åƒå’Œæ·±åº¦ä¿¡æ¯åï¼Œæˆ‘ä»¬èƒ½ç»§ç»­åšä»€ä¹ˆï¼Ÿï¼‰ æœºå™¨è§†è§‰çš„æ·±åº¦è·å– é¦–å…ˆï¼Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯æœºå™¨çš„è§†è§‰ç³»ç»Ÿï¼Œå…³äºæœºå™¨è§†è§‰çš„å®šä¹‰ï¼Œç®€è¨€ä¹‹ï¼Œå°±æ˜¯é€šè¿‡â€œæŸäº›è®¾å¤‡â€è®©æœºå™¨èƒ½å¤Ÿâ€œçœ‹åˆ°â€å‘¨å›´çš„ç¯å¢ƒï¼Œåœ¨ä¸å…·ä½“è¿½æº¯è¿™äº›è®¾å¤‡çš„è½¯ç¡¬ä»¶å®ç°æ—¶ï¼Œæˆ‘ä»¬ä»¥â€œç›¸æœºâ€è¿™ä¸ªæ›´ä¸ºå¹¿æ³›çš„æ¦‚å¿µè¿›è¡Œä»£æ›¿ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡ç›¸æœºï¼ˆç›¸æœºå†…éƒ¨è¿˜éœ€è¦ç®—æ³•å’Œè½¯ä»¶æ”¯æŒï¼‰å¯ä»¥è®©æœºå™¨â€œçœ‹åˆ°â€è¿™ä¸ªä¸–ç•Œï¼Œè€Œç›¸æœºå®ç°çš„ä¸åŒï¼Œåˆ™å¯ä»¥è®©æœºå™¨çœ‹å¾…è¿™ä¸ªä¸–ç•Œçš„æ–¹å¼ä¹Ÿå‘ç”Ÿæ”¹å˜ã€‚\nå› æ­¤ï¼Œæ¯”è¾ƒç›´è§‚åœ°è·å–æ·±åº¦çš„æ–¹å¼æ˜¯ç›´æ¥é€šè¿‡ç›¸æœºè½¯ç¡¬ä»¶è¿™ä¸ªè½½ä½“æ¥å®ç°ï¼Œåœ¨è¿™é‡Œåªè¿›è¡Œç®€è¦çš„ä»‹ç»ï¼Œå› ä¸ºä»¥ä¸‹çš„æ¯ä¸€ç§ç›¸æœºåœ¨å…·ä½“è®¨è®ºæ—¶éƒ½éœ€è¦å¤§ç¯‡å¹…çš„å†…å®¹è¿›è¡Œç»“æ„ã€åŸç†å’Œæ–¹æ³•çš„è¯´æ˜ã€‚\nä»ç›¸æœºçš„è§’åº¦æ¥çœ‹ï¼Œè·å–å›¾åƒæ·±åº¦çš„æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»å‹ï¼š\nä¸€ç§æ˜¯é€šè¿‡ç¡¬ä»¶çš„ç‰©ç†æµ‹é‡ï¼Œæ¯”å¦‚å‘ä¸‰ç»´ç©ºé—´ä¸­å‘å°„ç‰¹æ®Šçš„å…‰æºï¼Œè¿™ä¸ªå…‰æºæ¥è§¦åˆ°ç‰©ä½“å‘ç”Ÿåå°„åå¯ä»¥å›åˆ°æ¥æ”¶è£…ç½®ï¼Œé€šè¿‡æµ‹é‡å…‰æºçš„æ¥å›ä¼ æ’­æ—¶é—´è·å¾—è·ç¦»ä¿¡æ¯çš„é£è¡Œæ—¶é—´åŸç†ï¼ˆTime of Flightï¼ŒTOFï¼‰çš„æ·±åº¦ç›¸æœºï¼Œä»¥åŠå‘ä¸‰ç»´ç©ºé—´ä¸­æŠ•å°„å…·æœ‰ç‰¹æ®Šå½¢çŠ¶çš„å…‰æºï¼Œé€šè¿‡æµ‹é‡è®¡ç®—è¿™äº›å…‰æºåœ¨ç‰©ä½“è¡¨é¢å‘ç”Ÿçš„å½¢å˜æ¥è·å¾—è·ç¦»ä¿¡æ¯çš„ç»“æ„å…‰åŸç†ï¼ˆStructured Lightï¼‰çš„æ·±åº¦ç›¸æœºï¼› å¦ä¸€ç§åˆ™æ˜¯é€šè¿‡å›¾åƒä¸­çš„å‡ ä½•å­¦å…³ç³»è®¡ç®—å¾—åˆ°ï¼Œä¸“ä¸šçš„è¡¨è¾¾æ˜¯å¤šè§†å›¾å‡ ä½•ï¼ˆMultiple View Geometryï¼‰ï¼Œå…·ä½“çš„å®ç°å¯ä»¥æ˜¯ä¸€ä¸ªç›¸æœºæ‹æ‘„çš„å¤šä¸ªè¿ç»­åœºæ™¯å›¾åƒï¼Œæˆ–è€…æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªç›¸æœºæ‹æ‘„çš„åŒä¸€ä¸ªåœºæ™¯å›¾åƒï¼Œå…¶ä¸­è¾ƒä¸ºæˆç†Ÿçš„æ˜¯é€šè¿‡ä¸¤ä¸ªå¹³è¡Œç›¸æœºå®ç°çš„åŒç›®ç«‹ä½“è§†è§‰ï¼ˆBinocular Stereo Visionï¼‰ç›¸æœºã€‚ å…·ä½“åˆ°æ¯ä¸€ç§ç±»å‹çš„æ·±åº¦ç›¸æœºï¼Œéƒ½æœ‰å…¶å„è‡ªçš„å…³æ³¨ç‚¹æ¥æé«˜ç›¸æœºè·å–æ·±åº¦çš„ç²¾åº¦ï¼Œåœ¨æ­¤æš‚ä¸æ·±ç©¶ã€‚ä»å¦ä¸€ä¸ªè§’åº¦å‡ºå‘ï¼Œå¦‚æœæ²¡æœ‰è¿™äº›é¢å¤–çš„è½¯ç¡¬ä»¶æ”¯æŒï¼Œåªèƒ½é€šè¿‡ç›¸æœºæ‹æ‘„äºŒç»´å›¾åƒï¼Œæ€ä¹ˆå¾—åˆ°å›¾åƒçš„æ·±åº¦ä¿¡æ¯å‘¢ï¼Ÿ\nåœ¨å½“ä¸‹èƒ½å¤Ÿé€šè¿‡æ•°æ®é©±åŠ¨è§£å†³å¤æ‚é—®é¢˜çš„å¤§èƒŒæ™¯ä¸‹ï¼Œåˆ©ç”¨æœºå™¨å­¦ä¹ ï¼ˆæ›´å…·ä½“ä¸€ç‚¹æ˜¯æ·±åº¦å­¦ä¹ ï¼‰ç›´æ¥ä»äºŒç»´å›¾åƒä¸­ä¼°è®¡å‡ºæ·±åº¦æ˜¯ä¸€ç§æŠ€æœ¯è¶‹åŠ¿ï¼Œæ¯”å¦‚åœ¨paperswithcode.comä¸Šæ£€ç´¢â€œDepth Estimationâ€å¯ä»¥çœ‹åˆ°å¾ˆå¤šå¼€æºçš„ç®—æ³•å’Œæ¨¡å‹ï¼Œå¹¶ä¸”æ‰€ä¾èµ–çš„æ•°æ®ä¹Ÿä¸å†é™åˆ¶ï¼Œåˆ©ç”¨å•å¼ å›¾åƒæˆ–è€…å¤šå¼ å›¾åƒéƒ½æœ‰ç›¸åº”çš„æ–¹æ³•ã€‚å› æ­¤æ›´ç›´è§‚çš„æƒ³æ³•å°±æ˜¯åœ¨ç›¸æœºä¸­åµŒå…¥æ·±åº¦å­¦ä¹ æŠ€æœ¯ç›´æ¥ä»å›¾åƒä¸­ä¼°è®¡å‡ºæ·±åº¦ä¿¡æ¯ï¼Œä»è€Œä¹Ÿå°±é¿å…äº†é‡‡ç”¨é¢å¤–ç¡¬ä»¶è®¾å¤‡æ‰€éœ€è¦çš„æ ¡å‡†ã€æ ‡å®šç­‰ç¹æ‚çš„ç»´æŠ¤å·¥ä½œã€‚\nåœ¨æ·±åº¦å­¦ä¹ é‡Œæœ‰ä¸€æ¡åŸºæœ¬è®¤çŸ¥æ˜¯ï¼šâ€œæ•°æ®å†³å®šäº†æ·±åº¦å­¦ä¹ çš„ä¸Šé™ï¼Œè€Œæ¨¡å‹åªæ˜¯é€¼è¿‘è¿™ä¸ªä¸Šé™è€Œå·²â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæƒ³è¦é€šè¿‡æ·±åº¦å­¦ä¹ å®Œå–„åœ°è§£å†³ç›´æ¥çš„å›¾åƒæ·±åº¦ä¼°è®¡é—®é¢˜ï¼Œä¸€ä¸ªå¥½çš„æ¨¡å‹å›ºç„¶é‡è¦ï¼Œä½†æ›´ä¸ºå…³é”®æ˜¯æ‹¥æœ‰é©±åŠ¨è¿™ä¸ªæ¨¡å‹å®Œå¥½è¿è½¬çš„æ•°æ®ç‡ƒæ–™ï¼Œå¹¶ä¸”æ•°æ®çš„è´¨é‡å†³å®šäº†æ¨¡å‹æ•ˆæœï¼Œé‚£ä¹ˆæ€æ ·è·å¾—è¿™äº›é«˜è´¨é‡çš„æ•°æ®å‘¢ï¼Ÿ\nä¸Šæ–‡ä»‹ç»çš„é€šè¿‡ç¡¬ä»¶ç‰©ç†æµ‹é‡å’Œé€šè¿‡å›¾åƒå‡ ä½•å­¦å…³ç³»è·å–æ·±åº¦çš„ä¸¤ç§ç›¸æœºï¼Œè¿™äº›åœ¨å¸‚åœºä¸­å·²ç»æœ‰æˆç†Ÿçš„äº§å“æŠ•å…¥åº”ç”¨ï¼Œå¦‚æœç”¨å®ƒä»¬å¾—åˆ°çš„æ·±åº¦æ•°æ®æ¥é©±åŠ¨æ·±åº¦å­¦ä¹ ï¼Œä»ç†è®ºä¸Šæ¥è®²ï¼Œæœ€ç†æƒ³çš„çŠ¶æ€ä¹Ÿä¸è¿‡æ˜¯è¾¾åˆ°äº†æ·±åº¦ç›¸æœºçš„æœ€é«˜ç²¾åº¦æ•ˆæœï¼Œå¹¶ä¸”ç‰©ç†æµ‹é‡æˆ–è€…å‡ ä½•è®¡ç®—æœ¬èº«å°±å…·æœ‰çš„åå·®è¿˜ä¼šå¯¹æ¨¡å‹çš„æ•ˆæœäº§ç”Ÿè´Ÿé¢å½±å“ã€‚\nå› æ­¤ï¼Œä»æ•°æ®é©±åŠ¨çš„æ·±åº¦å­¦ä¹ æ–¹æ³•ä¼°è®¡å›¾åƒæ·±åº¦çš„è¿™ä¸€æ–¹å‘åˆ‡å…¥ï¼Œå¦‚æœæƒ³è¦è®©æ¨¡å‹çš„ç»“æœæ›´ç²¾ç¡®ä»è€Œè·å–æ›´å¯é çš„æ·±åº¦ä¿¡æ¯ï¼Œè¿˜éœ€è¦ä»æ•°æ®ä¸Šä¸‹åŠŸå¤«ï¼Œå…·ä½“å¯å®è·µçš„æ–¹å¼æ˜¯ä½¿ç”¨3Dä»¿çœŸï¼Œé€šè¿‡æ¨¡æ‹Ÿç›¸æœºå’Œæ„å»º3Dåœºæ™¯äº§ç”Ÿæ‰€éœ€æ±‚çš„ä¸”å®Œå…¨å‡†ç¡®çš„æ·±åº¦ä¿¡æ¯ï¼Œå¯ä»¥é‡‡ç”¨çš„å·¥å…·å’Œè½¯ä»¶åŒ…æ‹¬ï¼š\n3Då»ºæ¨¡å’ŒåŠ¨ç”»è½¯ä»¶ï¼šBlenderï¼› æ¸¸æˆç‰©ç†å¼•æ“ï¼šUnity 3Dï¼ŒUnreal Engineï¼› æœºå™¨äººä»¿çœŸå™¨ï¼ˆå¼€æºï¼‰ï¼šGazebo Simï¼› è‡ªåŠ¨é©¾é©¶ä»¿çœŸå™¨ï¼ˆå¼€æºï¼‰ï¼šCARLAã€‚ è€Œéšç€äººå·¥æ™ºèƒ½çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ï¼ˆGenerative AIï¼‰çš„æŠ€æœ¯ï¼Œå°†äººå·¥æ™ºèƒ½è‡ªå·±ç”Ÿæˆå†…å®¹çš„æŠ€æœ¯èå…¥åˆ°3Dä»¿çœŸç”Ÿæˆä¹Ÿå°†æˆä¸ºä¸€ç§æ–°è¶‹åŠ¿ã€‚\n3Dè§†è§‰æ„ŸçŸ¥æŠ€æœ¯ æœ‰äº†å›¾åƒæ·±åº¦ï¼ˆç”¨Zè¡¨ç¤ºï¼‰ä¹‹åï¼Œæˆ‘ä»¬èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ\né¦–å…ˆèƒ½å¤Ÿä»äºŒç»´å›¾åƒæ¢å¤å‡ºä¸‰ç»´çš„ç©ºé—´å…³ç³»ï¼Œå›¾åƒä¸­æ¯ä¸€ä¸ªåƒç´ ç‚¹(x,y)å¯ä»¥é€šè¿‡æŠ•å½±å…³ç³»æ¢å¤åˆ°ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹(X,Y,Z)ï¼Œå°†è¿™äº›ä¸‰ç»´çš„ç‚¹ç»„åˆèµ·æ¥å°±æ„æˆäº†ç‚¹äº‘ï¼ˆPoint Cloudï¼‰ã€‚ é€šè¿‡ç‚¹äº‘å¯ä»¥åˆ†æå‡ºå“ªäº›æ˜¯å¯ä»¥ç§»åŠ¨çš„åŒºåŸŸï¼Œå“ªäº›åŒºåŸŸä¸å¹³å¦ï¼›ä»¥åŠå“ªäº›æ˜¯ç©ºé—´ä¸­çš„é˜»æŒ¡è‡ªèº«è¿åŠ¨çš„éšœç¢ç‰©ï¼Œè¿™äº›éšœç¢ç‰©ä¸è‡ªèº«çš„å®æ—¶è·ç¦»ç­‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½“ç°çš„å°±æ˜¯ä¸‰ç»´ç©ºé—´çš„æ„ŸçŸ¥ã€‚ ç”±äºä»ä¸‰ç»´ç©ºé—´â€œæ‹â€è¿›äºŒç»´å›¾åƒçš„è¿‡ç¨‹ä¸­ï¼Œè·ç¦»ç›¸æœºæ›´è¿‘çš„ç‰©ä½“ä¼šæŒ¡ä½å…¶èº«åçš„ç‰©ä½“ï¼Œå› æ­¤åœ¨ä»äºŒç»´å›¾åƒæ¢å¤åˆ°ä¸‰ç»´ç©ºé—´æ—¶ï¼Œé‚£äº›è¢«æŒ¡ä½çš„éƒ¨åˆ†è‡ªç„¶ä¹Ÿä¸ä¼šå‘ˆç°å‡ºæ¥ï¼Œè€Œæƒ³è¦ä»å›¾åƒä¸­æ¢å¤å‡ºä¸€ä¸ªç©ºé—´çš„å®Œæ•´æ ·è²Œï¼Œå°±éœ€è¦å¾ˆå¤šå¼ æ‹æ‘„åˆ°è¿™ä¸ªç©ºé—´å„ä¸ªè§’è½çš„å›¾åƒä¸€èµ·â€œç»„åˆâ€ï¼Œå…±åŒâ€œæ‹¼æ¥â€æ¥è¿˜åŸï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åšä¸‰ç»´ç©ºé—´çš„åœºæ™¯é‡å»ºã€‚ ä»¥ä¸Šçš„è¿‡ç¨‹åœ¨å…·ä½“å®ç°ä¸­ä¼šæ¶‰åŠåˆ°è¾ƒå¤šçš„æ•°å­¦åŸç†æ¨å¯¼ï¼Œåœ¨è¿™é‡Œæ²¡æœ‰å…·ä½“å±•å¼€è¯´æ˜ï¼Œä½†ä»æœ¬è´¨çš„ç†è§£å‡ºå‘ï¼Œåœ¨æ‹¥æœ‰å›¾åƒæ·±åº¦ä¹‹åï¼Œè§†è§‰çš„æ„ŸçŸ¥å°±å®Œæ•´äº†ï¼Œä¸‹é¢ä»ç§»åŠ¨æœºå™¨äººå’Œæ™ºèƒ½é©¾é©¶ä¸¤ä¸ªé¢†åŸŸæ¥è°ˆä¸€è°ˆ3Dè§†è§‰æ„ŸçŸ¥æŠ€æœ¯çš„å…·ä½“åº”ç”¨ã€‚\nç§»åŠ¨æœºå™¨äººé¢†åŸŸ ä¸€èˆ¬è€Œè¨€ï¼Œç§»åŠ¨æœºå™¨äººæ˜¯åœ¨ä¸€ä¸ªåŒºåŸŸå†…è¿è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç§»åŠ¨æœºå™¨äººéœ€è¦æ‹¥æœ‰è¿™ä¸ªåŒºåŸŸçš„åœ°å›¾ä¿¡æ¯ï¼Œç„¶ååœ¨å·²æœ‰åœ°å›¾çš„åŸºç¡€ä¸Šå†å®Œæˆæ„ŸçŸ¥ã€å®šä½ã€è·¯å¾„è§„åˆ’å’Œå¯¼èˆªï¼Œç”šè‡³åœ¨å®é™…åº”ç”¨æ—¶è¿˜éœ€è¦è€ƒè™‘å¯¹åœ°å›¾çš„æ›´æ–°ã€‚æœºå™¨äººçš„å®šä½å’Œå»ºå›¾å¯ä»¥é€šè¿‡SLAMï¼ˆSimultaneous Localization And Mappingï¼‰æŠ€æœ¯æ¥å®ç°ï¼ŒSLAMä¸­ä¹Ÿéœ€è¦çŸ¥é“æ·±åº¦ä¿¡æ¯ï¼Œæ¯”å¦‚è§†è§‰SLAMåœ¨åªæä¾›å›¾åƒçš„æƒ…å†µä¸‹æ—¶é€šè¿‡å‡ ä½•å­¦å…³ç³»æ¥è®¡ç®—å‡ºæ·±åº¦ï¼Œè€Œå¦‚æœèƒ½å¤ŸåŒæ—¶æä¾›è¶³å¤Ÿç²¾ç¡®çš„æ·±åº¦ä¿¡æ¯ï¼Œé‚£ä¹ˆSLAMçš„å»ºå›¾å’Œå®šä½ç²¾åº¦ä¹Ÿä¼šæ›´åŠ å‡†ç¡®ã€‚\nåœ¨3Dè§†è§‰ä¸‹ï¼Œæœºå™¨äººå¯ä»¥åšåˆ°å¯¹ç‰©ä½“æ›´åŠ å‡†ç¡®å’Œä¸°å¯Œçš„æ„ŸçŸ¥ï¼Œä¸ä»…æ˜¯å¯¹ç‰©ä½“å®ç°ç®€å•çš„ä½ç½®æµ‹è·ï¼Œåœ¨ä¸€äº›ç®—æ³•çš„æ”¯æŒä¸‹ï¼Œè¿˜èƒ½å¤Ÿå¯¹ç‰¹å®šçš„ç‰©ä½“å®ç°å§¿æ€çš„ä¼°è®¡ï¼Œåœ¨åŒæ—¶æ‹¥æœ‰ç‰©ä½“çš„ä½ç½®å’Œå§¿æ€åï¼Œå°±å¯ä»¥å±•å¼€å®šä½ã€æŠ“å–ç­‰åç»­çš„æ“ä½œã€‚åŒæ—¶åˆ©ç”¨ä¸‰ç»´ç©ºé—´çš„åœºæ™¯é‡å»ºæŠ€æœ¯ï¼Œè¿˜èƒ½å¤Ÿå°†æœºå™¨äººæ‰€å¤„çš„ä¸‰ç»´ç©ºé—´æ¨¡å‹æ¢å¤å‡ºæ¥ï¼Œä»¥è¿™ä¸ªä¸‰ç»´åœºæ™¯ä¸ºåŸºç¡€ï¼Œå¯ä»¥ç»§ç»­æ„å»ºæ›´ä¸°å¯Œçš„åœ°å›¾å½¢å¼ï¼Œä»¥åŠç»“åˆ3Dæ£€æµ‹åˆ†å‰²ç­‰æŠ€æœ¯å®ç°æ›´å…·ä½“çš„ç¯å¢ƒæ„ŸçŸ¥ã€‚\næ™ºèƒ½é©¾é©¶é¢†åŸŸ è¡Œé©¶çŠ¶æ€ä¸­çš„è½¦è¾†æ˜¯å®æ—¶è¿åŠ¨çš„ï¼Œå¹¶ä¸”è½¦è¾†æ‰€åœ¨çš„é“è·¯ç¯å¢ƒä¹Ÿæ˜¯å®æ—¶å˜åŒ–ï¼Œå› æ­¤å³ä½¿æ²¡æœ‰é¢„å…ˆåŠ è½½çš„é«˜ç²¾åº¦åœ°å›¾ï¼Œæ™ºèƒ½é©¾é©¶çš„è½¦è¾†ä¹Ÿåº”è¯¥èƒ½å¤Ÿé€šè¿‡è§†è§‰æˆ–è€…å…¶ä»–ä¼ æ„Ÿå™¨æ„ŸçŸ¥åˆ°å‘¨å›´ç¯å¢ƒä¸­å…¶ä»–è½¦è¾†æˆ–è€…ç‰©ä½“çš„çŠ¶å†µå˜åŒ–ä»è€Œè°ƒæ•´è‡ªèº«ï¼Œè¿™æ˜¯ä¸šç•Œå¸¸è¯´çš„â€œè½»åœ°å›¾ï¼Œé‡æ„ŸçŸ¥â€ã€‚\næ™ºèƒ½é©¾é©¶çš„è½¦è¾†ï¼Œä¸åŒäºç§»åŠ¨æœºå™¨äººåœ¨ä¸€ä¸ªåŒºåŸŸå†…è¿è¡Œï¼Œä¹Ÿä¸ä¼šåƒç§»åŠ¨æœºå™¨äººä¸€æ ·ä¸ºäº†è¡¥å…¨è§†é‡çš„ç›²åŒºè€Œåœ¨ä¸€ä¸ªèŒƒå›´å†…æ¥å›æ‰“è½¬ï¼Œè½¦è¾†çš„è¿è¡Œè½¨è¿¹åŸºæœ¬æ˜¯æŒç»­å‘å‰çš„ï¼Œå› æ­¤å¯¹äº3Dè§†è§‰çš„æ„ŸçŸ¥æ›´å€¾å‘äºå®æ—¶çš„å‘ˆç°ï¼Œé€šè¿‡ç›¸æœºæŒç»­æ‹æ‘„è½¦è¾†å‘¨å›´å¯ä»¥è·å¾—è§†é¢‘æµï¼Œè€ŒåŒæ—¶æ‹¥æœ‰äº†å›¾åƒæ·±åº¦åï¼Œè¿™ä¸ªå¹³é¢å›¾åƒçš„è§†é¢‘æµå°±å¯ä»¥è½¬æ¢ä¸ºä¸‰ç»´ç©ºé—´çš„ç‚¹äº‘è¿åŠ¨æµï¼Œè¿™ä¸ªè½¬æ¢çš„è¿‡ç¨‹ä¸æ¶‰åŠæ·±åº¦å­¦ä¹ ã€‚å¯¹ç‚¹äº‘ç©ºé—´ä¹Ÿå¯ä»¥åŒæ ·è¿›è¡Œæ£€æµ‹ã€åˆ†å‰²ç­‰å¤„ç†ï¼Œä»è€Œè·å¾—å‘¨å›´ç¯å¢ƒçš„å®æ—¶é“è·¯çŠ¶å†µä¿¡æ¯ã€‚\nè¿‘å‡ å¹´å…´èµ·çš„Occupancy Networksï¼ˆå ç”¨ç½‘ç»œï¼‰æ˜¯ä¸Šè¿°æç»˜åœºæ™¯çš„ä¸€ç§è¿‘ä¼¼è¡¨è¾¾ï¼Œç‰¹åˆ«æ˜¯MonoSceneï¼Œé€šè¿‡ä¸€ä¸ªç½‘ç»œæ¨¡å‹å®ç°äº†ä»å•å¼ å›¾åƒä¸­è·å–æ·±åº¦å’Œè¯­ä¹‰ä¿¡æ¯å†ä»¥ä¸‰ç»´æ …æ ¼ç½‘ç»œæ–¹å¼å‘ˆç°çš„æµç¨‹ï¼Œä»ä¸€å®šæ„ä¹‰ä¸Šæ€èµ·äº†å ç”¨ç½‘ç»œçš„çƒ­æ½®ã€‚è€Œä»æœ¬è´¨å‡ºå‘ï¼Œå¦‚æœæ‹¥æœ‰å›¾åƒä¸­æ¯ä¸€ä¸ªåƒç´ å¯¹åº”çš„ç²¾ç¡®æ·±åº¦ï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯é«˜å¯†åº¦çš„ä¸‰ç»´ç©ºé—´ç‚¹äº‘è¿˜æ˜¯æ•°æ®é‡æ›´ä½çš„æ …æ ¼åŒ–ç½‘æ ¼ï¼Œéƒ½å¯ä»¥é¡ºç•…åœ°å®ç°ã€‚\n3Dè§†è§‰æ„ŸçŸ¥çš„æœ¬è´¨å‰ææ˜¯æ‹¥æœ‰è¶³å¤Ÿç²¾ç¡®çš„ç¬¬ä¸‰ç»´åº¦ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ·±åº¦ï¼Œè€Œåå†å¼€å±•ä»¥3Dè§†è§‰ä¸ºä¸»å¯¼çš„æ„ŸçŸ¥æŠ€æœ¯æ‰èƒ½å¦‚é±¼å¾—æ°´ã€‚ç°å¦‚ä»Šè™½ç„¶è¯´äººå·¥æ™ºèƒ½æ˜¯å¤§è¶‹åŠ¿ï¼Œæ·±åº¦å­¦ä¹ æ–¹æ³•å¯ä»¥è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œä½†è¦é©±åŠ¨æ·±åº¦å­¦ä¹ æ–¹æ³•å®Œå¥½è¿è½¬è¿˜éœ€è¦å……è¶³ä¸”é«˜è´¨é‡çš„æ•°æ®é©±åŠ¨ï¼Œä¸ç®¡æ˜¯å…ˆè·å¾—ç²¾ç¡®æ·±åº¦ä¿¡æ¯è¿˜æ˜¯è¯´ç›´æ¥çš„3Dè§†è§‰æ„ŸçŸ¥ï¼Œå½“åº”ç”¨æ·±åº¦å­¦ä¹ æ–¹æ³•æ—¶ï¼Œéƒ½ç¦»ä¸å¼€æ•°æ®ã€‚\næ€»çš„æ¥è¯´ï¼Œ3Dè§†è§‰çš„æ ¸å¿ƒæ˜¯å…ˆæ¢å¤å‡ºäº†å‡†ç¡®å¯é çš„æ·±åº¦ä¿¡æ¯ï¼Œè€Œåå†è¿›è¡Œæ›´å…·ä½“çš„æ„ŸçŸ¥ä»»åŠ¡ã€‚ä¸€ç§æ€è·¯æ˜¯ä»ç›¸æœºæœ¬èº«è€ƒè™‘ï¼Œä½†å¯èƒ½ç›®å‰å‡ ç§æ·±åº¦ç›¸æœºæœ‰ç†è®ºçš„ä¸Šé™æˆ–è€…å®é™…åº”ç”¨çš„ç“¶é¢ˆéš¾ä»¥ç»§ç»­çªç ´æ·±åº¦æµ‹é‡çš„ç²¾åº¦å’Œå¯é æ€§ï¼Œå¦ä¸€ç§æ€è·¯æ˜¯å®Œå…¨çš„æ•°æ®é©±åŠ¨ï¼Œé¦–å…ˆæ‹¥æœ‰è¶³å¤Ÿé‡çº§çš„ç²¾å‡†æ·±åº¦æ•°æ®ï¼Œè€Œåä¸æ–­ä¼˜åŒ–æ·±åº¦å­¦ä¹ çš„æ¨¡å‹æ¥è¾¾åˆ°æœ€ä½³æ•ˆæœã€‚3Dè§†è§‰æ„ŸçŸ¥æŠ€æœ¯çš„åº”ç”¨ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåœ¨æ‹¥æœ‰å‡†ç¡®æ·±åº¦åï¼Œå¾ˆå¤šä¼ ç»Ÿçš„æ„ŸçŸ¥ä»»åŠ¡éƒ½ä¼šé”¦ä¸Šæ·»èŠ±ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å°†3Dè§†è§‰æ„ŸçŸ¥ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œåœ¨åªæœ‰å›¾åƒè¾“å…¥çš„æƒ…å†µä¸‹å®ç°3Dè§†è§‰çš„æ„ŸçŸ¥ï¼Œè¿™é‡Œå°±å›åˆ°äº†åº”ç”¨æ·±åº¦å­¦ä¹ æ–¹æ³•è§£å†³çš„æ€è·¯ï¼Œæ¨¡å‹ä¼˜åŒ–å›ºç„¶é‡è¦ï¼Œæ›´å¿…è¦è¿˜æ˜¯é«˜è´¨é‡æ•°æ®é©±åŠ¨ã€‚\n","permalink":"https://ahaknow.com/posts/know/aha-3d-visual-perception/","summary":"å¼•å­ï¼š æˆ‘ä»¬ç”Ÿæ´»çš„ä¸–ç•Œæ˜¯ä¸‰ç»´çš„ï¼Œåœ¨ä¸‰ç»´ä¸–ç•Œä¸­å¯¹ç‰©ä½“çš„æ„ŸçŸ¥æ‹¥æœ‰æ˜ç¡®çš„è·ç¦»æ„Ÿï¼Œæ¯”å¦‚é”®ç›˜åœ¨æ‰‹çš„å‰é¢ï¼Œæ˜¾ç¤ºå™¨åœ¨é”®ç›˜çš„å‰é¢ï¼Œé‚£ä¹ˆæ˜¾ç¤ºå™¨å°±åœ¨æ‰‹çš„æ›´å‰é¢ï¼ˆè¿™","title":"3Dè§†è§‰æ„ŸçŸ¥"},{"content":" é—®é¢˜çš„æè¿°æ˜¯è¿™æ ·çš„ï¼ˆç”¨æˆ‘ç†è§£åçš„è¯­è¨€æ¥è¡¨è¾¾ï¼‰ï¼š\nä»¥æ­è½½2Dæ¿€å…‰é›·è¾¾ï¼ˆ2D-Lidarï¼‰çš„æ‰«åœ°æœºå™¨äººä¸ºä¾‹ï¼Œåªè€ƒè™‘åœ¨äºŒç»´å¹³é¢ä¸‹çš„å…³ç³»ã€‚ä¸–ç•Œåæ ‡ç³»$O_W$ï¼Œæœºå™¨äººåæ ‡ç³»$O_C$ï¼Œé›·è¾¾åæ ‡ç³»$O_L$ï¼Œé›·è¾¾åæ ‡ç³»çš„æ–¹å‘è½´ä¸æœºå™¨äººåæ ‡ç³»ä¸€è‡´ï¼Œé›·è¾¾æ­è½½åœ¨æœºå™¨äººä¸Šï¼Œç”¨æœºå™¨äººåæ ‡ç³»$O_C$çš„åæ ‡è¡¨è¾¾ï¼Œé›·è¾¾çš„ä½ç½®ä¸º$(xlc, ylc)$ï¼Œç°åœ¨ç©ºé—´ä¸­æœ‰ä¸€ä¸ªç‰©ä½“ç‚¹Pï¼Œé€šè¿‡2Dé›·è¾¾å¯¹å…¶æµ‹é‡ï¼ˆé›·è¾¾æ—‹è½¬æ–¹å‘ä¸ºé€†æ—¶é’ˆï¼‰ï¼Œå¾—åˆ°å¯¹åº”çš„è§’åº¦$angle$å’Œè·ç¦»$dis$ï¼Œç°åœ¨å‡è®¾æ‰«åœ°æœºå™¨äººè¿åŠ¨çš„è§’é€Ÿåº¦æ˜¯$w_c$ï¼Œçº¿é€Ÿåº¦æ˜¯$v_c$ï¼Œåœ¨$t_0$æ—¶åˆ»æ—¶ï¼Œæœºå™¨äººåæ ‡ç³»$O_C$ä¸ä¸–ç•Œåæ ‡ç³»$O_W$é‡åˆï¼Œè¿™é‡Œçš„è§’åº¦å•ä½éƒ½æ˜¯å¼§åº¦ï¼Œè·ç¦»å•ä½éƒ½æ˜¯ç±³ã€‚\nç°åœ¨ç»™è¿™æ ·ä¸€ç»„æ•°æ®ï¼Œé—®åœ¨$t_1$æ—¶åˆ»æ—¶ï¼Œç‰©ä½“ç‚¹Påœ¨ä¸–ç•Œåæ ‡ç³»$O_W$ä¸‹çš„åæ ‡ï¼š\nangleã€disã€xlcã€ylcã€ vcã€wcã€t1\néœ€è¦ç†è§£çš„å‰æ é¦–å…ˆï¼Œå¯¹äºè¾“å…¥æ•°æ®çš„ç†è§£ï¼šå¯ä»¥å°†æµ‹è¯•æ•°æ®ä½œä¸ºä¸€ä¸ªéªŒè¯æƒ…å†µï¼Œå› ä¸ºï¼Œå½“ä¸–ç•Œåæ ‡ç³»$O_W$ï¼Œæœºå™¨äººåæ ‡ç³»$O_C$ï¼Œé›·è¾¾åæ ‡ç³»$O_L$ä¹‹é—´çš„å…³ç³»è¡¨è¾¾æ˜ç¡®æ—¶ï¼Œä¸ç®¡å¸¦å…¥ä»€ä¹ˆæµ‹è¯•æ•°æ®ï¼Œéƒ½åº”è¯¥æ˜¯æ»¡è¶³çš„ã€‚\nå¦å¤–ï¼Œæœ‰ä¸€ä¸ªå¸¸è¯†éœ€è¦è¡¥å……ï¼šåœ¨C++ç¯å¢ƒä»¥åŠå¤„ç†ç‰©ä½“å­¦ã€æ•°å­¦åˆ†æç­‰è¿›è¡Œä¸‰è§’å‡½æ•°è®¡ç®—æ—¶ï¼Œä½¿ç”¨çš„éƒ½æ˜¯å¼§åº¦åˆ¶ï¼Œ 1å¼§åº¦ $\\frac{180}{\\pi}$åº¦ï¼Œ1 åº¦ = $\\frac{\\pi}{180}$å¼§åº¦ã€‚\ndouble degrees = 90.0; double radians = degrees * (M_PI / 180.0); double sinValue = sin(radians); // ä½¿ç”¨å¼§åº¦ ğŸŒŸè¿›è¡Œä¸€æ­¥ä¸€æ­¥æ‹†è§£ tæ—¶é—´åæœºå™¨äººè¿åŠ¨çš„ä½ç½® é¦–å…ˆéœ€è¦ç†è§£ï¼Œæ‰«åœ°æœºå™¨äººæ˜¯æ€ä¹ˆè¿åŠ¨çš„ï¼Œåœ¨è¿™é‡ŒçŸ¥é“æœºå™¨äººè¿åŠ¨åŒæ—¶æ‹¥æœ‰è§’é€Ÿåº¦$w_c$ï¼Œçº¿é€Ÿåº¦$v_c$ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç§»åŠ¨æœºå™¨äººæ˜¯é€šè¿‡æ§åˆ¶ä¸¤ä¸ªå¹¶è¡Œè½®å­çš„é€Ÿåº¦å·®ï¼ˆå·®é€Ÿï¼‰è¿›è¡Œæ—‹è½¬çš„ã€‚ä¸¤ä¸ªè½®å­é€Ÿåº¦ç›¸åŒæ—¶ï¼Œç§»åŠ¨æœºå™¨äººå°†ç›´çº¿è¿åŠ¨ï¼Œä¸¤ä¸ªè½®å­é€Ÿåº¦ä¸åŒæ—¶ï¼Œç§»åŠ¨æœºå™¨äººå°†ç»•ç€æŸä¸€ç‚¹è¿›è¡Œæ—‹è½¬è¿åŠ¨ï¼Œè¿™ä¸ªç‚¹å°±æ˜¯å³æ—¶è½¬åŠ¨ä¸­å¿ƒï¼ˆInstantaneous Center of Rotation, ç®€ç§° ICCï¼‰ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œæœºå™¨äººæ­¤æ—¶çš„è¿åŠ¨æ¨¡å‹æ˜¯ä¸€ä¸ªåœ†å¼§è¿åŠ¨ï¼Œè¿åŠ¨çš„åŠå¾„$R = \\frac{v_c}{w_c}$ï¼Œè¿åŠ¨çš„è§’åº¦å¯ä»¥é€šè¿‡$\\theta = w \\cdot t$å¾—åˆ°ï¼Œè€Œå¯¹äºæœºå™¨äººä¸­å¿ƒç‚¹çš„ä½ç½®æƒ…å†µåˆ™å¯ä»¥é€šè¿‡æåæ ‡çš„å…³ç³»æ¥å¾—åˆ°ï¼Œä¹Ÿå°±æ˜¯æœºå™¨äººä¸­å¿ƒä¸ºä¸€ç‚¹ï¼Œç»•ç€ICCä¸ºåŸç‚¹ï¼Œè¿›è¡ŒåŠå¾„ä¸ºRçš„åœ†å‘¨è¿åŠ¨ï¼Œè½¬åŠ¨äº†$\\theta = w \\cdot t$è§’åº¦ï¼Œé‚£ä¹ˆè½¬åŠ¨$t$æ—¶é—´åæœºå™¨äººä¸­å¿ƒç‚¹çš„ä½ç½®ä»¥XYåæ ‡ç³»ï¼ˆç¬›å¡å°”åæ ‡ç³»ï¼‰è¡¨è¾¾å°±æ˜¯ï¼š\n$X_{t} = R \\sin(w_c \\cdot t)$ $Y_{t} = R (1 - \\cos(w_c \\cdot t))$ ç”±æ­¤å‡è®¾ä»¥æœºå™¨äººåæ ‡ç³»$O_C$åŸç‚¹æ¥è®¡ç®—ï¼Œé‚£ä¹ˆåœ¨tæ—¶é—´åï¼Œ$O_C$åŸç‚¹çš„åæ ‡åœ¨ä¸–ç•Œåæ ‡ç³»$O_W$ä¸Šçš„è¡¨è¾¾ä¸ºï¼š\n$X_{W_C} = R \\sin(w_c \\cdot t)$ $Y_{W_C} = R (1 - \\cos(w_c \\cdot t))$ å³æ—¶è½¬åŠ¨ä¸­å¿ƒï¼ˆInstantaneous Center of Rotationï¼‰ åœ¨ä»»æ„ç»™å®šç¬é—´ï¼Œä¸€ä¸ªåœ¨å¹³é¢ä¸Šè¿›è¡Œå¤åˆè¿åŠ¨ï¼ˆå³åŒæ—¶åŒ…å«å¹³ç§»å’Œæ—‹è½¬ï¼‰çš„ç‰©ä½“çœ‹èµ·æ¥æ˜¯å›´ç»•ä¸€ä¸ªå‡æƒ³ç‚¹è¿›è¡Œæ—‹è½¬ï¼Œè¿™ä¸ªç‚¹å°±æ˜¯å³æ—¶è½¬åŠ¨ä¸­å¿ƒã€‚\nè¿™ä¸ªç‚¹å¯èƒ½ä½äºç‰©ä½“å†…éƒ¨ï¼Œä¹Ÿå¯èƒ½ä½äºç‰©ä½“å¤–éƒ¨ï¼ˆå–å†³äºå·¦å³è½®çš„é€Ÿåº¦ï¼‰ï¼Œç”šè‡³å¯èƒ½æ— é™è¿œï¼ˆè¿™ç§æƒ…å†µä¸‹ï¼Œç‰©ä½“çš„è¿åŠ¨å¯ä»¥çœ‹ä½œæ˜¯çº¯å¹³ç§»ï¼‰ã€‚\nå‡è®¾ä¸€ä¸ªé€šè¿‡ä¸¤ä¸ªå¹¶è¡Œè½®å­è¿›è¡Œå·®é€Ÿé©±åŠ¨çš„ç§»åŠ¨æœºå™¨äººï¼Œå·¦å³è½®å­çš„é€Ÿåº¦åˆ†åˆ«ä¸º$V_l$å’Œ$V_r$ï¼Œä¸¤è½®ä¸­å¿ƒä¹‹é—´è·ç¦»ä¸º$L$ï¼Œé‚£ä¹ˆå¯ä»¥å®šä¹‰æœºå™¨äººçš„çº¿é€Ÿåº¦$v_c$å’Œè§’é€Ÿåº¦$w_c$å¦‚ä¸‹ï¼š\nçº¿é€Ÿåº¦$v_c$ï¼Œè¡¨ç¤ºæœºå™¨äººç§»åŠ¨æ—¶æœºå™¨äººä¸­å¿ƒç‚¹çš„é€Ÿåº¦ï¼Œé€šè¿‡å·¦å³è½®é€Ÿåº¦çš„å¹³å‡å€¼æ¥ä¼°è®¡ï¼š $$ v_c = \\frac{V_r + V_l}{2} $$ è§’é€Ÿåº¦$w_c$æè¿°äº†æœºå™¨äººç»•ICCçš„æ—‹è½¬é€Ÿåº¦ï¼Œå¯ä»¥é€šè¿‡å·¦å³è½®é€Ÿåº¦å·®ä¸è½®è·çš„æ¯”å€¼æ¥è®¡ç®—ï¼ˆé€šè¿‡$v = \\omega \\cdot r$å¾—åˆ°ï¼‰ï¼š $$ w_c = \\frac{V_r - V_l}{L} $$ æœºå™¨äººç»•ICCçš„åœ†å¼§è¿åŠ¨åŠå¾„$R$ï¼ˆä»ICCåˆ°æœºå™¨äººä¸­å¿ƒçš„è·ç¦»ï¼‰ï¼Œæ ¹æ®$v = \\omega \\cdot r$å¯ä»¥å¾—åˆ°ï¼š $$ R = \\frac{v_c}{w_c} $$\nå°†ä¸Šè¿°å®šä¹‰çš„$v_c$å’Œ$w_c$ä»£å…¥åˆ°$R$çš„å…¬å¼ä¸­å¯ä»¥å¾—åˆ°ï¼š $$ R = \\frac{\\frac{V_r + V_l}{2}}{\\frac{V_r - V_l}{L}} $$ $$ R = \\frac{L}{2} \\cdot \\frac{V_r + V_l}{V_r - V_l} $$\nå¦ä¸€ç§æ•°å­¦è§£é‡Š å¯¹äºICCçš„è®¡ç®—ï¼Œåœ¨ä»»æ„ç¬é—´ï¼Œæœºå™¨äººçš„å·¦å³è½®åˆ°ICCçš„è·ç¦»å›ºä¸å˜ï¼Œå½¢æˆä¸€ä¸ªåœ†å‘¨è¿åŠ¨ã€‚å‡è®¾å³è½®æ¯”å·¦è½®å¿«ï¼Œé‚£ä¹ˆICCä½äºæœºå™¨äººå·¦ä¾§ï¼ŒICCè·ç¦»æœºå™¨äººçš„ä¸­å¿ƒç‚¹ä¸º$R$ã€‚\nç”±äºæœºå™¨äººçš„å·¦å³ä¸¤ä¸ªè½®å­ç»•ICCçš„æ—‹è½¬åŠå¾„ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬å®Œæˆä¸€æ¬¡å®Œæ•´æ—‹è½¬æ‰€éœ€çš„æ—¶é—´ç›¸åŒï¼Œå› æ­¤æœ‰ï¼š\nå·¦è½®çš„åœ†å‘¨é€Ÿåº¦æ˜¯$V_l$ï¼Œæ—‹è½¬åŠå¾„æ˜¯$R - \\frac{L}{2}$ã€‚ å³è½®çš„åœ†å‘¨é€Ÿåº¦æ˜¯$V_r$ï¼Œæ—‹è½¬åŠå¾„æ˜¯$R + \\frac{L}{2}$ã€‚ æ ¹æ®åœ†å‘¨è¿åŠ¨çš„é€Ÿåº¦å…¬å¼$v = \\omega \\cdot r$ï¼Œå¾—åˆ°ï¼š\n$V_l = w_c \\cdot (R - \\frac{L}{2})$ $V_r = w_c \\cdot (R + \\frac{L}{2})$ å°†$w_c$å¸¦å…¥è§£æ–¹ç¨‹å¯ä»¥å¾—åˆ°ï¼š\n$$ R = \\frac{L}{2} \\cdot \\frac{V_r + V_l}{V_r - V_l} $$\nä½†æ˜¯æ›´ç›´è§‚çš„æ–¹å¼æ˜¯åˆ©ç”¨è§’é€Ÿåº¦å’Œçº¿é€Ÿåº¦çš„å®šä¹‰æ¥ç›´æ¥æ±‚è§£$R$ï¼Œå¦‚ä¸‹ï¼š\n$$ w_c = \\frac{V_r - V_l}{L} \\Rightarrow w_c \\cdot L = V_r - V_l $$\nå¹¶ä¸”\n$$ v_c = \\frac{V_r + V_l}{2} $$\nè€Œ$R$å¯ä»¥ç†è§£ä¸ºæœºå™¨äººï¼ˆä¸­å¿ƒç‚¹ï¼‰ç»•ICCæ—‹è½¬çš„åŠå¾„ï¼Œå…¶çº¿é€Ÿåº¦$v_c$ä¸è§’é€Ÿåº¦$w_c$ä¹‹é—´å­˜åœ¨å¦‚ä¸‹å…³ç³»ï¼š\n$$ R = \\frac{v_c}{w_c} $$\nåœ†å‘¨è¿åŠ¨ä¸­çš„ä½ç½®è®¡ç®— å¯¹äºç»•ICCçš„åœ†å‘¨è¿åŠ¨ï¼Œå¯ä»¥ç”¨æåæ ‡ç³»ä¸‹çš„åœ†æ–¹ç¨‹æ¥æè¿°ç‰©ä½“çš„ä½ç½®ã€‚åœ¨æåæ ‡ç³»ä¸­ï¼Œä¸€ä¸ªç‚¹çš„ä½ç½®ç”±å®ƒåˆ°åŸç‚¹çš„è·ç¦»ï¼ˆåŠå¾„$R$ï¼‰å’Œä¸€ä¸ªè§’åº¦ï¼ˆ$\\theta$ï¼‰æ¥å®šä¹‰ã€‚\nå°†ICCè§†ä¸ºåŸç‚¹ï¼Œåˆ™æœºå™¨äººä¸­å¿ƒå°±æ˜¯è¿™ä¸ªç‚¹ï¼Œå…¶ä½ç½®è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡ç³»æ¥è¡¨ç¤ºå°±æ˜¯ï¼š\n$X = R \\sin(\\theta)$ $Y = R - R \\cos(\\theta) = R (1 - \\cos(\\theta))$ ç‰©ä½“ç‚¹Påœ¨æœºå™¨äººåæ ‡ç³»$O_C$çš„è¡¨è¾¾ å°†2D-Lidarçœ‹ä½œä¸ºä¸€ä¸ªç‚¹ï¼Œä¹Ÿå°±æ˜¯åŸç‚¹$O_L$ï¼Œé‚£ä¹ˆåœ¨é›·è¾¾åæ ‡ç³»$O_L$ä¸‹ï¼Œç‰©ä½“ç‚¹På¯ä»¥ç›´æ¥é€šè¿‡ä¸‰è§’å…³ç³»å¾—åˆ°åœ¨é›·è¾¾åæ ‡ç³»$O_L$çš„è¡¨è¾¾ï¼š\n$X_{L_p} = dis \\cdot \\cos(angle)$ $Y_{L_p} = dis \\cdot \\sin(angle)$ è€Œé›·è¾¾åæ ‡ç³»$O_L$å’Œæœºå™¨äººåæ ‡ç³»$O_C$åªç›¸å·®äº†ä¸€ä¸ªå¹³ç§»å…³ç³»ï¼Œä¹Ÿå°±æ˜¯$(xlc, ylc)$ï¼Œå› æ­¤å¯ä»¥å°†å¹³ç§»çš„é‡åŠ ä¸Šå¾—åˆ°åœ¨æœºå™¨äººåæ ‡ç³»$O_C$çš„è¡¨è¾¾\n$X_{C_p} = dis \\cdot \\cos(angle) + xlc$ $Y_{C_p} = dis \\cdot \\sin(angle) + ylc$ ç‰©ä½“ç‚¹Påœ¨ä¸–ç•Œåæ ‡ç³»$O_W$çš„è¡¨è¾¾ å› ä¸ºæœºå™¨äººåæ ‡ç³»$O_C$å’Œä¸–ç•Œåæ ‡ç³»$O_W$ç›¸å·®äº†ä¸€ä¸ªæ—‹è½¬ï¼Œæœºå™¨äººåæ ‡ç³»$O_C$ä»ä¸ä¸–ç•Œåæ ‡ç³»$O_W$é‡åˆçš„çŠ¶æ€ï¼Œé€šè¿‡é€†æ—¶é’ˆæ—‹è½¬$\\theta = w \\cdot t$å¾—åˆ°ç°åœ¨çš„çŠ¶æ€ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥æœºå™¨äººåæ ‡ç³»$O_C$çš„è¡¨è¾¾çš„ç‰©ä½“ç‚¹Pä¹Ÿéœ€è¦é€šè¿‡è¿™ä¸ª**é€†æ—¶é’ˆæ—‹è½¬$\\theta = w \\cdot t$**å¾—åˆ°åœ¨å½“ä¸–ç•Œåæ ‡ç³»$O_W$çš„è¡¨è¾¾ï¼›\nå› æ­¤ä¸–ç•Œåæ ‡ç³»$O_W$çš„ç‰©ä½“ç‚¹Pä¸º$(X_{W_p},Y_{W_p})$å¯ä»¥é€šè¿‡$(X_{C_p},Y_{C_p})$åº”ç”¨ä¸Šé€†æ—¶é’ˆæ—‹è½¬ï¼Œå†åŠ ä¸Š$O_C$çš„åç§»å¾—åˆ°ã€‚\n$X_{W_p} = X_{C_p} \\cdot \\cos{\\theta} - Y_{C_p} \\cdot \\sin{\\theta} + X_{W_C}$\n$X_{W_p} = X_{C_p} \\cdot \\sin{\\theta} + Y_{C_p} \\cdot \\cos{\\theta} + Y_{W_C}$\næ³¨æ„ï¼Œé€†æ—¶é’ˆä¸ºæ­£ï¼ˆä»¥å³æ‰‹åæ ‡ç³»æ¥çœ‹ï¼ŒXè½´æœå·¦ï¼ŒYè½´æœä¸Šï¼‰\né€†æ—¶é’ˆæ—‹è½¬è§’åº¦ $\\theta$ çš„æ—‹è½¬çŸ©é˜µçš„è¯æ˜ ä»äºŒç»´æ—‹è½¬çš„åŸºæœ¬å‡ ä½•å‡ºå‘ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç‚¹ $P$ï¼Œåœ¨åŸç‚¹ $O$ çš„åæ ‡ç³»ä¸­çš„åˆå§‹ä½ç½®ä¸º $P(x, y)$ï¼Œéœ€è¦æ±‚å‡º $P$ ç»•åŸç‚¹é€†æ—¶é’ˆæ—‹è½¬è§’åº¦ $\\theta$ åçš„æ–°ä½ç½® $P\u0026rsquo;(x\u0026rsquo;, y\u0026rsquo;)$ï¼š\næ—‹è½¬å‰ï¼Œç‚¹ $P$ çš„ä½ç½®å¯ä»¥ç”±æåæ ‡ $r$ï¼ˆåŸç‚¹åˆ° $P$ çš„è·ç¦»ï¼‰å’Œ $\\phi$ï¼ˆ$x$ è½´åˆ° $OP$ çš„è§’åº¦ï¼‰ç¡®å®šã€‚åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­ï¼Œæœ‰ï¼š\n$x = r\\cos(\\phi)$ $y = r\\sin(\\phi)$ å½“ $P$ ç»•åŸç‚¹é€†æ—¶é’ˆæ—‹è½¬ $\\theta$ åï¼Œå®ƒçš„æ–°ä½ç½® $P\u0026rsquo;$ å¯ä»¥ç”¨æ–°çš„æåæ ‡ $r$ å’Œæ–°çš„è§’åº¦ $\\phi + \\theta$ æ¥è¡¨ç¤ºï¼ˆ$r$ ä¿æŒä¸å˜ï¼Œå› ä¸ºæ—‹è½¬ä¸æ”¹å˜åŸç‚¹åˆ° $P$ çš„è·ç¦»ï¼‰ã€‚å› æ­¤ï¼Œæ—‹è½¬åçš„åæ ‡ä¸ºï¼š\n$x\u0026rsquo; = r\\cos(\\phi + \\theta)$ $y\u0026rsquo; = r\\sin(\\phi + \\theta)$ ä½¿ç”¨ä¸‰è§’æ’ç­‰å¼ $\\cos(a + b) = \\cos(a)\\cos(b) - \\sin(a)\\sin(b)$ å’Œ $\\sin(a + b) = \\sin(a)\\cos(b) + \\cos(a)\\sin(b)$ï¼Œæˆ‘ä»¬å¯ä»¥å°† $x\u0026rsquo;$ å’Œ $y\u0026rsquo;$ é‡å†™ä¸ºï¼š\n$x\u0026rsquo; = r\\cos(\\phi)\\cos(\\theta) - r\\sin(\\phi)\\sin(\\theta)$ $y\u0026rsquo; = r\\sin(\\phi)\\cos(\\theta) + r\\cos(\\phi)\\sin(\\theta)$ å°† $x = r\\cos(\\phi)$ å’Œ $y = r\\sin(\\phi)$ï¼Œä»£å…¥å¾—åˆ°ï¼š\n$x\u0026rsquo; = x\\cos(\\theta) - y\\sin(\\theta)$ $y\u0026rsquo; = x\\sin(\\theta) + y\\cos(\\theta)$ å°†ä¸Šè¿°æ–¹ç¨‹å†™æˆçŸ©é˜µå½¢å¼ï¼Œå¾—åˆ°ï¼š\n$$ \\begin{bmatrix} x\u0026rsquo; \\ y\u0026rsquo; \\end{bmatrix} = \\begin{bmatrix} \\cos(\\theta) \u0026amp; -\\sin(\\theta) \\\\ \\sin(\\theta) \u0026amp; \\cos(\\theta) \\end{bmatrix} \\begin{bmatrix} x \\ y \\end{bmatrix} $$ è¿™ä¸ªçŸ©é˜µå°±æ˜¯é€†æ—¶é’ˆæ—‹è½¬è§’åº¦ $\\theta$ çš„æ—‹è½¬çŸ©é˜µ $R(\\theta)$ï¼Œèƒ½å¤Ÿå°†ä»»ä½•ç»™å®šçš„ç‚¹åœ¨äºŒç»´å¹³é¢ä¸Šé€†æ—¶é’ˆæ—‹è½¬ $\\theta$ è§’åº¦ï¼Œè€Œä¸æ”¹å˜ç‚¹åˆ°åŸç‚¹çš„è·ç¦»ã€‚\nå¦‚æœæ—‹è½¬æ˜¯é¡ºæ—¶é’ˆæ–¹å‘çš„ï¼Œè§’åº¦ $\\theta$ å°†è¢«è§†ä¸ºè´Ÿå€¼ï¼Œä»¥å³æ‰‹åæ ‡ç³»æ¥çœ‹ï¼ŒXè½´æœå·¦ï¼ŒYè½´æœä¸Šæ—¶ï¼Œé€†æ—¶é’ˆæ—‹è½¬æ˜¯æ­£æ–¹å‘ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬åˆ™æ˜¯è´Ÿæ–¹å‘ã€‚\né¡ºæ—¶é’ˆæ—‹è½¬è§’åº¦ $\\theta$ çš„æ—‹è½¬çŸ©é˜µå¯ä»¥é€šè¿‡å°†é€†æ—¶é’ˆæ—‹è½¬çŸ©é˜µä¸­çš„è§’åº¦ $\\theta$ æ›¿æ¢ä¸ºå®ƒçš„è´Ÿå€¼ $-\\theta$ æ¥å¾—åˆ°ï¼Œå› ä¸º $\\cos(-\\theta) = \\cos(\\theta)$ å’Œ $\\sin(-\\theta) = -\\sin(\\theta)$ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹äºé¡ºæ—¶é’ˆæ—‹è½¬ï¼Œæ—‹è½¬çŸ©é˜µ $R_{cw}(\\theta)$ æ˜¯ï¼š\n$$ R_{cw}(\\theta) = \\begin{bmatrix} \\cos(-\\theta) \u0026amp; -\\sin(-\\theta) \\\\ \\sin(-\\theta) \u0026amp; \\cos(-\\theta) \\end{bmatrix} $$ ä½¿ç”¨ä¸‰è§’å‡½æ•°çš„æ€§è´¨ $\\cos(-\\theta) = \\cos(\\theta)$ å’Œ $\\sin(-\\theta) = -\\sin(\\theta)$ï¼Œå¾—åˆ°ï¼š\n$$ R_{cw}(\\theta) = \\begin{bmatrix} \\cos(\\theta) \u0026amp; \\sin(\\theta) \\\\ -\\sin(\\theta) \u0026amp; \\cos(\\theta) \\end{bmatrix} $$ å› æ­¤ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µç›´æ¥ä½¿ç”¨æ­£è§’åº¦ $\\theta$ ä¸ºï¼š\n$$ R_{cw}(\\theta) = \\begin{bmatrix} \\cos(\\theta) \u0026amp; \\sin(\\theta) \\\\ -\\sin(\\theta) \u0026amp; \\cos(\\theta) \\end{bmatrix} $$ è¿™ä¸ªçŸ©é˜µå¯ä»¥ç”¨æ¥å°†ä»»ä½•ç»™å®šçš„ç‚¹åœ¨äºŒç»´å¹³é¢ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬ $\\theta$ è§’åº¦ï¼Œè¿™ä¸é€†æ—¶é’ˆæ—‹è½¬ä»å½¢å¼ä¸Šçœ‹åªæ˜¯$\\sin(\\theta)$çš„æ­£è´Ÿå·ç›¸åã€‚\nå®Œæ•´çš„C++å®ç° #include \u0026lt;iostream\u0026gt; #include \u0026lt;cmath\u0026gt; int main() { // jj double angle, dis, xlc, ylc, vc, wc, t1; std::cin \u0026gt;\u0026gt; angle \u0026gt;\u0026gt; dis \u0026gt;\u0026gt; xlc \u0026gt;\u0026gt; ylc \u0026gt;\u0026gt; vc \u0026gt;\u0026gt; wc \u0026gt;\u0026gt; t1; // angleä¸ºå¼§åº¦åˆ¶ï¼Œwcä¸ºå¼§åº¦/s // disä¸ºè·ç¦»ï¼Œvcä¸ºm/s // èµ·ç‚¹(0, 0), è§’é€Ÿåº¦wc, çº¿é€Ÿåº¦vc // ç»è¿‡t1æ—¶é—´ double delta_v = vc * t1; double delta_w = wc * t1; // æœºå™¨äººåæ ‡ç³»Ocï¼Œä¸–ç•Œåæ ‡Ow double Xwc, Ywc; double R = vc / wc; Xwc = R * sin(delta_w); Ywc = R * (1 - cos(delta_w)); // æ‰“å°Xwc, Ywc // std::cout \u0026lt;\u0026lt; Xwc \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; Ywc \u0026lt;\u0026lt; std::endl; // æ±‚Pç‚¹åœ¨ä¸–ç•Œåæ ‡ç³»Owçš„åæ ‡ // å…ˆæ±‚Pç‚¹åœ¨Ocçš„åæ ‡ double Xcp, Ycp; Xcp = xlc + dis * cos(angle); Ycp = ylc + dis * sin(angle); // æ‰“å°Xcp, Ycp // std::cout \u0026lt;\u0026lt; Xcp \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; Ycp \u0026lt;\u0026lt; std::endl; // å†æ±‚Pç‚¹åœ¨Owçš„åæ ‡ double Xwp, Ywp; Xwp = cos(delta_w) * Xcp - sin(delta_w) * Ycp + Xwc; Ywp = sin(delta_w) * Xcp + cos(delta_w) * Ycp + Ywc; // æ‰“å°Xwp, Ywp std::cout \u0026lt;\u0026lt; Xwp \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; Ywp \u0026lt;\u0026lt; std::endl; return 0; } ","permalink":"https://ahaknow.com/posts/know/aha-2d-coordinate-transformation/","summary":"é—®é¢˜çš„æè¿°æ˜¯è¿™æ ·çš„ï¼ˆç”¨æˆ‘ç†è§£åçš„è¯­è¨€æ¥è¡¨è¾¾ï¼‰ï¼š ä»¥æ­è½½2Dæ¿€å…‰é›·è¾¾ï¼ˆ2D-Lidarï¼‰çš„æ‰«åœ°æœºå™¨äººä¸ºä¾‹ï¼Œåªè€ƒè™‘åœ¨äºŒç»´å¹³é¢ä¸‹çš„å…³ç³»ã€‚ä¸–ç•Œåæ ‡ç³»$","title":"äºŒç»´å¹³é¢ä¸‹çš„åæ ‡ç³»å˜æ¢"},{"content":"å°±æ˜¯è¦å®ç°ä¸‹é¢è¿™ç§æ•ˆæœï¼š\n# å°±æ˜¯å±•ç¤ºä¸€ä¸‹æ•ˆæœ^-^ åƒè¿™ç§æƒ³æ³•æ€ä¹ˆæ ·ä¸€æ­¥æ­¥å®ç°çš„å‘¢ï¼Ÿ\nå¯¹äºå‰ç«¯å¼€å‘æ¥è¯´ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯é˜…è¯»æºç å­¦ä¹ ï¼š\nç›´æ¥çœ‹å®ç°è¿‡è¿™ä¸ªæ•ˆæœçš„çš„ç½‘ç«™æ˜¯æ€ä¹ˆå®ç°çš„ï¼ˆåªè¦æ˜¯HTML+CSSæ–¹å¼çš„ï¼Œå°±èƒ½è¯»å‡ºæ¥ï¼Œå¦‚æœå…¨æ˜¯JSç”Ÿæˆçš„ï¼Œé‚£å°±ã€‚ã€‚ã€‚åªèƒ½å¦è¾Ÿè¹Šå¾„äº†ã€‚ï¼‰\n","permalink":"https://ahaknow.com/posts/know/blog-mac-style-code/","summary":"å°±æ˜¯è¦å®ç°ä¸‹é¢è¿™ç§æ•ˆæœï¼š # å°±æ˜¯å±•ç¤ºä¸€ä¸‹æ•ˆæœ^-^ åƒè¿™ç§æƒ³æ³•æ€ä¹ˆæ ·ä¸€æ­¥æ­¥å®ç°çš„å‘¢ï¼Ÿ å¯¹äºå‰ç«¯å¼€å‘æ¥è¯´ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯é˜…è¯»æºç å­¦ä¹ ï¼š ç›´æ¥çœ‹å®ç°","title":"åšå®¢è‡ªå®šä¹‰ï¼šå®ç°Macé£æ ¼çš„ä»£ç æ "},{"content":"ä»¥ä¸‹æ˜¯å¿ƒè·¯å†ç¨‹ï¼š\nä¸ºäº†å†™åšå®¢ï¼Œå› ä¸ºè§‰å¾—å·¥å…·çœ‹ç€ä¸çˆ½ï¼Œå˜æˆäº†å­¦ä¹ Pythonåç«¯ï¼ˆä¸ºå•¥ä¸æ˜¯Javaï¼Ÿè´¨é—®è„¸ï¼‰ï¼Œå¼€å§‹é€ å¼•æ“ï¼Ÿ\nçº ç»“äºç”¨ä»€ä¹ˆåšå®¢æ¡†æ¶ï¼ŒHexoï¼ŸHugoï¼ŸHaloï¼Ÿç”šè‡³æƒ³å­¦JSæ¡†æ¶è‡ªå·±åšä¸€ä¸ªï¼\næœ€ç»ˆè¿˜æ˜¯å›å½’äº†Hugoï¼Œå› ä¸ºmarkdownå†™å®Œï¼Œç›´æ¥ç¼–è¯‘ï¼Œç„¶åpushå°±OKäº†ï¼›\nä½†æ˜¯ï¼Œåˆçº ç»“èµ·è¦ä¸è¦è‡ªå·±ç§Ÿä¸ªæœåŠ¡å™¨ï¼å›½å†…æœåŠ¡å™¨è¦å¤‡æ¡ˆï¼ˆæƒ³æƒ³å½“å¹´æ€ä¹ˆåœ¨è…¾è®¯äº‘å¤‡æ¡ˆçš„ï¼Œåˆæ€ä¹ˆæ°”é¼“é¼“è¯´å†ä¹Ÿä¸å¹²è¿™äº‹äº†ï¼‰ï¼Œsoè€ƒè™‘é¦™æ¸¯æœåŠ¡å™¨ï¼Œä¸€å°æœåŠ¡å™¨åªæ˜¯ç”¨æ¥æ”¾åšå®¢å˜›ï¼Ÿï¼ˆå½“ç„¶å¯ä»¥æœ‰å¾ˆå¤šç”¨å¤„ï¼Œä¸ªäººé‚®ç®±ã€ä¸‹è½½å™¨ç­‰ç­‰ç­‰ï¼‰â€¦â€¦\nå°±æ˜¯ä¸€ä¸ªé™æ€åšå®¢å•Šï¼ŒGithubä¸å°±å¤Ÿäº†ï¼ï¼\nâ€¦â€¦\nå¥½å§ï¼Œè€è€å®å®Gitub + Hugoï¼ˆå½“ç„¶å¯ä»¥Vercelè‡ªåŠ¨éƒ¨ç½²ï¼Œæš‚æ—¶ç”¨ä¸åˆ°ï¼ŒGitub Pageå°±å¯ä»¥äº†ï¼‰\nåªæ˜¯ä¸ºäº†å†™ä½œè¾“å‡ºï¼Œåˆè§‰å¾—ç›´æ¥çš„Hugoæ¨¡ç‰ˆä¸å¤Ÿæ»¡æ„ï¼Œå†æ¬¡å˜æˆäº†é‡å­¦HTMLã€CSSã€JSï¼Œè‡ªå·±åŠ¨æ‰‹æ”¹â€¦â€¦\næ”¹äº†ä¸€äº›ï¼Œæ¯”å¦‚ï¼šMacçª—æˆ·é£æ ¼çš„ä»£ç æ ï¼ˆç”šè‡³çµæœºä¸€åŠ¨è¿˜æ¨¡æ‹Ÿé¼ æ ‡æ”¾ç½®æ˜¾ç¤ºå…³é—­ã€æœ€å°åŒ–ã€æœ€å¤§åŒ–çš„æ•ˆæœï¼‰\nä½†æ˜¯è¿˜æ˜¯æœ‰ä¸æ»¡æ„çš„ï¼šæ¯”å¦‚ï¼šæ ‡é¢˜ä¸‹é¢çš„æ˜¾ç¤ºï¼Œå¤ªå•è°ƒï¼›ç›®å½•èƒ½ä¸èƒ½æ”¾ç½®åœ¨ä¸¤è¾¹ï¼Œç­‰ç­‰ç­‰ç­‰â€¦â€¦æ— åº•æ·±æ¸Šï¼\nç®—äº†ï¼Œå…ˆå†™ä¸€ç¯‡æ­£ç»çš„åšå®¢å‡ºæ¥å§ï¼Œå‰©ä¸‹çš„æƒ³æ³•ä¹‹åæ…¢æ…¢è¡¥å……ï¼\nå†™åšå®¢åˆ°åº•ä¸ºäº†å•¥ï¼Ÿ æˆ‘æ˜¯å…¸å‹çš„å±äºâ€œæœ¬æœ«å€’ç½®â€ï¼Œä¸ç®¡ç”¨å•¥ï¼Œå“ªæ€•å°±æ˜¯æ–‡æœ¬ç›´æ¥å±•ç¤ºï¼Œå†™åšå®¢çš„æ ¸å¿ƒå°±æ˜¯å†™å•Šï¼å“ªé‡Œæ˜¯è¯´ï¼šå“¦ï¼Œè¿™ä¸ªåšå®¢å¼•æ“ä¸è¡Œï¼Œè‡ªå·±å†™ä¸€ä¸ªï¼›é‚£ä¸ªæ¡†æ¶çœ‹ç€ä¸é”™ï¼Œè¦ä¸è¦æ¢ä¸€ä¸ªã€‚é‡ç‚¹æ˜¯å†™å…ˆæŠŠæ–‡ç« å†™å‡ºæ¥å•Šï¼\nå°±æ¯”å¦‚å†å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œè¿˜åœ¨çº ç»“ï¼Œè¦ä¸è¦å†å®Œå–„ä¸€ä¸‹åšå®¢çš„å¤–è§‚â€¦â€¦æ˜¯å•Šï¼Œç­‰ä½ éƒ½å®Œå–„äº†ï¼Œèœéƒ½å‡‰äº†ï¼Œç»“æœå°±æ˜¯å·¥å…·åšå¥½äº†ï¼Œç„¶åæ²¡æœ‰å·¥ä½œäº†ï¼Œè¿™ä¸æ˜¯æç¬‘å˜›ï¼æ”¾åˆ°å†™åšå®¢å°±æ˜¯ï¼Œå…´è‡´è¿‡å»äº†ï¼Œè¯´è¦é‡æ–°æ‹¾èµ·æ¥åœ¨å†™ï¼Œç„¶åç²¾åŠ›å…¨æ”¾åœ¨æ€ä¹ˆæŠŠåšå®¢å¼„å¾—å¥½çœ‹ç‚¹ï¼Œæœ€ç»ˆç²¾åŠ›ç”¨å…‰äº†ï¼Œåšå®¢åˆæ²¡å†™æˆï¼Œäºæ˜¯ä¸€å¹´åˆä¸€å¹´ï¼Œæ²¡äº†ã€‚\nå†™åšå®¢å•Šï¼Œä½ å¾—å…ˆå†™å†è€ƒè™‘å±•ç¤ºå•Šï¼\nå¦å¤–ä¸€ä¸ªå°±æ˜¯ï¼Œä¸èƒ½æ‹–ï¼Œæ‰“æ­»ä¸èƒ½æ‹–ï¼Œè„‘è¢‹é‡Œæœ‰æƒ³æ³•äº†å°±å†™ä¸‹æ¥ï¼Œä¸ç„¶ä¸€å®šä¼šå¿˜ï¼Œä¸ä¼šå†æƒ³èµ·æ¥çš„ï¼è¡€çš„æ•™è®­ï¼\nå› æ­¤ï¼Œç°åœ¨æˆ‘éœ€è¦åšçš„å°±æ˜¯ï¼š\næŠŠè¿™ä¸¤å¤©æŠ˜è…¾åšå®¢çš„ä¸œè¥¿è®°å½•ä¸‹æ¥ï¼Œæ€»ç»“ä¸‹æ¥ï¼Œæ²‰æ·€ä¸‹æ¥ï¼Œè™½ç„¶å°‘ï¼Œä½†ç§¯å°‘æˆå¤šï¼\nä»¥åŠï¼Œæ­¤å‰çš„åšæ–‡å†™å¾—æ–­æ–­ç»­ç»­çš„ï¼Œä¹Ÿéœ€è¦æ•´ç†å†æ‹¿å‡ºæ¥ï¼Œæˆ–è€…ç›´æ¥å­˜ç€å§ï¼Œä»Šå¤©å¼€å§‹ï¼Œå¥½å¥½è®°å½•ï¼ä¸è¦åœï¼\n","permalink":"https://ahaknow.com/posts/think/2024-begin-again/","summary":"ä»¥ä¸‹æ˜¯å¿ƒè·¯å†ç¨‹ï¼š ä¸ºäº†å†™åšå®¢ï¼Œå› ä¸ºè§‰å¾—å·¥å…·çœ‹ç€ä¸çˆ½ï¼Œå˜æˆäº†å­¦ä¹ Pythonåç«¯ï¼ˆä¸ºå•¥ä¸æ˜¯Javaï¼Ÿè´¨é—®è„¸ï¼‰ï¼Œå¼€å§‹é€ å¼•æ“ï¼Ÿ çº ç»“äºç”¨ä»€ä¹ˆåšå®¢æ¡†æ¶ï¼Œ","title":"æŠ˜è…¾åšå®¢æ˜¯ä¸ºäº†æ›´å¥½åœ°ä¸“æ³¨åœ¨å†™ä½œä¸Šï¼Ÿ"},{"content":" å¼•å­ï¼š\nåšäº†ä¸€ä¸ªå®æ—¶å±•ç¤ºçš„å°ç¨‹åºï¼Œä¸€å¼€å§‹åšçš„æ¯”è¾ƒç²—ç³™ï¼Œæ¯æ¬¡å‘¢ï¼Œä¹Ÿå°±æ˜¯æ¯å¤©çš„æ—©ä¸Šï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å»æ‰§è¡Œï¼Œç„¶åç”¨é¼ æ ‡å»ä¸€ç‚¹ç‚¹è°ƒæ•´å±•ç¤ºçª—å£çš„å¤§å°å’Œæ’åˆ—ï¼Œä¸€å…±ä¸‰ä¸ªçª—å£ï¼Œä¸€å¤§ä¸¤å°ï¼Œæ’åˆ—æ–¹å¼æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯ç”±äºæ¯æ¬¡éƒ½æ˜¯ä¸€ç‚¹ç‚¹æ‹–åŠ¨æ‘†æ”¾ï¼Œå› æ­¤æ¯ä¸€æ¬¡è‡ªå·±éƒ½éœ€è¦å¯¹æ’åˆ—åçš„æ ·å­æœ‰ä¸€ä¸ªé¢„æœŸï¼Œå°½å¯èƒ½è°ƒæ•´æˆçœ‹ä¸Šå»è¿˜ä¸é”™çš„æ ·å­ï¼Œå°½ç®¡å¦‚æ­¤è¿™èˆ¬ï¼Œä¹Ÿå¾ˆéš¾åšåˆ°æ¯æ¬¡çš„æ’åˆ—éƒ½ç›¸åŒã€‚åšåˆ°è¿™é‡Œï¼Œè™½ç„¶æ²¡ç”¨åˆ°å¤šå°‘æ—¶é—´ï¼Œå‡ åˆ†é’Ÿå§ï¼Œä½†è€—è´¹äº†ä¸å°‘æ³¨æ„åŠ›ï¼Œå› ä¸ºæ¯å¤©éƒ½è¦æƒ³ç€ï¼šæ—©ä¸Šçš„ç¬¬ä¸€ä»¶äº‹æ˜¯åšè¿™ä¸ªï¼Œè€Œä¸”å¾ˆæœ‰å¯èƒ½å“ªä¸€å¤©å°±å¿˜äº†ã€‚æ™šä¸Šçš„è¯ï¼Œè¿˜è¦æƒ³ç€å»å…³æ‰å®ƒï¼Œæ‰‹åŠ¨å…³é—­ï¼Œè´¹ä¸äº†å¤šå°‘æ—¶é—´ï¼Œä½†åŒæ—¶æ¶ˆè€—äº†ä¸å°‘æ³¨æ„åŠ›ï¼ŒåŸå› å’Œæ—©ä¸Šçš„ä¸€æ ·ï¼šä¸€æ•´å¤©çš„æ½œæ„è¯†é‡Œéƒ½ä¼šæŒ‚å¿µç€ï¼Œæ™šä¸Šäº†å¾—æŠŠå®ƒå…³æ‰ã€‚å¦‚æ­¤ï¼Œä¸€æ—¥å¤ä¸€å¤©ï¼Œå¤©å¤©å¦‚æ­¤ï¼Œé‡å¤ç€åŒæ ·çš„å·¥ä½œï¼Œè€Œä¸”ä¼¼ä¹å¹¶æ²¡æœ‰æ„è¯†åˆ°ä»€ä¹ˆé—®é¢˜â€¦â€¦\néƒ½2024å¹´äº†å•Šï¼è¿˜æ˜¯ä¸ªä¼šæ•²ä»£ç çš„ï¼Œå¤©å¤©å°±å¹²è¿™äº›äº‹ï¼Ÿä¸çŸ¥é“è®©è¿™ä¸ªå°ç¨‹åºè‡ªå·±æ‰“å¼€å†è‡ªå·±å…³æ‰å˜›ï¼Ÿæ—¶é—´ä¸€ç›´å¾€å‰èµ°ï¼Œæ€ä¹ˆå†™ä»£ç çš„æ„è¯†è¿˜ä¸å¦‚ä»å‰äº†å‘¢ï¼\næ˜¯å•Šï¼Œå·²ç»ä¸çŸ¥ä¸è§‰é™·å…¥äº†ä¸€ç§â€œå¿™å¿™ç¢Œç¢Œï¼Œä¸æ€è¿›å–ï¼Œæ¯å¤©åšç€åŒæ ·çš„äº‹ï¼Œä¸ºäº†æ´»ç€è€Œæ´»ç€çš„â€è¡Œå°¸èµ°è‚‰ä¹‹ä¸­äº†ã€‚ä¸€å¤©ï¼Œä¸¤å¤©ï¼Œä¸€å‘¨ï¼Œä¸€ä¸ªæœˆï¼Œå¤§åŠå¹´ï¼Œå°±æ˜¯è¿™ä¹ˆæ··è¿‡æ¥çš„ï¼Œæœ‰è¿›æ­¥å˜›ï¼Ÿæœ‰ä¸€ç‚¹ï¼Œä½†ä»”ç»†ç§ç§åªä¸è¿‡æ˜¯é”™è§‰ï¼Œå¾ˆå¯èƒ½è¿˜æ˜¯ä¸ªè´Ÿæ–¹å‘çš„ã€‚æœ‰åæ€å˜›ï¼Ÿå¥½åƒæœ‰è¿‡ï¼Œä½†å€Ÿå£ä¸€å¥æ²¡æ—¶é—´å•Šå°±è¿‡å»äº†ï¼Œæ­£å¦‚æ­¤æ—¶æ•²å‡»ç€é”®ç›˜ï¼Œå¦‚æœç°åœ¨ä¸å†™ï¼Œé‚£ä¹ˆå¯èƒ½åˆæ˜¯ï¼Œä¸€å¤©è¿‡å»ï¼Œä¸€å‘¨è¿‡å»ï¼Œä¸€ä¸ªæœˆè¿‡å»ï¼Œäºæ˜¯ä¹ï¼Œ2025å¹´2æœˆ20æ—¥å•¦ã€‚ç¡®å®å¾ˆæ‰“è„¸ï¼Œå› ä¸ºä¸Šä¸€æ¬¡æƒ³è¦å†™å†™æ–‡å­—åæ€çš„æ—¶å€™ï¼Œæ˜¯2023å¹´2æœˆ18æ—¥ï¼Œè€Œå½“ä¸‹æ­¤åˆ»ï¼Œæ˜¯2024å¹´2æœˆ19æ—¥ã€‚ã€‚ã€‚\nä»€ä¹ˆæ—¶å€™ç§æ ‘éƒ½ä¸è¿Ÿï¼Œåªè¦ä½ æ„è¯†åˆ°äº†å°±æŠ¡èµ·é“²å­ï¼ä¹Ÿè®¸å½“ä¸‹çš„å½¢åŠ¿è®©ä½ è§‰å¾—è‡ªå·±çš„æ‰€å­¦ä¸€æ–‡ä¸å€¼ï¼Œé‚£ä¹ˆå°±ç«‹åˆ»å¼€å§‹ï¼Œå¤šå­¦ä¹ ç‚¹ï¼Œæƒ³å­¦çš„å°±å»å­¦ï¼Œä»è‡ªå·±çš„æ‰€çˆ±å‡ºå‘ï¼Œè€Œä¸æ˜¯çŠ¹è±«ã€æƒ†æ€…ï¼Œè¿˜å¾˜å¾Šâ€¦â€¦\nè¯´å›æ¥äº†ï¼ŒåŸæœ¬è¿™ä¸€ç¯‡è®°å½•æ˜¯æƒ³åå‘äºâ€œè‡ªå­¦çš„æ€»ç»“â€ï¼Œä¼šæ¶‰åŠä¸€äº›æ¯”è¾ƒâ€œä¸“ä¸šâ€çš„ä¸œè¥¿ï¼Œä¸€äº›ä»£ç å•Šï¼Œä¸€äº›æŒ‡ä»¤å•¥çš„ï¼Œæ˜¨æ™šå€Ÿå£ä¸€å¥ï¼šâ€œå›°äº†å…ˆç¡è§‰äº†â€ï¼Œå°±æ²¡å†™ã€‚æ¬ºéª—è‡ªå·±è¯´æ—©ä¸Šé†’æ¥å†™ï¼Œå®é™…ä¸Šè‡ªå·±å¿ƒé‡Œå¾ˆæ¸…æ¥šï¼Œå¤§æ¦‚ç‡ä¸å¯èƒ½ã€‚äººçš„æƒ°æ€§å¤ªè‡ªç„¶äº†ï¼Œèººç€å¤šèˆ’æœå•Šï¼Œä½†å¦‚æœä¸€ç›´èººç€ï¼Œé‚£ä¸å¦‚æˆä¸ºä¸€å…·å°¸é¦–ã€‚\næ­£ç¯‡ï¼šæ„è¯†åˆ°äº†å°±ç«‹åˆ»è¡ŒåŠ¨ æˆ‘çŸ¥é“æ­¤å‰çš„æˆ‘ï¼Œä¹Ÿæ˜¯æˆäº†â€œæ¯å¤©é‡å¤åšç€åŒæ ·å·¥ä½œâ€çš„è®¨åŒæ ·å­äº†ã€‚\næ–°çš„ä¸€å¹´ï¼Œé‚£å°±ç”±æ­¤æ”¹å˜å§ï¼\nå®æ—¶å±•ç¤ºçš„å°ç¨‹åºæ˜¯å§ï¼ŒåŠ ä¸€ä¸ªè‡ªåŠ¨å¯åŠ¨å’Œé€€å‡ºçš„åŠŸèƒ½å’¯ï¼æ€ä¹ˆåšå‘¢ï¼Ÿ\næˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯å°†è¿™ä¸ªå°ç¨‹åºè½¯ä»¶åŒ–ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨QTçš„å¯è§†åŒ–å›¾å½¢ç•Œé¢æ¥æ”¹å†™ï¼Œæ— å¥ˆï¼Œå°è¯•äº†å¤§åŠå¤©ï¼Œä»£ç ç¼–è¯‘çœ‹ç€æ²¡é—®é¢˜äº†ï¼Œä½†ç”¨ä¸èµ·æ¥ï¼Œè¿™å¾ˆå¤§åŸå› å’Œè‡ªå·±æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ æœ‰å…³ã€‚ç°åœ¨çš„chatGPTå•Šï¼Œå†™ä»£ç å¾ˆå‰å®³äº†ï¼Œå¯èƒ½ç›®å‰æˆ‘çš„æ°´å¹³è¿˜æ¯”è¾ƒä½ï¼Œç”¨ä¸å¥½å®ƒï¼Œä»¥è‡³äºè¯´æ˜¯è®©å®ƒè¾…åŠ©æˆ‘æ”¹å†™ï¼Œå®é™…ä¸Šæˆ‘å¾ˆå¤šæ—¶å€™å¹¶ä¸è¿‡è„‘å­ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œé‚£å“ªè¡Œå“¦ï¼è¿™ä¸å°±æˆäº†å·¥å…·çš„å¥´éš¶äº†ï¼Œè¿å·¥å…·éƒ½ä¸å¦‚äº†ï¼Œè¿™ä¸æ›´å®¹æ˜“è¢«é£Ÿç‰©é“¾ä¸­çš„è…é£Ÿè€…ç»™åƒäº†å˜›ã€‚\näºæ˜¯ï¼Œæˆ‘å¼€å§‹æƒ³ï¼Œèƒ½ä¸èƒ½é€šè¿‡ä¸€äº›æŠ€å·§æ¥å®ç°æˆ‘çš„éœ€æ±‚å‘¢ï¼Ÿè¿™äº›æŠ€å·§èƒŒåä¾èµ–çš„åŠŸèƒ½åº”è¯¥æ˜¯å­˜åœ¨çš„ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“ï¼Œæ­¤æ—¶æˆ‘å°±æ˜¯å¯ä»¥é€šè¿‡chatGPTååŠ©äº†ã€‚\nç°åœ¨æ˜¯ä¸‰ä¸ªçª—å£ï¼ˆæ­¤å‰å®ç°çš„æ—¶å€™ï¼Œä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œå› æ­¤åŒæ—¶å±•ç¤ºçš„é—®é¢˜æ˜¯è§£å†³çš„ï¼‰ï¼Œæˆ‘èƒ½ä¸èƒ½æŠŠçª—å£æ•°é‡å‡å°‘ï¼Œæ¯”å¦‚ä¸¤ä¸ªå°çª—å£ç›´æ¥åˆæˆæˆä¸€ä¸ªï¼Ÿ ä¹‹å‰æ¯æ¬¡æ‰‹åŠ¨æ‰“å¼€éƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´çª—å£å¤§å°å’Œä½ç½®ï¼Œèƒ½ä¸èƒ½ç›´æ¥åœ¨ä»£ç ä¸­å®ç°é¢„å…ˆçš„è®¾ç½®å‘¢ï¼Ÿ è‡ªåŠ¨æ‰“å¼€ï¼ŒLinuxä¸Šä¼¼ä¹æœ‰å®ˆæŠ¤è¿›ç¨‹å¯ä»¥ï¼Ÿä½†æ˜¯æ²¡æœ‰åœ¨è¿™é‡Œå°è¯•è¿‡ï¼ˆè¿™ä¸ªä¹Ÿæ˜¯å¾ˆå¤è€çš„çŸ¥è¯†äº†ï¼Œè‡³å°‘å…­å¹´å‰æˆ‘å°±ç”¨è¿‡ï¼‰ï¼Œæƒ³åˆ°è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰è¡ŒåŠ¨èµ·æ¥ï¼ï¼ è‡ªåŠ¨å…³é—­å‘¢ï¼Ÿä¹‹å‰è®¾ç½®äº†é€šè¿‡é”®ç›˜è¾“å…¥qå®ç°ç¨‹åºçš„é€€å‡ºï¼Œèƒ½ä¸èƒ½è®©Linuxè‡ªåŠ¨æ¨¡æ‹Ÿé”®å…¥qå‘¢ï¼Ÿ æŒ‰ç…§è¿™ä¸ªæ€è·¯æˆ‘å°±å»åšäº†ï½\nåˆå¹¶çª—å£ï¼šå°†æ€ç»´æ‰“å¼€ï¼Œä¸è¦å±€é™ ä¸€å¼€å§‹ï¼Œæˆ‘æ˜¯ç”¨ä¸¤ä¸ªçª—å£æ¥åŒæ—¶æ˜¾ç¤ºä¸¤ä¸ªå›¾åƒçš„ï¼Œæœ€ç®€å•ä¹Ÿæ˜¯æœ€ç¬¨çš„æ“ä½œã€‚ä¸ºå•¥ä¹‹å‰æˆ‘å°±æ²¡æœ‰æƒ³åˆ°å°†ä¸¤ä¸ªå›¾åƒæ”¾åœ¨ä¸€ä¸ªçª—å£é‡Œå‘¢ï¼Ÿ\nå¯èƒ½æ˜¯æ€ç»´æƒ¯æ€§ï¼Œä¹‹å‰æ€ä¹ˆåšçš„ï¼Œå°±è·Ÿç€æ€ä¹ˆåšäº†ã€‚ ä¹Ÿå¯èƒ½å°±æ˜¯å·æ‡’ï¼Œä»è€Œå¯¼è‡´çš„ä¸åŠ¨è„‘å­ï¼Œä»¥åŠç›¸åº”ä¼šäº§ç”Ÿçš„æ‹–å»¶ã€‚ è®¤è¯†åˆ°è‡ªå·±çš„æ€ç»´å­˜åœ¨åƒµåŒ–ä¹‹åï¼Œå¼€å§‹æ”¹å˜ï¼š\né¦–å…ˆæƒ³åˆ°ï¼Œç›´æ¥æ‹¼æ¥ä¸¤å¼ å›¾åƒï¼Œä¸Šä¸‹æ‹¼æ¥å°±èƒ½å®Œæˆã€‚ä½†æ˜¯åœ¨æ˜¾ç¤ºä¸Šä¸å‹å¥½ï¼Œä¸Šä¸‹æ‹¼æ¥åå˜æˆä¸€ä¸ªé•¿æ–¹å½¢äº†ï¼Œä½†æ˜¯ç”±äºæ˜¾ç¤ºå™¨å¾ˆå¤§ï¼ŒæŠŠçª—å£æ‹‰é•¿ä¹‹åä¸Šä¸‹å›¾å±…ä¸­åœ¨ä¸€èµ·ï¼Œä¸Šä¸‹æœ‰ç©ºç™½çš„ï¼Œæ˜¾å¾—å¾ˆä¸‘ï¼Œä»ç¾è§‚çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œå¦‚æœä¸¤ä¸ªæ‹¼æ¥çš„å›¾åƒåœ¨ä¸Šä¸‹ä½ç½®èƒ½å¤Ÿä¿è¯å¯¹ç§°ï¼Œæ¯”å¦‚ä¸Šæ–¹ã€ä¸¤å›¾ä¸­é—´ã€ä¸‹æ–¹å„è‡ªç•™å‡ºä¸€å—ç©ºé—´ï¼Œè¿™æ ·å°±çœ‹ç€èˆ’æœäº†ã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œé‚£å°±æ”¹ï½\nç›´æ¥æ‹¼æ¥ä¸æˆï¼Œé‚£å°±å…ˆè€ƒè™‘åˆ›å»ºä¸€ä¸ªå¤§çš„çª—å£ï¼Œç„¶åå°†ä¸¤å¼ å›¾åƒåˆ†åˆ«æè¿›å»ï¼Œå…·ä½“æ“ä½œèµ·æ¥ç‰¹åˆ«åƒå‰ç«¯çš„UIè®¾è®¡ï¼Œè¦è€ƒè™‘paddingçš„å¡«å……ã€‚è¿™æ ·çš„æ–¹æ³•å¯è¡Œï¼Œç„¶åè¿˜éœ€è¦åŠ å…¥å›¾åƒçš„æ ‡é¢˜ï¼Œä¹Ÿé‡‡ç”¨å¾€å¤§çª—å£é‡Œæç½®çš„æ€è·¯ï¼ŒåŒæ ·çš„ï¼Œè¿˜æ˜¯è€ƒè™‘äº†è¦è®¾ç½®paddingçš„å¡«å……ï¼Œä½¿å¾—æ ‡é¢˜èƒ½å¤Ÿå±€ä¸­ã€‚ä¹‹åå°±æ˜¯æ ¹æ®å®é™…çš„æƒ…å†µï¼Œä¸æ–­åœ°è°ƒæ•´çª—å£çš„å°ºå¯¸ï¼Œpaddingçš„å¤§å°ï¼Œä»¥è¾¾åˆ°è‡ªè®¤ä¸ºæ»¡æ„çš„æ¯”ä¾‹äº†ã€‚è‡³æ­¤ï¼Œåˆå¹¶çª—å£å®Œæˆäº†ï¼Œç°åœ¨çš„å°ç¨‹åºåªéœ€è¦ä¸¤ä¸ªçª—å£å°±èƒ½æ»¡è¶³äº†ã€‚\nä»£ç å¤‡å¿˜å½•ğŸ“ cv::Mat merged_image; if (left_image_color_global \u0026amp;\u0026amp; !left_image_color_global-\u0026gt;empty() \u0026amp;\u0026amp; disparity_color_global \u0026amp;\u0026amp; !disparity_color_global-\u0026gt;empty()) { int space = 25; // æ ‡é¢˜å’Œå›¾åƒä¹‹é—´çš„ç©ºé—´ int test_height = 50; // æ–‡æœ¬æ ‡é¢˜çš„é«˜åº¦ï¼ˆå¤§è‡´ä¼°è®¡ï¼‰ cv::Scalar textColor(255, 255, 255); // æ–‡æœ¬é¢œè‰² int font_face = cv::FONT_HERSHEY_SIMPLEX; double font_scale = 1; int thickness = 2; int top_padding = 20; int between_padding = 60; int bottom_padding = 20; int merged_height = left_image_color_global-\u0026gt;rows + disparity_color_global-\u0026gt;rows + 3 * space + 2 * test_height + top_padding + bottom_padding + between_padding; int merged_width = std::max(left_image_color_global-\u0026gt;cols, disparity_color_global-\u0026gt;cols); merged_image = cv::Mat::zeros(merged_height, merged_width, left_image_color_global-\u0026gt;type()); // ç»˜åˆ¶ç¬¬ä¸€ä¸ªå›¾åƒå’Œæ ‡é¢˜ int title1_x = (merged_width - cv::getTextSize(\u0026#34;Left Image\u0026#34;, font_face, font_scale, thickness, nullptr).width) / 2; cv::putText(merged_image, \u0026#34;Left Image\u0026#34;, cv::Point(title1_x, test_height), font_face, font_scale, textColor, thickness); left_image_color_global-\u0026gt;copyTo(merged_image(cv::Rect(0, top_padding + test_height + space, left_image_color_global-\u0026gt;cols, left_image_color_global-\u0026gt;rows))); // ç»˜åˆ¶ç¬¬äºŒä¸ªå›¾åƒå’Œæ ‡é¢˜ int title2_x = (merged_width - cv::getTextSize(\u0026#34;Dense Disparity\u0026#34;, font_face, font_scale, thickness, nullptr).width) / 2; int merged_mid = left_image_color_global-\u0026gt;rows + 2 * space + test_height + top_padding; cv::putText(merged_image, \u0026#34;Dense Disparity\u0026#34;, cv::Point(title2_x, merged_mid + test_height), font_face, font_scale, textColor, thickness); disparity_color_global-\u0026gt;copyTo(merged_image(cv::Rect(0, merged_mid + bottom_padding + test_height + space, disparity_color_global-\u0026gt;cols, disparity_color_global-\u0026gt;rows))); } æå‰è®¾ç½®çª—å£ä½ç½®ï¼šä¸çŸ¥é“çš„ä¸ä»£è¡¨æ²¡æœ‰ï¼Œä»¥å‰æ˜¯æœç´¢ï¼Œç°åœ¨æ˜¯â€œé—®â€ è®¾ç½®å¥½çª—å£å¤§å°ä¹‹åï¼Œè¿˜éœ€è¦èƒ½å¤Ÿå®ç°æ‰“å¼€å°ç¨‹åºåï¼Œä¸¤ä¸ªçª—å£èƒ½å¤Ÿè‡ªåŠ¨â€œç«™â€åˆ°åˆé€‚çš„ä½ç½®ã€‚åº”è¯¥æ˜¯æœ‰è¿™æ ·çš„æ–¹æ³•çš„ï¼Œåªä¸è¿‡æ˜¯æˆ‘ä¸çŸ¥é“ï¼Œåœ¨æ²¡æœ‰chatGPTä¹‹å‰ï¼Œå¯ä»¥ç”¨Googleè¿›è¡Œæœç´¢ï¼Œç°åœ¨æœ‰äº†chatGPTï¼Œåªè¦å°†éœ€æ±‚æè¿°æ¸…æ¥šï¼Œä¸€èˆ¬äº’è”ç½‘ä¸Šå·²æœ‰çš„ä¿¡æ¯å°±èƒ½å¤Ÿè·å–åˆ°ã€‚å› æ­¤æˆ‘å°±ç›´æ¥â€œé—®â€äº†æœ‰æ²¡æœ‰è¿™æ ·çš„æ–¹æ³•ï¼Œæœç„¶ï¼Œæœ‰çš„ï¼Œè€Œä¸”è¿˜å¾ˆç®€æ´ã€‚\nå¿½ç„¶æƒ³åˆ°ä¸€ç‚¹ï¼Œè¿™ä¸ªä¸å°±æ˜¯ä¿¡æ¯å·®å˜›ï¼ä»¥å‰é ä¿¡æ¯å·®åƒæŸä¸€ç§èŒä½é“é¥­ç¢—çš„æƒ³æ³•åº”è¯¥åœ¨æ­¤ä¹‹åè‡ªå·±æ¶ˆäº¡äº†å§ï¼Ÿä¹Ÿè®¸ä¸ä¼šï¼Œå› ä¸ºå¥½é€¸æ¶åŠ³ï¼Œå› ä¸ºæ‡’æƒ°ï¼Œå› ä¸ºè·¯å¾„ä¾èµ–ï¼Ÿæ€»ä¹‹ï¼Œç°åœ¨è‡ªå·±æ„è¯†åˆ°äº†è¿˜ä¸ç®—è¿Ÿã€‚\næ‰€ä»¥ï¼Œå¾ˆå¯èƒ½ä»¥åè¿˜æ˜¯å¾ˆç¼ºâ€œäº§å“ç»ç†ã€é¡¹ç›®ç»ç†â€è¿™ç§æ˜ç¡®çŸ¥é“éœ€æ±‚æ˜¯ä»€ä¹ˆçš„ï¼Œèƒ½å¤Ÿç”¨ç²¾ç‚¼çš„è¯­è¨€å°†å…¶æè¿°æ¸…æ¥šçš„æ€»æ½å…¨å±€çš„äººï¼Œè€Œä¸ç¼ºé‡å¤çš„ã€ä½çº§çš„ã€å¤åˆ¶ç²˜è´´çš„æ‰€è°“â€œç¨‹åºå‘˜â€ç å†œã€‚\nä»£ç å¤‡å¿˜å½•ğŸ“ cv::namedWindow(\u0026#34;Color \u0026amp; Disparity\u0026#34;, cv::WINDOW_NORMAL); cv::resizeWindow(\u0026#34;Color \u0026amp; Disparity\u0026#34;, 1548, 2160); cv::moveWindow(\u0026#34;Color \u0026amp; Disparity\u0026#34;, 0, 0); // å°†çª—å£ç§»åŠ¨åˆ°å·¦ä¸Šè§’ // ---------------------------------------------------------- // åˆ›å»ºç‚¹äº‘å¯è§†åŒ–å™¨ pcl::visualization::PCLVisualizer::Ptr viewer(new pcl::visualization::PCLVisualizer(\u0026#34;Dense PointCloud Viewer\u0026#34;)); viewer-\u0026gt;setBackgroundColor(0, 0, 0); viewer-\u0026gt;addPointCloud\u0026lt;pcl::PointXYZRGB\u0026gt;(point_cloud_ptr_global, \u0026#34;Dense PointCloud\u0026#34;); viewer-\u0026gt;setPointCloudRenderingProperties(pcl::visualization::PCL_VISUALIZER_POINT_SIZE, 3, \u0026#34;Dense PointCloud\u0026#34;); viewer-\u0026gt;initCameraParameters(); viewer-\u0026gt;setCameraPosition( 0, 0, -1.5, // æ§åˆ¶ç›¸æœºçš„XYZä½ç½® 0, 0.25, 1, 0, 1, 0 // åé¢ç‚¹äº‘è½¬äº†æ—‹è½¬ï¼Œè¿™é‡ŒYä¸º1 ); viewer-\u0026gt;setSize(2220, 2160); // å› ä¸ºä½¿ç”¨äº†VTKçš„çª—å£ vtkSmartPointer\u0026lt;vtkRenderWindow\u0026gt; renderWindow = viewer-\u0026gt;getRenderWindow(); renderWindow-\u0026gt;SetPosition(1900, 0); è‡ªå¯åŠ¨ï¼šä¸æ‡‚çš„å°±å¤šæ¢ç©¶ï¼Œä¸è¦æ˜¯ä¸€ä¸ªâ€œåŠç“¶æ°´å“å®å½“â€ ä¹‹å‰çŸ¥é“ä¸€ç§æ–¹æ³•æ˜¯ç”¨å®ˆæŠ¤è¿›ç¨‹ï¼šé€šè¿‡crontab -eè¿›è¡Œè®¾ç½®ï¼Œæˆ‘ä¹Ÿç”¨è¿™ä¸ªæ–¹æ³•å°è¯•äº†ï¼Œå‘ç°ä¸èµ·ä½œç”¨ã€‚åˆ†æåŸå› å¾—åˆ°ï¼š\nå› ä¸ºï¼Œæˆ‘å¯åŠ¨çš„å°ç¨‹åºéœ€è¦è°ƒç”¨æ˜¾ç¤ºçª—å£ï¼ŒOpenCVæä¾›çš„ç®€æ˜“çª—å£å’ŒVTKæä¾›çš„å¯è§†åŒ–çª—å£ï¼Œè€Œå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨å‘½ä»¤æ—¶ï¼Œæ˜¯ä¸€ç§â€œæ–‡æœ¬â€æ–¹å¼ï¼Œæ— æ³•å”¤èµ·æ˜¾ç¤ºçš„çª—å£ã€‚\n**ä»¥å‰åœ¨æœåŠ¡å™¨ä¸Šç”¨crontabè‡ªå¯åŠ¨ä¸€äº›å‘½ä»¤ï¼Œå› ä¸ºåªä¼šæœ‰æ–‡æœ¬è¾“å‡ºï¼Œæ¯”è¾ƒç®€æ˜“ï¼Œé‚£ä¼šå„¿ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨ï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šæ¶‰åŠæ˜¾ç¤ºï¼Œä¹Ÿå°±å¿½ç•¥äº†è¿™ä¸ªé—®é¢˜ã€‚**æ‰€ä»¥ï¼Œæˆ‘æ­¤å‰å¯¹äºå®ˆæŠ¤è¿›ç¨‹çš„ç†è§£è¿˜åªæ˜¯çš®æ¯›ï¼Œä»Šå¤©å¤šäº†ä¸€äº›ä½¿ç”¨çš„ç»éªŒã€‚ä½†æ›´é‡è¦çš„æ˜¯ä»è¿™æ¬¡çš„ç»å†ä¸­å­¦ä¼šä¸€äº›â€œé‡åˆ°é—®é¢˜ã€åˆ†æç°è±¡ã€æ€è€ƒè§£å†³â€çš„æ€ç»´ã€‚\nå‘ç°è¿™æ¡è·¯èµ°ä¸é€šï¼Œäºæ˜¯ï¼Œå°†è‡ªå·±çš„éœ€æ±‚é‡æ–°æ•´ç†äº†ä¸€éï¼š\nâ€œæˆ‘å¸Œæœ›åœ¨å½“å‰æ˜¾ç¤ºå™¨ä¸‹ï¼Œå½“å‰çš„å‘½ä»¤è¡Œç»ˆç«¯ä¸‹ï¼Œå®šæ—¶åœ°æ‰§è¡ŒæŸä¸€ä¸ªå‘½ä»¤â€\nåœ¨è¿™ä¸ªæ€è·¯ä¸‹ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œçš„æ–¹å¼ï¼š\nåœ¨ç»ˆç«¯ä¸­ï¼ŒæŒç»­è¿è¡Œä¸€ä¸ªåˆ¤æ–­ï¼šè·å–å½“å‰æ—¶é—´ï¼Œåˆ¤æ–­æ˜¯å¦ç­‰äºè®¾å®šçš„éœ€è¦è‡ªåŠ¨æ‰“å¼€çš„æ—¶é—´ï¼Œå¦‚æœæ˜¯å°±æ‰§è¡Œå‘½ä»¤ï¼Œç„¶åä¹‹åä¸€æ®µæ—¶é—´é‡Œä¸å†æ‰§è¡Œã€‚\nåœ¨Linuxç¯å¢ƒä¸‹ï¼Œè¿™ä¸ªåˆ¤æ–­å¯ä»¥æ¯”è¾ƒç›´æ¥çš„å®ç°ï¼šé€šè¿‡Bashè„šæœ¬çš„æ–¹å¼ã€‚ï¼ˆæœ¬è´¨å°±æ˜¯Bashè„šæœ¬è‡ªåŠ¨åŒ–ï¼‰\nè¿™é‡Œæ˜ç™½äº†ä¸€ç‚¹ï¼Œä¸€æ¡è·¯èµ°ä¸é€šå¾ˆå¯èƒ½æ˜¯è¿™è·¯æ¡æœ¬èº«å°±ä¸å¯¹ï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™å¯¹ä¸€é¡¹äº‹ç‰©ä¹Ÿæ˜¯å¤„äºä¸€ç§äº†è§£çš®æ¯›çš„çŠ¶æ€ï¼Œæ‰€ä»¥é‡åˆ°é—®é¢˜äº†è¦å­¦ä¼šæ‰“ç ´â€œè‡ªä»¥ä¸ºæ˜¯â€ï¼Œä»æ•´ä½“çš„å±‚é¢æ¥è¿›è¡Œåˆ†æï¼Œå¯¹äºè¿™é‡Œçš„é—®é¢˜å°±æ˜¯ï¼šâ€œå®ˆæŠ¤è¿›ç¨‹ä¸è¡Œï¼Œä¸ºå•¥ä¸è¡Œï¼Œé‚£æˆ‘æŠŠè¿è¡Œçš„æ—¥å¿—æ‰“å°å‡ºæ¥ï¼Œç„¶ååˆ†æä¸€ä¸‹é”™è¯¯ä¿¡æ¯ï¼Œå†è€ƒè™‘è¿™ç§æ–¹æ³•æ˜¯ä¸æ˜¯æœ¬èº«å°±ä¸æ”¯æŒã€‚â€\nä»£ç å¤‡å¿˜å½•ğŸ“ #!/bin/bash TARGET_TIME=\u0026#34;09:00\u0026#34; while true; do CURRENT_TIME=$(date +%H:%M) if [ \u0026#34;$CURRENT_TIME\u0026#34; == \u0026#34;$TARGET_TIME\u0026#34; ]; then /home/metoak/Projects/RealTimeDensePointCloud/C++/build/tensorrt_inference_one_camera /home/metoak/Projects/RealTimeDensePointCloud/C++/models/model_mobilev2_960_512.trt 960 512 sleep 60 # é¿å…åœ¨ç›®æ ‡æ—¶é—´å¤šæ¬¡æ‰§è¡Œ fi sleep 30 # æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡æ—¶é—´ done è‡ªå…³é—­ï¼šè„‘å­æ˜¯è¶Šç”¨è¶Šçµå…‰çš„ï¼Œå¤šæƒ³æƒ³ï¼Œä¸è¦å›ºåŒ–ï¼Œä¸è¦é™·å…¥è·¯å¾„ä¾èµ– åœ¨è¿™é‡Œé‡åˆ°çš„é—®é¢˜å’Œè‡ªå¯åŠ¨æ—¶å·®ä¸å¤šã€‚åœ¨æœ€å¼€å§‹å®ç°æ—¶ï¼Œä¹Ÿæƒ³åˆ°äº†è¦å®ç°æ‰‹åŠ¨å…³é—­ï¼Œæ‰€ä»¥å°±è®¾ç½®äº†ä¸€ä¸ªé€šè¿‡é”®ç›˜å…³é—­çš„æ–¹æ³•ã€‚æˆ‘åœ¨æƒ³èƒ½ä¸èƒ½è‡ªåŠ¨å…³é—­æ—¶ï¼Œä¹Ÿå°±é¡ºç€è¿™ä¸ªæ€è·¯èµ°ä¸‹å»äº†ï¼šâ€œèƒ½ä¸èƒ½ç”¨æŒ‡ä»¤æ¥æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥ï¼Œæ¥è¾¾åˆ°è·Ÿæ‰‹åŠ¨æŒ‰ä¸‹é”®ç›˜ä¸€æ ·çš„æ•ˆæœå‘¢ï¼Ÿ\næƒ³æ³•æ˜¯å¥½çš„ï¼Œä¹Ÿé€šè¿‡chatGPTè¿›è¡Œâ€œè¯¢é—®â€å’Œå°è¯•ï¼Œæ˜¯æœ‰è¿™ç§æ–¹æ³•çš„ï¼Œä½†æ˜¯æ— æ³•åº”ç”¨åœ¨è¿™ä¸ªé—®é¢˜çš„è§£å†³ä¸Šã€‚åŸå› ç®€å•åˆ†æå¦‚ä¸‹ï¼š\né€šè¿‡ä¸€ä¸ªæŒ‡ä»¤æˆ–è€…ä¸€ä¸ªç¨‹åºæ¨¡æ‹Ÿé”®ç›˜è¾“å…¥ï¼Œå®ƒæ‰€ç”Ÿæ•ˆçš„ä½ç½®æ˜¯è¿™ä¸ªæŒ‡ä»¤æˆ–è€…ç¨‹åºè¿è¡Œçš„ç©ºé—´ï¼›è€Œæˆ‘é€šè¿‡é”®ç›˜æ§åˆ¶å…³é—­æ—¶ï¼Œå®é™…ä¸Šæ˜¯åšäº†ä¸¤ä»¶äº‹ï¼šä¸€ã€å…ˆé€‰ä¸­çª—å£ï¼ŒäºŒã€æŒ‰ä¸‹é”®ç›˜ä¸Šçš„qé”®ï¼›æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥å¯ä»¥å®Œæˆç¬¬äºŒæ­¥ï¼Œä½†æ˜¯å®Œæˆä¸äº†ç¬¬ä¸€æ­¥ï¼Œå› æ­¤è¿™ç§æ–¹æ³•åœ¨è¿™é‡Œä¸èµ·ä½œç”¨ã€‚\nè‡³å°‘ï¼Œæˆ‘åœ¨æ€è€ƒé—®é¢˜ä¸Šï¼Œä¼šå¤šæƒ³ä¸€æ­¥äº†ã€‚ä½†ä¹Ÿé™·è¿›äº†è·¯å¾„ä¾èµ–ä¸­ï¼\næƒ³è®©ç¨‹åºè‡ªå·±å…³é—­çš„æœ€å¿«æ·æ–¹å¼éš¾é“ä¸åº”è¯¥æ˜¯åœ¨ç¨‹åºå†…éƒ¨å®ç°å˜›ï¼Ÿè€Œä¸”å¾ˆæ–¹ä¾¿çš„åªéœ€è¦ä¸€ä¸ªåˆ¤æ–­å°±è¡Œäº†ï¼Œä¸ç„¶è¦ä½ ç¼–ç åšä½•ç”¨ï¼Ÿ\næ˜¯å•Šï¼Œæˆ‘å¿˜è®°äº†ï¼Œæ•´ä¸ªæ¼”ç¤ºç¨‹åºçš„ä»£ç éƒ½æ˜¯æˆ‘å†™çš„ï¼Œé‚£æˆ‘æƒ³æ§åˆ¶ä»€ä¹ˆæ—¶å€™å…³é—­ï¼Œä¸æ˜¯å¾ˆå®¹æ˜“å˜›ï¼ï¼ˆä»€ä¹ˆæ—¶å€™å¼€å¯ä¸å¤ªè¡Œï¼Œä½†ç”¨äº†ä¸Šé¢çš„æŒç»­è¿è¡Œåˆ¤æ–­æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºå¼€å¯éœ€è¦ä»å¤–ç•Œå¼€å¯ã€‚æ–­ç”µçš„ç”µè„‘æ€ä¹ˆè‡ªåŠ¨å¼€æœºå‘¢ï¼Ÿä½†å¼€æœºçš„ç”µè„‘å¯ä»¥è®¾ç½®å®šæ—¶å…³é—­ï¼Œå¦‚æ­¤å¸¸è¯†ï¼Œè‡ªå·±ä¹‹å‰å’‹å°±å¿˜äº†å‘¢ã€‚ã€‚ã€‚ï¼‰\næ‰€ä»¥ï¼Œæœ‰æ—¶å€™å¯ä»¥è®©è‡ªå·±é€‚å½“æ”¾ç©ºï¼Œç„¶åé‡æ–°æ¢³ç†ï¼Œä¸€æ­¥ä¸€æ­¥æ¥åˆ†æè§£å†³ã€‚\nè·¯å¾„ä¾èµ–ï¼Œè¯´åˆ°åº•ä¹Ÿæ˜¯å› ä¸ºæ‡’ï¼Œèƒ½ä¸èƒ½æ‰“ç ´æ‡’ï¼Œè¿˜å¾—çœ‹è‡ªå·±å¤Ÿä¸å¤Ÿç‹ å¿ƒå’ŒéŸ§æ€§äº†ï¼Œæ„ˆæŒ«æ„ˆå‹‡ï¼Œè¿™ä¸ªæ–¹æ³•ä¸è¡Œï¼Œå¤§ä¸äº†ä»å¤´æ¥ï¼Œç”¨æ–°çš„æ€è·¯æ¥è§£å†³ï¼\nä»£ç å¤‡å¿˜å½•ğŸ“ // è·å–å½“å‰æ—¶é—´ auto now = std::chrono::system_clock::now(); std::time_t now_c = std::chrono::system_clock::to_time_t(now); std::tm now_tm = *std::localtime(\u0026amp;now_c); // æ£€æŸ¥æ—¶é—´æ˜¯å¦è¶…è¿‡19:00 if (now_tm.tm_hour \u0026gt;= 19) { std::cout \u0026lt;\u0026lt; \u0026#34;Current time is \u0026#34; \u0026lt;\u0026lt; std::put_time(\u0026amp;now_tm, \u0026#34;%F %T\u0026#34;) \u0026lt;\u0026lt; \u0026#34;, the machine need to rest, See you tomorrow!\u0026#34; \u0026lt;\u0026lt; std::endl; running = false; } // åŸæ¥çš„æ‰‹åŠ¨å…³é—­æ“ä½œ int key = cv::waitKey(1); if (key == \u0026#39;q\u0026#39; || key == \u0026#39;Q\u0026#39;) { running = false; } ç»“æŸè¯­ï¼šç»§ç»­åšæŒï¼Œä»1åˆ°2åˆ°3ï¼Œåˆ°100ï¼Œåˆ°ä¸€ç›´èƒ½åšæŒ äººç±»æœ€å¯è´µçš„ï¼Œä¸å°±æ˜¯ä¼šæ€è€ƒå˜›ï¼Œæœºå™¨æ™ºèƒ½åªä¼šè¶Šæ¥è¶Šå¼ºç››çš„ä»Šåï¼Œå°¤å…¶æ˜¾å¾—çè´µï¼\nç»§ç»­åšæŒï¼Œæ˜å¤©å†ç»§ç»­ï½\n2024å¹´2æœˆ19æ—¥\n","permalink":"https://ahaknow.com/posts/think/master-of-innovation-or-slave-of-repetition/","summary":"å¼•å­ï¼š åšäº†ä¸€ä¸ªå®æ—¶å±•ç¤ºçš„å°ç¨‹åºï¼Œä¸€å¼€å§‹åšçš„æ¯”è¾ƒç²—ç³™ï¼Œæ¯æ¬¡å‘¢ï¼Œä¹Ÿå°±æ˜¯æ¯å¤©çš„æ—©ä¸Šï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å»æ‰§è¡Œï¼Œç„¶åç”¨é¼ æ ‡å»ä¸€ç‚¹ç‚¹è°ƒæ•´å±•ç¤ºçª—å£çš„å¤§å°å’Œæ’åˆ—ï¼Œ","title":"åˆ›æ–°çš„ä¸»äººè¿˜æ˜¯é‡å¤çš„å¥´éš¶ï¼Ÿ"},{"content":" è®©è‡ªå·±ä¸åæ‚”çš„è¯ï¼Œé‚£å°±åŠ¨èµ·æ¥ï¼\nåŠ¨èµ·æ¥å°±èƒ½è½¬èµ·æ¥äº†ï¼\nâ€”â€” 2024å¹´4æœˆ12æ—¥è¡¥å……\nè¯è¯´ï¼Œé‡æ–°æ‹¾èµ·è¦å†æ¬¡è®°å½•çš„å¿µå¤´ï¼Œåº”è¯¥æ˜¯ä¸€å¹´å‰ï¼\næœ€æ—©å¼€å§‹æƒ³è¦è®°å½•ï¼Œåº”è¯¥æ˜¯å…­å¹´å‰ï¼å…­å¹´å•Šï¼ä¸€ææƒšå°±è¿‡å»äº†ï¼Ÿå¹¶ä¸”æœ€å¯æ€•çš„äº‹æƒ…ï¼Œå¯¹æ¯”ç°åœ¨çš„è‡ªå·±å’Œå…­å¹´å‰çš„è‡ªå·±ï¼Œä¼¼ä¹ï¼Œè¿˜ä¸å¦‚äº†ï¼Ÿï¼ï¼ï¼\nå…­å¹´ï¼Œ2190å¤©ï¼Œæ¯å¤©é€€æ­¥ä¸€ç‚¹ç‚¹ï¼Œ0.99çš„2190æ¬¡æ–¹ï¼š $$ 0.99^{6\\times365} = 2.7610621 \\times 10^{-10} = 0.00000000028 $$ çœŸçš„æ˜¯ï¼Œé€€æ­¥çš„ä¸èƒ½å†é€€æ­¥äº†ï¼Œä¹ŸçœŸçš„å¤ªå¯æ€•äº†ã€‚\næ—¶é—´æ— æƒ…çš„èµ°äº†ï¼Œè€Œæˆ‘å‘¢ï¼Œæ—¥å¤ä¸€æ—¥ï¼Œå¹´å¤ä¸€å¹´ï¼Œå¿™å¿™ç¢Œç¢Œï¼Œé‡é‡å¤å¤ï¼Œä¸€è·¯æ»‘å‘æ·±æ¸Šã€‚\nèƒ½ä¸èƒ½å†åšåˆ°ï¼Œæ¯å¤©æ€è€ƒå¹¶è®°å½•å‘¢ï¼Ÿä»¥å‰åšåˆ°è¿‡ï¼Œä½†æ˜¯ä¸­æ–­äº†ï¼Œèƒ½ä¸èƒ½åœ¨æ¡èµ·æ¥ï¼Œå†ç»§ç»­åšä¸‹å»ï¼\nä¸€ç›´å¯¹è‡ªå·±è¯´ï¼Œè‡ªå·±æ˜¯å†…é©±çš„ï¼Œè‡ªå·±æ˜¯è‡ªå¾‹ï¼Œç»“æœäº‹å®å´åœ¨æ‰“è‡ªå·±è„¸ã€‚\nä¸€æ ·ä¼šæ²‰è¿·äºç”µè§†å‰§ï¼Œä¸€æ ·ä¼šæ²‰æ²¦åœ¨æ¦‚ç‡æ¸¸æˆä¸­ã€‚\næ€»ä¹‹ï¼Œä¸çŸ¥å¥½æ­¹ï¼ï¼\n","permalink":"https://ahaknow.com/posts/diary/2024_first/","summary":"è®©è‡ªå·±ä¸åæ‚”çš„è¯ï¼Œé‚£å°±åŠ¨èµ·æ¥ï¼ åŠ¨èµ·æ¥å°±èƒ½è½¬èµ·æ¥äº†ï¼ â€”â€” 2024å¹´4æœˆ12æ—¥è¡¥å…… è¯è¯´ï¼Œé‡æ–°æ‹¾èµ·è¦å†æ¬¡è®°å½•çš„å¿µå¤´ï¼Œåº”è¯¥æ˜¯ä¸€å¹´å‰ï¼ æœ€æ—©å¼€å§‹æƒ³è¦è®°å½•","title":"2024å¹´çš„ç¬¬ä¸€ç¯‡è®°å½•"},{"content":"ğŸ’ŠLinuxè¯å‰‚ command-not-foundï¼šé‡è§å„ç§Command not foundæ—¶æœç”¨\ngitmojiï¼šGitæäº¤è¡¨æƒ…åŒ…\nğŸŒŠè‰ºæœ¯ç»†èƒ uhdpaperï¼šå½“éœ€è¦ä½¿ç”¨è¶…é«˜æ¸…å£çº¸æ—¶æœç”¨\næ— èŠäº†ï¼Ÿï¼šæ— èŠçš„æ—¶å€™ç‚¹çœ‹æœ‰æƒŠå–œï¼\nğŸ¥£æ—¥å¸¸æœç”¨ markdownæƒå¨æŒ‡å—ï¼šåŸºç¡€å’Œæ‹“å±•ä¸¤éƒ¨åˆ†è¯­æ³•\n","permalink":"https://ahaknow.com/toolkits/","summary":"ğŸ’ŠLinuxè¯å‰‚ command-not-foundï¼šé‡è§å„ç§Command not foundæ—¶æœç”¨ gitmojiï¼šGitæäº¤è¡¨æƒ…åŒ… ğŸŒŠè‰ºæœ¯ç»†èƒ uhd","title":"ğŸ§° åŒ»ç–—ç®±"}]